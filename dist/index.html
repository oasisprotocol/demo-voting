<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACVUlEQVRYw7VX7XGDMAxlhI7ACBmBDdoNygbNBskGcNcLkP4hG6QbMEJHYARGUG3ZfNh6TgxcdKdrzrWtJ+lJyEkSKy29JRfKk5papZ36fVZ/M15/qdSUJhWVSgfWWhkejX4rABf6mkBpNXs/+dwu0UYaKtRFZLXjNa01nSwYeqIdg9nkdU39dJEO9+jxcj1e2/iIXOgAjV85rLRD++cgfM8ruvN6w3mWlxpelJacGaveq8+tBmFy24vNRpHx0qmAGUQKnVneCyvHJRxxyM1FPTB+FOevag3lvKIbOF+g0LsoZ6/cwyMncArPi706PR92vQORWKTCRzka8b1vLCce88g19sOkTkXZ6hSyFJx7iQ55H1NKhgcymm50TISYC76hiv4sJ+6iqcT3kU5wBjmqbQOStDYtAyRljFQOIWfwkgttwh77aE3eSORyXSd1z+tw+8A42rKnZyCPtKGdSwckr4YEEC3j8hEbV4rvWEPv2DEEACJ9FQB/ozaOOLA3BTi1AyZhqDfESojEARLeokoG9f/wJx2nEJY86nioZPY0opp+LYA/2VsKNjZEfQt0Drf0gKudEZGjFlkpQma+B4fVUZDeh74F7WPUozHdE9wInYLGr+p/yHsczdSv2xIOk/NofntISDy24bkCzhSFGMnkHGciZRpVeHx3vZSjWR8/lPrDiHmEZBOI8cGCZ8Yj4MSGyXib5oATfXwz83O+bvbP9hl3geSBgVK+D8Y3oxnvu+D4vklMWnJbKZ3V1jI/W7wrTtMj1uxNk5eKNmpeyOcJlCbnCo//Aa4w+fZyijezAAAAAElFTkSuQmCC" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAO Sidekick</title>
    
    <style>
.account-picker-content[data-v-8ab7489c]{align-items:center;display:inline-flex;gap:.25rem}@media (min-width:1280px){.account-picker-content[data-v-8ab7489c]{gap:1.5rem}}.account-picker[data-v-8ab7489c]{align-items:center;border-radius:.75rem;display:inline-flex;height:3rem;height:-moz-fit-content;height:fit-content;--tw-border-opacity:1;border-color:rgb(0 0 98/var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));border-style:solid;border-width:3px;padding:.5rem}@media (max-width:1280px){.account-picker[data-v-8ab7489c]{border-width:1px}}span[data-v-8ab7489c]{font-size:1rem;line-height:1.5rem;text-align:right;--tw-text-opacity:1;color:rgb(0 0 98/var(--tw-text-opacity))}@media (min-width:1280px){span[data-v-8ab7489c]{font-size:1.125rem;line-height:1.75rem}}.unk-net[data-v-8ab7489c]{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity));text-decoration-line:underline;text-decoration-style:wavy;text-decoration-thickness:1px}/*! tailwindcss v3.4.1 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.pointer-events-none{pointer-events:none}.static{position:static}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-top-3{top:-.75rem}.bottom-2{bottom:.5rem}.right-5{right:1.25rem}.top-0{top:0}.top-6{top:1.5rem}.z-10{z-index:10}.m-5{margin:1.25rem}.m-auto{margin:auto}.mx-auto{margin-left:auto;margin-right:auto}.my-4{margin-bottom:1rem;margin-top:1rem}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-2{margin-bottom:.5rem}.mb-24{margin-bottom:6rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-6{margin-bottom:1.5rem}.ml-3{margin-left:.75rem}.ml-5{margin-left:1.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-1{margin-top:.25rem}.mt-10{margin-top:2.5rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.h-10{height:2.5rem}.h-12{height:3rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.w-5{width:1.25rem}.w-7{width:1.75rem}.w-full{width:100%}.max-w-screen-md{max-width:768px}.origin-\[0\]{transform-origin:0}.-translate-y-5{--tw-translate-y:-1.25rem}.-translate-y-5,.scale-75{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-75{--tw-scale-x:.75;--tw-scale-y:.75}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.list-disc{list-style-type:disc}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity))}.border-gray-500{--tw-border-opacity:1;border-color:rgb(107 114 128/var(--tw-border-opacity))}.border-gray-900{--tw-border-opacity:1;border-color:rgb(17 24 39/var(--tw-border-opacity))}.border-primary{--tw-border-opacity:1;border-color:rgb(51 51 204/var(--tw-border-opacity))}.border-primaryDark{--tw-border-opacity:1;border-color:rgb(0 0 98/var(--tw-border-opacity))}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity))}.bg-primary{--tw-bg-opacity:1;background-color:rgb(51 51 204/var(--tw-bg-opacity))}.bg-primaryMedium{--tw-bg-opacity:1;background-color:rgb(51 51 196/var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.bg-secondary{--tw-bg-opacity:1;background-color:rgb(56 152 236/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-5{padding-bottom:1.25rem;padding-top:1.25rem}.py-6{padding-bottom:1.5rem;padding-top:1.5rem}.pb-2{padding-bottom:.5rem}.pl-5{padding-left:1.25rem}.pt-5{padding-top:1.25rem}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-normal{font-weight:400}.capitalize{text-transform:capitalize}.leading-6{line-height:1.5rem}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-mediumDark{--tw-text-opacity:1;color:rgb(86 91 97/var(--tw-text-opacity))}.text-primaryDark{--tw-text-opacity:1;color:rgb(0 0 98/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.no-underline{text-decoration-line:none}.decoration-wavy{text-decoration-style:wavy}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.duration-300{transition-duration:.3s}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-0:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.peer:placeholder-shown~.peer-placeholder-shown\:translate-y-0{--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.peer:placeholder-shown~.peer-placeholder-shown\:scale-100{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.peer:focus~.peer-focus\:-translate-y-5{--tw-translate-y:-1.25rem}.peer:focus~.peer-focus\:-translate-y-5,.peer:focus~.peer-focus\:scale-75{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.peer:focus~.peer-focus\:scale-75{--tw-scale-x:.75;--tw-scale-y:.75}.peer:focus~.peer-focus\:text-primaryDark{--tw-text-opacity:1;color:rgb(0 0 98/var(--tw-text-opacity))}@media (min-width:640px){.sm\:h-9{height:2.25rem}}@media (min-width:1024px){.lg\:px-0{padding-left:0;padding-right:0}.lg\:text-lg{font-size:1.125rem;line-height:1.75rem}}@media (min-width:1280px){.xl\:px-0{padding-left:0;padding-right:0}.xl\:py-4{padding-bottom:1rem;padding-top:1rem}}.btn[data-v-d1538a39]{border-radius:.75rem;font-size:1.125rem;font-weight:400;line-height:1.75rem;padding:.75rem 2rem;text-transform:capitalize}.btn-small[data-v-d1538a39]{font-size:1rem;font-weight:400;line-height:1.5rem;padding:.25rem .5rem}.btn[data-v-d1538a39]:not(.btn-choice):not(.btn-tertiary):disabled{cursor:not-allowed;--tw-bg-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity))}.btn-primary[data-v-d1538a39]{background-color:rgb(56 152 236/var(--tw-bg-opacity))}.btn-primary[data-v-d1538a39],.btn-secondary[data-v-d1538a39]{border-radius:9999px;--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity));--tw-bg-opacity:1;--tw-text-opacity:1;border-width:1px;color:rgb(255 255 255/var(--tw-text-opacity))}.btn-secondary[data-v-d1538a39]{background-color:rgb(51 51 204/var(--tw-bg-opacity))}.btn-danger[data-v-d1538a39]{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.btn-tertiary[data-v-d1538a39]{background-color:transparent;padding-left:0;padding-right:0;--tw-text-opacity:1;color:rgb(86 91 97/var(--tw-text-opacity))}.btn-choice[data-v-d1538a39]{background-color:rgb(255 255 255/var(--tw-bg-opacity));border-color:rgb(51 51 204/var(--tw-border-opacity));border-radius:.75rem;border-style:solid;border-width:3px;box-shadow:0 7px 7px #0000002b;color:rgb(0 0 0/var(--tw-text-opacity))}.btn-choice[data-v-d1538a39],.btn-choice[data-v-d1538a39]:hover{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1}.btn-choice[data-v-d1538a39]:hover{border-color:rgb(255 255 255/var(--tw-border-opacity))}.btn-choice.selected[data-v-d1538a39],.btn-choice[data-v-d1538a39]:hover{background-color:rgb(51 51 196/var(--tw-bg-opacity));color:rgb(255 255 255/var(--tw-text-opacity))}.btn-choice.selected[data-v-d1538a39]{border-radius:.75rem;--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity));--tw-bg-opacity:1;--tw-text-opacity:1}.btn-choice.voted[data-v-d1538a39]{--tw-text-opacity:1;background:#e8faf3;border:3px solid #4cd4a9;color:rgb(0 0 0/var(--tw-text-opacity))}.btn-choice[data-v-d1538a39]:disabled{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity));--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.poll[data-v-e742322b]{border-radius:.75rem;--tw-border-opacity:1;border-color:rgb(51 51 204/var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));border-style:solid;border-width:3px;box-shadow:0 7px 7px #0000002b}form[data-v-2544254a],input[data-v-2544254a]{text-align:center}input[data-v-2544254a]{border-radius:.75rem;border-width:1px;display:block;margin:1rem auto;--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity));font-size:1.875rem;line-height:2.25rem;padding:.25rem}h2[data-v-2544254a]{font-size:1.5rem;font-weight:700;line-height:2rem;margin-bottom:.5rem;margin-top:.5rem}.success-info[data-v-23975bbd]{align-items:center;display:flex;flex-direction:column;margin-top:5vw}.form-group[data-v-eb0a99ea],.form-group-extended[data-v-eb0a99ea]{margin-bottom:1.5rem;position:relative}.form-group input[data-v-eb0a99ea],textarea[data-v-eb0a99ea]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.75rem;display:block;width:100%;--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;padding:1.5rem 1.25rem;--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.form-group input[data-v-eb0a99ea]:focus,textarea[data-v-eb0a99ea]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.form-group label[data-v-eb0a99ea]{left:1.25rem;position:absolute;top:1.5rem;transform-origin:0;z-index:10;--tw-translate-y:-1.25rem;--tw-scale-x:.75;--tw-scale-y:.75;font-size:1rem;line-height:1.5rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-text-opacity:1;color:rgb(0 0 98/var(--tw-text-opacity));transition-duration:.3s}.form-group-textarea[data-v-eb0a99ea]{overflow:hidden}.form-group-textarea textarea[data-v-eb0a99ea]{padding-top:1.5rem}.form-group-textarea label[data-v-eb0a99ea]{height:2.5rem;top:1.5rem;width:calc(130% - 14px)}.form-group-textarea label[data-v-eb0a99ea]:before{content:" ";height:2.5rem;position:absolute;top:-.75rem;width:calc(100% - 14px);z-index:-1}.form-group-extended[data-v-eb0a99ea],.form-group-textarea label[data-v-eb0a99ea]:before{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.form-group-extended[data-v-eb0a99ea]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.75rem;display:block;padding:1.5rem 1.25rem;width:100%}.form-group-extended[data-v-eb0a99ea]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.form-group-extended>label[data-v-eb0a99ea]{font-size:1rem;line-height:1.5rem;--tw-text-opacity:1;color:rgb(0 0 98/var(--tw-text-opacity))}.form-group-extended input[data-v-eb0a99ea]:not([type=checkbox]){border-bottom:1px solid rgba(0,0,0,.42);width:100%}.badge[data-v-02503d7b]{border-radius:9999px;padding:.5rem 1rem;--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.badge-active[data-v-02503d7b]{background-color:#4cd4a9}.badge-closed[data-v-02503d7b]{--tw-bg-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity))}.error[data-v-fab844a9]{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}

</style>
  </head>
  <body class="bg-primary">
    <div id="app">
      Application is loading Javascript...
    </div>
    <footer>
      Version 1.0.0 (5bc07b2b @ 2024-02-25)
    </footer>
  <script type="module" crossorigin>
var Z4=Object.defineProperty;var X4=(t,e,n)=>e in t?Z4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ex=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Q=(t,e,n)=>(X4(t,typeof e!="symbol"?e+"":e,n),n),L6=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var d=(t,e,n)=>(L6(t,e,"read from private field"),n?n.call(t):e.get(t)),$=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},R=(t,e,n,r)=>(L6(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var P0=(t,e,n,r)=>({set _(i){R(t,e,i,n)},get _(){return d(t,e,r)}}),re=(t,e,n)=>(L6(t,e,"access private method"),n);var uF=ex((yF,u1)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function a2(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const yn={},lc=[],f0=()=>{},tx=()=>!1,Ud=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),c2=t=>t.startsWith("onUpdate:"),Ur=Object.assign,K3=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},nx=Object.prototype.hasOwnProperty,en=(t,e)=>nx.call(t,e),vt=Array.isArray,uc=t=>Pl(t)==="[object Map]",Uf=t=>Pl(t)==="[object Set]",Db=t=>Pl(t)==="[object Date]",cn=t=>typeof t=="function",sr=t=>typeof t=="string",xo=t=>typeof t=="symbol",Pn=t=>t!==null&&typeof t=="object",W3=t=>(Pn(t)||cn(t))&&cn(t.then)&&cn(t.catch),Q3=Object.prototype.toString,Pl=t=>Q3.call(t),rx=t=>Pl(t).slice(8,-1),J3=t=>Pl(t)==="[object Object]",f2=t=>sr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hu=a2(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ix=/-(\w)/g,Ls=Dd(t=>t.replace(ix,(e,n)=>n?n.toUpperCase():"")),sx=/\B([A-Z])/g,Df=Dd(t=>t.replace(sx,"-$1").toLowerCase()),Hd=Dd(t=>t.charAt(0).toUpperCase()+t.slice(1)),F6=Dd(t=>t?`on${Hd(t)}`:""),wo=(t,e)=>!Object.is(t,e),bu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ju=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},I1=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Hb;const Y3=()=>Hb||(Hb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function l2(t){if(vt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=sr(r)?fx(r):l2(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(sr(t)||Pn(t))return t}const ox=/;(?![^(]*\))/g,ax=/:([^]+)/,cx=/\/\*[^]*?\*\//g;function fx(t){const e={};return t.replace(cx,"").split(ox).forEach(n=>{if(n){const r=n.split(ax);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Fs(t){let e="";if(sr(t))e=t;else if(vt(t))for(let n=0;n<t.length;n++){const r=Fs(t[n]);r&&(e+=r+" ")}else if(Pn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const lx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ux=a2(lx);function q3(t){return!!t||t===""}function dx(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=uf(t[r],e[r]);return n}function uf(t,e){if(t===e)return!0;let n=Db(t),r=Db(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=xo(t),r=xo(e),n||r)return t===e;if(n=vt(t),r=vt(e),n||r)return n&&r?dx(t,e):!1;if(n=Pn(t),r=Pn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!uf(t[o],e[o]))return!1}}return String(t)===String(e)}function u2(t,e){return t.findIndex(n=>uf(n,e))}const Yt=t=>sr(t)?t:t==null?"":vt(t)||Pn(t)&&(t.toString===Q3||!cn(t.toString))?JSON.stringify(t,Z3,2):String(t),Z3=(t,e)=>e&&e.__v_isRef?Z3(t,e.value):uc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[M6(r,s)+" =>"]=i,n),{})}:Uf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>M6(n))}:xo(e)?M6(e):Pn(e)&&!vt(e)&&!J3(e)?String(e):e,M6=(t,e="")=>{var n;return xo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ai;class X3{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ai,!e&&ai&&(this.index=(ai.scopes||(ai.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ai;try{return ai=this,e()}finally{ai=n}}}on(){ai=this}off(){ai=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function eg(t){return new X3(t)}function hx(t,e=ai){e&&e.active&&e.effects.push(t)}function tg(){return ai}function bx(t){ai&&ai.cleanups.push(t)}let ga;class d2{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,hx(this,i)}get dirty(){if(this._dirtyLevel===1){Hf();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(px(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Gf()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=po,n=ga;try{return po=!0,ga=this,this._runnings++,Gb(this),this.fn()}finally{Vb(this),this._runnings--,ga=n,po=e}}stop(){var e;this.active&&(Gb(this),Vb(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function px(t){return t.value}function Gb(t){t._trackId++,t._depsLength=0}function Vb(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)ng(t.deps[e],t);t.deps.length=t._depsLength}}function ng(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let po=!0,Rh=0;const rg=[];function Hf(){rg.push(po),po=!1}function Gf(){const t=rg.pop();po=t===void 0?!0:t}function h2(){Rh++}function b2(){for(Rh--;!Rh&&Nh.length;)Nh.shift()()}function ig(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&ng(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Nh=[];function sg(t,e,n){h2();for(const r of t.keys())if(r._dirtyLevel<e&&t.get(r)===r._trackId){const i=r._dirtyLevel;r._dirtyLevel=e,i===0&&(r._shouldSchedule=!0,r.trigger())}og(t),b2()}function og(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,Nh.push(e.scheduler))}const ag=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Yu=new WeakMap,ma=Symbol(""),Oh=Symbol("");function Yr(t,e,n){if(po&&ga){let r=Yu.get(t);r||Yu.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=ag(()=>r.delete(n))),ig(ga,i)}}function d0(t,e,n,r,i,s){const o=Yu.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&vt(t)){const c=Number(r);o.forEach((f,l)=>{(l==="length"||!xo(l)&&l>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":vt(t)?f2(n)&&a.push(o.get("length")):(a.push(o.get(ma)),uc(t)&&a.push(o.get(Oh)));break;case"delete":vt(t)||(a.push(o.get(ma)),uc(t)&&a.push(o.get(Oh)));break;case"set":uc(t)&&a.push(o.get(ma));break}h2();for(const c of a)c&&sg(c,2);b2()}function gx(t,e){var n;return(n=Yu.get(t))==null?void 0:n.get(e)}const mx=a2("__proto__,__v_isRef,__isVue"),cg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xo)),$b=yx();function yx(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=tn(this);for(let s=0,o=this.length;s<o;s++)Yr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(tn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Hf(),h2();const r=tn(this)[e].apply(this,n);return b2(),Gf(),r}}),t}function xx(t){const e=tn(this);return Yr(e,"has",t),e.hasOwnProperty(t)}class fg{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Rx:hg:s?dg:ug).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=vt(e);if(!i){if(o&&en($b,n))return Reflect.get($b,n,r);if(n==="hasOwnProperty")return xx}const a=Reflect.get(e,n,r);return(xo(n)?cg.has(n):mx(n))||(i||Yr(e,"get",n),s)?a:Yn(a)?o&&f2(n)?a:a.value:Pn(a)?i?pg(a):Vd(a):a}}class lg extends fg{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._shallow){const c=df(s);if(!qu(r)&&!df(r)&&(s=tn(s),r=tn(r)),!vt(e)&&Yn(s)&&!Yn(r))return c?!1:(s.value=r,!0)}const o=vt(e)&&f2(n)?Number(n)<e.length:en(e,n),a=Reflect.set(e,n,r,i);return e===tn(i)&&(o?wo(r,s)&&d0(e,"set",n,r):d0(e,"add",n,r)),a}deleteProperty(e,n){const r=en(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&d0(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!xo(n)||!cg.has(n))&&Yr(e,"has",n),r}ownKeys(e){return Yr(e,"iterate",vt(e)?"length":ma),Reflect.ownKeys(e)}}class wx extends fg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vx=new lg,Ex=new wx,Ax=new lg(!0),p2=t=>t,Gd=t=>Reflect.getPrototypeOf(t);function Vl(t,e,n=!1,r=!1){t=t.__v_raw;const i=tn(t),s=tn(e);n||(wo(e,s)&&Yr(i,"get",e),Yr(i,"get",s));const{has:o}=Gd(i),a=r?p2:n?y2:C1;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function $l(t,e=!1){const n=this.__v_raw,r=tn(n),i=tn(t);return e||(wo(t,i)&&Yr(r,"has",t),Yr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function zl(t,e=!1){return t=t.__v_raw,!e&&Yr(tn(t),"iterate",ma),Reflect.get(t,"size",t)}function zb(t){t=tn(t);const e=tn(this);return Gd(e).has.call(e,t)||(e.add(t),d0(e,"add",t,t)),this}function jb(t,e){e=tn(e);const n=tn(this),{has:r,get:i}=Gd(n);let s=r.call(n,t);s||(t=tn(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?wo(e,o)&&d0(n,"set",t,e):d0(n,"add",t,e),this}function Kb(t){const e=tn(this),{has:n,get:r}=Gd(e);let i=n.call(e,t);i||(t=tn(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&d0(e,"delete",t,void 0),s}function Wb(){const t=tn(this),e=t.size!==0,n=t.clear();return e&&d0(t,"clear",void 0,void 0),n}function jl(t,e){return function(r,i){const s=this,o=s.__v_raw,a=tn(o),c=e?p2:t?y2:C1;return!t&&Yr(a,"iterate",ma),o.forEach((f,l)=>r.call(i,c(f),c(l),s))}}function Kl(t,e,n){return function(...r){const i=this.__v_raw,s=tn(i),o=uc(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=i[t](...r),l=n?p2:e?y2:C1;return!e&&Yr(s,"iterate",c?Oh:ma),{next(){const{value:u,done:p}=f.next();return p?{value:u,done:p}:{value:a?[l(u[0]),l(u[1])]:l(u),done:p}},[Symbol.iterator](){return this}}}}function T0(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _x(){const t={get(s){return Vl(this,s)},get size(){return zl(this)},has:$l,add:zb,set:jb,delete:Kb,clear:Wb,forEach:jl(!1,!1)},e={get(s){return Vl(this,s,!1,!0)},get size(){return zl(this)},has:$l,add:zb,set:jb,delete:Kb,clear:Wb,forEach:jl(!1,!0)},n={get(s){return Vl(this,s,!0)},get size(){return zl(this,!0)},has(s){return $l.call(this,s,!0)},add:T0("add"),set:T0("set"),delete:T0("delete"),clear:T0("clear"),forEach:jl(!0,!1)},r={get(s){return Vl(this,s,!0,!0)},get size(){return zl(this,!0)},has(s){return $l.call(this,s,!0)},add:T0("add"),set:T0("set"),delete:T0("delete"),clear:T0("clear"),forEach:jl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Kl(s,!1,!1),n[s]=Kl(s,!0,!1),e[s]=Kl(s,!1,!0),r[s]=Kl(s,!0,!0)}),[t,n,e,r]}const[Px,Tx,Ix,Cx]=_x();function g2(t,e){const n=e?t?Cx:Ix:t?Tx:Px;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(en(n,i)&&i in r?n:r,i,s)}const Sx={get:g2(!1,!1)},kx={get:g2(!1,!0)},Bx={get:g2(!0,!1)},ug=new WeakMap,dg=new WeakMap,hg=new WeakMap,Rx=new WeakMap;function Nx(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ox(t){return t.__v_skip||!Object.isExtensible(t)?0:Nx(rx(t))}function Vd(t){return df(t)?t:m2(t,!1,vx,Sx,ug)}function bg(t){return m2(t,!1,Ax,kx,dg)}function pg(t){return m2(t,!0,Ex,Bx,hg)}function m2(t,e,n,r,i){if(!Pn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Ox(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function go(t){return df(t)?go(t.__v_raw):!!(t&&t.__v_isReactive)}function df(t){return!!(t&&t.__v_isReadonly)}function qu(t){return!!(t&&t.__v_isShallow)}function gg(t){return go(t)||df(t)}function tn(t){const e=t&&t.__v_raw;return e?tn(e):t}function $d(t){return Ju(t,"__v_skip",!0),t}const C1=t=>Pn(t)?Vd(t):t,y2=t=>Pn(t)?pg(t):t;class mg{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new d2(()=>e(this._value),()=>pu(this,1),()=>this.dep&&og(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=tn(this);return(!e._cacheable||e.effect.dirty)&&wo(e._value,e._value=e.effect.run())&&pu(e,2),yg(e),e.effect._dirtyLevel>=1&&pu(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Lx(t,e,n=!1){let r,i;const s=cn(t);return s?(r=t,i=f0):(r=t.get,i=t.set),new mg(r,i,s||!i,n)}function yg(t){po&&ga&&(t=tn(t),ig(ga,t.dep||(t.dep=ag(()=>t.dep=void 0,t instanceof mg?t:void 0))))}function pu(t,e=2,n){t=tn(t);const r=t.dep;r&&sg(r,e)}function Yn(t){return!!(t&&t.__v_isRef===!0)}function Ye(t){return xg(t,!1)}function Zu(t){return xg(t,!0)}function xg(t,e){return Yn(t)?t:new Fx(t,e)}class Fx{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:tn(e),this._value=n?e:C1(e)}get value(){return yg(this),this._value}set value(e){const n=this.__v_isShallow||qu(e)||df(e);e=n?e:tn(e),wo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:C1(e),pu(this,2))}}function Et(t){return Yn(t)?t.value:t}function ct(t){return cn(t)?t():Et(t)}const Mx={get:(t,e,n)=>Et(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Yn(i)&&!Yn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function wg(t){return go(t)?t:new Proxy(t,Mx)}function Ux(t){const e=vt(t)?new Array(t.length):{};for(const n in t)e[n]=Hx(t,n);return e}class Dx{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return gx(tn(this._object),this._key)}}function Hx(t,e,n){const r=t[e];return Yn(r)?r:new Dx(t,e,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mo(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){zd(s,e,n)}return i}function Rs(t,e,n,r){if(cn(t)){const s=mo(t,e,n,r);return s&&W3(s)&&s.catch(o=>{zd(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Rs(t[s],e,n,r));return i}function zd(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const f=s.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){mo(c,null,10,[t,o,a]);return}}Gx(t,n,i,r)}function Gx(t,e,n,r=!0){console.error(t)}let S1=!1,Lh=!1;const wr=[];let Ps=0;const dc=[];let M0=null,Ro=0;const vg=Promise.resolve();let x2=null;function jd(t){const e=x2||vg;return t?e.then(this?t.bind(this):t):e}function Vx(t){let e=Ps+1,n=wr.length;for(;e<n;){const r=e+n>>>1,i=wr[r],s=k1(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function w2(t){(!wr.length||!wr.includes(t,S1&&t.allowRecurse?Ps+1:Ps))&&(t.id==null?wr.push(t):wr.splice(Vx(t.id),0,t),Eg())}function Eg(){!S1&&!Lh&&(Lh=!0,x2=vg.then(_g))}function $x(t){const e=wr.indexOf(t);e>Ps&&wr.splice(e,1)}function zx(t){vt(t)?dc.push(...t):(!M0||!M0.includes(t,t.allowRecurse?Ro+1:Ro))&&dc.push(t),Eg()}function Qb(t,e,n=S1?Ps+1:0){for(;n<wr.length;n++){const r=wr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;wr.splice(n,1),n--,r()}}}function Ag(t){if(dc.length){const e=[...new Set(dc)].sort((n,r)=>k1(n)-k1(r));if(dc.length=0,M0){M0.push(...e);return}for(M0=e,Ro=0;Ro<M0.length;Ro++)M0[Ro]();M0=null,Ro=0}}const k1=t=>t.id==null?1/0:t.id,jx=(t,e)=>{const n=k1(t)-k1(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function _g(t){Lh=!1,S1=!0,wr.sort(jx);try{for(Ps=0;Ps<wr.length;Ps++){const e=wr[Ps];e&&e.active!==!1&&mo(e,null,14)}}finally{Ps=0,wr.length=0,Ag(),S1=!1,x2=null,(wr.length||dc.length)&&_g()}}function Kx(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||yn;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:p}=r[l]||yn;p&&(i=n.map(m=>sr(m)?m.trim():m)),u&&(i=n.map(I1))}let a,c=r[a=F6(e)]||r[a=F6(Ls(e))];!c&&s&&(c=r[a=F6(Df(e))]),c&&Rs(c,t,6,i);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Rs(f,t,6,i)}}function Wx(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={};return!s&&!!1?(Pn(t)&&r.set(t,null),null):(vt(s)?s.forEach(c=>o[c]=null):Ur(o,s),Pn(t)&&r.set(t,o),o)}function Kd(t,e){return!t||!Ud(e)?!1:(e=e.slice(2).replace(/Once$/,""),en(t,e[0].toLowerCase()+e.slice(1))||en(t,Df(e))||en(t,e))}let Vn=null,Wd=null;function Xu(t){const e=Vn;return Vn=t,Wd=t&&t.type.__scopeId||null,e}function Qd(t){Wd=t}function Jd(){Wd=null}function dn(t,e=Vn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&sp(-1);const s=Xu(e);let o;try{o=t(...i)}finally{Xu(s),r._d&&sp(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function U6(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:c,emit:f,render:l,renderCache:u,data:p,setupState:m,ctx:A,inheritAttrs:E}=t;let I,w;const N=Xu(t);try{if(n.shapeFlag&4){const U=i||r,H=U;I=_s(l.call(H,U,u,s,m,p,A)),w=c}else{const U=e;I=_s(U.length>1?U(s,{attrs:c,slots:a,emit:f}):U(s,null)),w=e.props?c:Qx(c)}}catch(U){b1.length=0,zd(U,t,1),I=qe(Eo)}let F=I;if(w&&E!==!1){const U=Object.keys(w),{shapeFlag:H}=F;U.length&&H&7&&(o&&U.some(c2)&&(w=Jx(w,o)),F=bf(F,w))}return n.dirs&&(F=bf(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),I=F,Xu(N),I}const Qx=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ud(n))&&((e||(e={}))[n]=t[n]);return e},Jx=(t,e)=>{const n={};for(const r in t)(!c2(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Yx(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Jb(r,o,f):!!o;if(c&8){const l=e.dynamicProps;for(let u=0;u<l.length;u++){const p=l[u];if(o[p]!==r[p]&&!Kd(f,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Jb(r,o,f):!0:!!o;return!1}function Jb(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Kd(n,s))return!0}return!1}function qx({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Pg="components";function Tl(t,e){return Xx(Pg,t,!0,e)||t}const Zx=Symbol.for("v-ndc");function Xx(t,e,n=!0,r=!1){const i=Vn||Or;if(i){const s=i.type;if(t===Pg){const a=Uw(s,!1);if(a&&(a===e||a===Ls(e)||a===Hd(Ls(e))))return s}const o=Yb(i[t]||s[t],e)||Yb(i.appContext[t],e);return!o&&r?s:o}}function Yb(t,e){return t&&(t[e]||t[Ls(e)]||t[Hd(Ls(e))])}const ew=t=>t.__isSuspense;function tw(t,e){e&&e.pendingBranch?vt(t)?e.effects.push(...t):e.effects.push(t):zx(t)}const nw=Symbol.for("v-scx"),rw=()=>vo(nw),Wl={};function hf(t,e,n){return iw(t,e,n)}function iw(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=yn){if(e&&s){const z=e;e=(...ce)=>{z(...ce),H()}}const c=Or,f=z=>r===!0?z:Mo(z,r===!1?1:void 0);let l,u=!1,p=!1;if(Yn(t)?(l=()=>t.value,u=qu(t)):go(t)?(l=()=>f(t),u=!0):vt(t)?(p=!0,u=t.some(z=>go(z)||qu(z)),l=()=>t.map(z=>{if(Yn(z))return z.value;if(go(z))return f(z);if(cn(z))return mo(z,c,2)})):cn(t)?e?l=()=>mo(t,c,2):l=()=>(m&&m(),Rs(t,c,3,[A])):l=f0,e&&r){const z=l;l=()=>Mo(z())}let m,A=z=>{m=F.onStop=()=>{mo(z,c,4),m=F.onStop=void 0}},E;if(Xd)if(A=f0,e?n&&Rs(e,c,3,[l(),p?[]:void 0,A]):l(),i==="sync"){const z=rw();E=z.__watcherHandles||(z.__watcherHandles=[])}else return f0;let I=p?new Array(t.length).fill(Wl):Wl;const w=()=>{if(!(!F.active||!F.dirty))if(e){const z=F.run();(r||u||(p?z.some((ce,ee)=>wo(ce,I[ee])):wo(z,I)))&&(m&&m(),Rs(e,c,3,[z,I===Wl?void 0:p&&I[0]===Wl?[]:I,A]),I=z)}else F.run()};w.allowRecurse=!!e;let N;i==="sync"?N=w:i==="post"?N=()=>Hr(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),N=()=>w2(w));const F=new d2(l,f0,N),U=tg(),H=()=>{F.stop(),U&&K3(U.effects,F)};return e?n?w():I=F.run():i==="post"?Hr(F.run.bind(F),c&&c.suspense):F.run(),E&&E.push(H),H}function Mo(t,e,n=0,r){if(!Pn(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),Yn(t))Mo(t.value,e,n,r);else if(vt(t))for(let i=0;i<t.length;i++)Mo(t[i],e,n,r);else if(Uf(t)||uc(t))t.forEach(i=>{Mo(i,e,n,r)});else if(J3(t))for(const i in t)Mo(t[i],e,n,r);return t}function lr(t,e){if(Vn===null)return t;const n=e6(Vn)||Vn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=yn]=e[i];s&&(cn(s)&&(s={mounted:s,updated:s}),s.deep&&Mo(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Io(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[r];c&&(Hf(),Rs(c,n,8,[t.el,a,t,e]),Gf())}}/*! #__NO_SIDE_EFFECTS__ */function Ar(t,e){return cn(t)?Ur({name:t.name},e,{setup:t}):t}const d1=t=>!!t.type.__asyncLoader,sw=t=>t.type.__isKeepAlive;function ow(t,e,n=Or,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Hf();const a=_2(n),c=Rs(e,n,t,o);return a(),Gf(),c});return r?i.unshift(s):i.push(s),s}}const Tg=t=>(e,n=Or)=>(!Xd||t==="sp")&&ow(t,(...r)=>e(...r),n),Yd=Tg("m"),aw=Tg("um");function Bs(t,e,n,r){let i;const s=n&&n[r];if(vt(t)||sr(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Pn(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const f=o[a];i[a]=e(t[f],f,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function v2(t,e,n={},r,i){if(Vn.isCE||Vn.parent&&d1(Vn.parent)&&Vn.parent.isCE)return e!=="default"&&(n.name=e),qe("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),be();const o=s&&Ig(s(n)),a=Wn(kn,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Ig(t){return t.some(e=>td(e)?!(e.type===Eo||e.type===kn&&!Ig(e.children)):!0)?t:null}const Fh=t=>t?Mg(t)?e6(t)||t.proxy:Fh(t.parent):null,h1=Ur(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fh(t.parent),$root:t=>Fh(t.root),$emit:t=>t.emit,$options:t=>t.type,$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,w2(t.update)}),$nextTick:t=>t.n||(t.n=jd.bind(t.proxy)),$watch:t=>f0}),D6=(t,e)=>t!==yn&&!t.__isScriptSetup&&en(t,e),cw={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let f;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(D6(r,e))return o[e]=1,r[e];if(i!==yn&&en(i,e))return o[e]=2,i[e];if((f=t.propsOptions[0])&&en(f,e))return o[e]=3,s[e];if(n!==yn&&en(n,e))return o[e]=4,n[e];o[e]=0}}const l=h1[e];let u,p;if(l)return e==="$attrs"&&Yr(t,"get",e),l(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==yn&&en(n,e))return o[e]=4,n[e];if(p=c.config.globalProperties,en(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return D6(i,e)?(i[e]=n,!0):r!==yn&&en(r,e)?(r[e]=n,!0):en(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==yn&&en(t,o)||D6(e,o)||(a=s[0])&&en(a,o)||en(r,o)||en(h1,o)||en(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:en(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function qb(t){return vt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function fw(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(f=>ed(c,f,o,!0)),ed(c,e,o)),Pn(e)&&s.set(e,c),c}function ed(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&ed(t,s,n,!0),i&&i.forEach(o=>ed(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=lw[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const lw={data:Zb,props:ep,emits:ep,methods:n1,computed:n1,beforeCreate:Pr,created:Pr,beforeMount:Pr,mounted:Pr,beforeUpdate:Pr,updated:Pr,beforeDestroy:Pr,beforeUnmount:Pr,destroyed:Pr,unmounted:Pr,activated:Pr,deactivated:Pr,errorCaptured:Pr,serverPrefetch:Pr,components:n1,directives:n1,watch:dw,provide:Zb,inject:uw};function Zb(t,e){return e?t?function(){return Ur(cn(t)?t.call(this,this):t,cn(e)?e.call(this,this):e)}:e:t}function uw(t,e){return n1(Xb(t),Xb(e))}function Xb(t){if(vt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Pr(t,e){return t?[...new Set([].concat(t,e))]:e}function n1(t,e){return t?Ur(Object.create(null),t,e):e}function ep(t,e){return t?vt(t)&&vt(e)?[...new Set([...t,...e])]:Ur(Object.create(null),qb(t),qb(e??{})):e}function dw(t,e){if(!t)return e;if(!e)return t;const n=Ur(Object.create(null),t);for(const r in e)n[r]=Pr(t[r],e[r]);return n}function Cg(){return{app:null,config:{isNativeTag:tx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hw=0;function bw(t,e){return function(r,i=null){cn(r)||(r=Ur({},r)),i!=null&&!Pn(i)&&(i=null);const s=Cg(),o=new WeakSet;let a=!1;const c=s.app={_uid:hw++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Hw,get config(){return s.config},set config(f){},use(f,...l){return o.has(f)||(f&&cn(f.install)?(o.add(f),f.install(c,...l)):cn(f)&&(o.add(f),f(c,...l))),c},mixin(f){return c},component(f,l){return l?(s.components[f]=l,c):s.components[f]},directive(f,l){return l?(s.directives[f]=l,c):s.directives[f]},mount(f,l,u){if(!a){const p=qe(r,i);return p.appContext=s,u===!0?u="svg":u===!1&&(u=void 0),l&&e?e(p,f):t(p,f,u),a=!0,c._container=f,f.__vue_app__=c,e6(p.component)||p.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,l){return s.provides[f]=l,c},runWithContext(f){B1=c;try{return f()}finally{B1=null}}};return c}}let B1=null;function H6(t,e){if(Or){let n=Or.provides;const r=Or.parent&&Or.parent.provides;r===n&&(n=Or.provides=Object.create(r)),n[t]=e}}function vo(t,e,n=!1){const r=Or||Vn;if(r||B1){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:B1._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&cn(e)?e.call(r&&r.proxy):e}}function pw(){return!!(Or||Vn||B1)}function gw(t,e,n,r=!1){const i={},s={};Ju(s,Zd,1),t.propsDefaults=Object.create(null),Sg(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:bg(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function mw(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=tn(i),[c]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let u=0;u<l.length;u++){let p=l[u];if(Kd(t.emitsOptions,p))continue;const m=e[p];if(c)if(en(s,p))m!==s[p]&&(s[p]=m,f=!0);else{const A=Ls(p);i[A]=Mh(c,a,A,m,t,!1)}else m!==s[p]&&(s[p]=m,f=!0)}}}else{Sg(t,e,i,s)&&(f=!0);let l;for(const u in a)(!e||!en(e,u)&&((l=Df(u))===u||!en(e,l)))&&(c?n&&(n[u]!==void 0||n[l]!==void 0)&&(i[u]=Mh(c,a,u,void 0,t,!0)):delete i[u]);if(s!==a)for(const u in s)(!e||!en(e,u))&&(delete s[u],f=!0)}f&&d0(t,"set","$attrs")}function Sg(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(hu(c))continue;const f=e[c];let l;i&&en(i,l=Ls(c))?!s||!s.includes(l)?n[l]=f:(a||(a={}))[l]=f:Kd(t.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,o=!0)}if(s){const c=tn(n),f=a||yn;for(let l=0;l<s.length;l++){const u=s[l];n[u]=Mh(i,c,u,f[u],t,!en(f,u))}}return o}function Mh(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=en(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&cn(c)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const l=_2(i);r=f[n]=c.call(null,e),l()}}else r=c}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Df(n))&&(r=!0))}return r}function yw(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];if(!s&&!!1)return Pn(t)&&r.set(t,lc),lc;if(vt(s))for(let l=0;l<s.length;l++){const u=Ls(s[l]);tp(u)&&(o[u]=yn)}else if(s)for(const l in s){const u=Ls(l);if(tp(u)){const p=s[l],m=o[u]=vt(p)||cn(p)?{type:p}:Ur({},p);if(m){const A=ip(Boolean,m.type),E=ip(String,m.type);m[0]=A>-1,m[1]=E<0||A<E,(A>-1||en(m,"default"))&&a.push(u)}}}const f=[o,a];return Pn(t)&&r.set(t,f),f}function tp(t){return t[0]!=="$"}function np(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function rp(t,e){return np(t)===np(e)}function ip(t,e){return vt(e)?e.findIndex(n=>rp(n,t)):cn(e)&&rp(e,t)?0:-1}const kg=t=>t[0]==="_"||t==="$stable",E2=t=>vt(t)?t.map(_s):[_s(t)],xw=(t,e,n)=>{if(e._n)return e;const r=dn((...i)=>E2(e(...i)),n);return r._c=!1,r},Bg=(t,e,n)=>{const r=t._ctx;for(const i in t){if(kg(i))continue;const s=t[i];if(cn(s))e[i]=xw(i,s,r);else if(s!=null){const o=E2(s);e[i]=()=>o}}},Rg=(t,e)=>{const n=E2(e);t.slots.default=()=>n},ww=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=tn(e),Ju(e,"_",n)):Bg(e,t.slots={})}else t.slots={},e&&Rg(t,e);Ju(t.slots,Zd,1)},vw=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=yn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Ur(i,e),!n&&a===1&&delete i._):(s=!e.$stable,Bg(e,i)),o=e}else e&&(Rg(t,e),o={default:1});if(s)for(const a in i)!kg(a)&&o[a]==null&&delete i[a]};function Uh(t,e,n,r,i=!1){if(vt(t)){t.forEach((p,m)=>Uh(p,e&&(vt(e)?e[m]:e),n,r,i));return}if(d1(r)&&!i)return;const s=r.shapeFlag&4?e6(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:c}=t,f=e&&e.r,l=a.refs===yn?a.refs={}:a.refs,u=a.setupState;if(f!=null&&f!==c&&(sr(f)?(l[f]=null,en(u,f)&&(u[f]=null)):Yn(f)&&(f.value=null)),cn(c))mo(c,a,12,[o,l]);else{const p=sr(c),m=Yn(c),A=t.f;if(p||m){const E=()=>{if(A){const I=p?en(u,c)?u[c]:l[c]:c.value;i?vt(I)&&K3(I,s):vt(I)?I.includes(s)||I.push(s):p?(l[c]=[s],en(u,c)&&(u[c]=l[c])):(c.value=[s],t.k&&(l[t.k]=c.value))}else p?(l[c]=o,en(u,c)&&(u[c]=o)):m&&(c.value=o,t.k&&(l[t.k]=o))};i||A?E():(E.id=-1,Hr(E,n))}}}const Hr=tw;function Ew(t){return Aw(t)}function Aw(t,e){const n=Y3();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:f,setElementText:l,parentNode:u,nextSibling:p,setScopeId:m=f0,insertStaticContent:A}=t,E=(x,_,G,Y=null,K=null,ne=null,we=void 0,ye=null,_e=!!_.dynamicChildren)=>{if(x===_)return;x&&!Yf(x,_)&&(Y=O(x),Me(x,K,ne,!0),x=null),_.patchFlag===-2&&(_e=!1,_.dynamicChildren=null);const{type:le,ref:Ie,shapeFlag:Fe}=_;switch(le){case qd:I(x,_,G,Y);break;case Eo:w(x,_,G,Y);break;case V6:x==null&&N(_,G,Y,we);break;case kn:lt(x,_,G,Y,K,ne,we,ye,_e);break;default:Fe&1?H(x,_,G,Y,K,ne,we,ye,_e):Fe&6?ot(x,_,G,Y,K,ne,we,ye,_e):(Fe&64||Fe&128)&&le.process(x,_,G,Y,K,ne,we,ye,_e,oe)}Ie!=null&&K&&Uh(Ie,x&&x.ref,ne,_||x,!_)},I=(x,_,G,Y)=>{if(x==null)r(_.el=a(_.children),G,Y);else{const K=_.el=x.el;_.children!==x.children&&f(K,_.children)}},w=(x,_,G,Y)=>{x==null?r(_.el=c(_.children||""),G,Y):_.el=x.el},N=(x,_,G,Y)=>{[x.el,x.anchor]=A(x.children,_,G,Y,x.el,x.anchor)},F=({el:x,anchor:_},G,Y)=>{let K;for(;x&&x!==_;)K=p(x),r(x,G,Y),x=K;r(_,G,Y)},U=({el:x,anchor:_})=>{let G;for(;x&&x!==_;)G=p(x),i(x),x=G;i(_)},H=(x,_,G,Y,K,ne,we,ye,_e)=>{_.type==="svg"?we="svg":_.type==="math"&&(we="mathml"),x==null?z(_,G,Y,K,ne,we,ye,_e):ae(x,_,K,ne,we,ye,_e)},z=(x,_,G,Y,K,ne,we,ye)=>{let _e,le;const{props:Ie,shapeFlag:Fe,transition:Oe,dirs:Xe}=x;if(_e=x.el=o(x.type,ne,Ie&&Ie.is,Ie),Fe&8?l(_e,x.children):Fe&16&&ee(x.children,_e,null,Y,K,G6(x,ne),we,ye),Xe&&Io(x,null,Y,"created"),ce(_e,x,x.scopeId,we,Y),Ie){for(const b in Ie)b!=="value"&&!hu(b)&&s(_e,b,null,Ie[b],ne,x.children,Y,K,V);"value"in Ie&&s(_e,"value",null,Ie.value,ne),(le=Ie.onVnodeBeforeMount)&&ds(le,Y,x)}Xe&&Io(x,null,Y,"beforeMount");const v=_w(K,Oe);v&&Oe.beforeEnter(_e),r(_e,_,G),((le=Ie&&Ie.onVnodeMounted)||v||Xe)&&Hr(()=>{le&&ds(le,Y,x),v&&Oe.enter(_e),Xe&&Io(x,null,Y,"mounted")},K)},ce=(x,_,G,Y,K)=>{if(G&&m(x,G),Y)for(let ne=0;ne<Y.length;ne++)m(x,Y[ne]);if(K){let ne=K.subTree;if(_===ne){const we=K.vnode;ce(x,we,we.scopeId,we.slotScopeIds,K.parent)}}},ee=(x,_,G,Y,K,ne,we,ye,_e=0)=>{for(let le=_e;le<x.length;le++){const Ie=x[le]=ye?U0(x[le]):_s(x[le]);E(null,Ie,_,G,Y,K,ne,we,ye)}},ae=(x,_,G,Y,K,ne,we)=>{const ye=_.el=x.el;let{patchFlag:_e,dynamicChildren:le,dirs:Ie}=_;_e|=x.patchFlag&16;const Fe=x.props||yn,Oe=_.props||yn;let Xe;if(G&&Co(G,!1),(Xe=Oe.onVnodeBeforeUpdate)&&ds(Xe,G,_,x),Ie&&Io(_,x,G,"beforeUpdate"),G&&Co(G,!0),le?Te(x.dynamicChildren,le,ye,G,Y,G6(_,K),ne):we||tt(x,_,ye,null,G,Y,G6(_,K),ne,!1),_e>0){if(_e&16)Ce(ye,_,Fe,Oe,G,Y,K);else if(_e&2&&Fe.class!==Oe.class&&s(ye,"class",null,Oe.class,K),_e&4&&s(ye,"style",Fe.style,Oe.style,K),_e&8){const v=_.dynamicProps;for(let b=0;b<v.length;b++){const g=v[b],B=Fe[g],D=Oe[g];(D!==B||g==="value")&&s(ye,g,B,D,K,x.children,G,Y,V)}}_e&1&&x.children!==_.children&&l(ye,_.children)}else!we&&le==null&&Ce(ye,_,Fe,Oe,G,Y,K);((Xe=Oe.onVnodeUpdated)||Ie)&&Hr(()=>{Xe&&ds(Xe,G,_,x),Ie&&Io(_,x,G,"updated")},Y)},Te=(x,_,G,Y,K,ne,we)=>{for(let ye=0;ye<_.length;ye++){const _e=x[ye],le=_[ye],Ie=_e.el&&(_e.type===kn||!Yf(_e,le)||_e.shapeFlag&70)?u(_e.el):G;E(_e,le,Ie,null,Y,K,ne,we,!0)}},Ce=(x,_,G,Y,K,ne,we)=>{if(G!==Y){if(G!==yn)for(const ye in G)!hu(ye)&&!(ye in Y)&&s(x,ye,G[ye],null,we,_.children,K,ne,V);for(const ye in Y){if(hu(ye))continue;const _e=Y[ye],le=G[ye];_e!==le&&ye!=="value"&&s(x,ye,le,_e,we,_.children,K,ne,V)}"value"in Y&&s(x,"value",G.value,Y.value,we)}},lt=(x,_,G,Y,K,ne,we,ye,_e)=>{const le=_.el=x?x.el:a(""),Ie=_.anchor=x?x.anchor:a("");let{patchFlag:Fe,dynamicChildren:Oe,slotScopeIds:Xe}=_;Xe&&(ye=ye?ye.concat(Xe):Xe),x==null?(r(le,G,Y),r(Ie,G,Y),ee(_.children||[],G,Ie,K,ne,we,ye,_e)):Fe>0&&Fe&64&&Oe&&x.dynamicChildren?(Te(x.dynamicChildren,Oe,G,K,ne,we,ye),(_.key!=null||K&&_===K.subTree)&&Ng(x,_,!0)):tt(x,_,G,Ie,K,ne,we,ye,_e)},ot=(x,_,G,Y,K,ne,we,ye,_e)=>{_.slotScopeIds=ye,x==null?_.shapeFlag&512?K.ctx.activate(_,G,Y,we,_e):Mt(_,G,Y,K,ne,we,_e):me(x,_,_e)},Mt=(x,_,G,Y,K,ne,we)=>{const ye=x.component=Nw(x,Y,K);if(sw(x)&&(ye.ctx.renderer=oe),Ow(ye),ye.asyncDep){if(K&&K.registerDep(ye,xe),!x.el){const _e=ye.subTree=qe(Eo);w(null,_e,_,G)}}else xe(ye,x,_,G,K,ne,we)},me=(x,_,G)=>{const Y=_.component=x.component;if(Yx(x,_,G))if(Y.asyncDep&&!Y.asyncResolved){He(Y,_,G);return}else Y.next=_,$x(Y.update),Y.effect.dirty=!0,Y.update();else _.el=x.el,Y.vnode=_},xe=(x,_,G,Y,K,ne,we)=>{const ye=()=>{if(x.isMounted){let{next:Ie,bu:Fe,u:Oe,parent:Xe,vnode:v}=x;{const X=Og(x);if(X){Ie&&(Ie.el=v.el,He(x,Ie,we)),X.asyncDep.then(()=>{x.isUnmounted||ye()});return}}let b=Ie,g;Co(x,!1),Ie?(Ie.el=v.el,He(x,Ie,we)):Ie=v,Fe&&bu(Fe),(g=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&ds(g,Xe,Ie,v),Co(x,!0);const B=U6(x),D=x.subTree;x.subTree=B,E(D,B,u(D.el),O(D),x,K,ne),Ie.el=B.el,b===null&&qx(x,B.el),Oe&&Hr(Oe,K),(g=Ie.props&&Ie.props.onVnodeUpdated)&&Hr(()=>ds(g,Xe,Ie,v),K)}else{let Ie;const{el:Fe,props:Oe}=_,{bm:Xe,m:v,parent:b}=x,g=d1(_);if(Co(x,!1),Xe&&bu(Xe),!g&&(Ie=Oe&&Oe.onVnodeBeforeMount)&&ds(Ie,b,_),Co(x,!0),Fe&&k){const B=()=>{x.subTree=U6(x),k(Fe,x.subTree,x,K,null)};g?_.type.__asyncLoader().then(()=>!x.isUnmounted&&B()):B()}else{const B=x.subTree=U6(x);E(null,B,G,Y,x,K,ne),_.el=B.el}if(v&&Hr(v,K),!g&&(Ie=Oe&&Oe.onVnodeMounted)){const B=_;Hr(()=>ds(Ie,b,B),K)}(_.shapeFlag&256||b&&d1(b.vnode)&&b.vnode.shapeFlag&256)&&x.a&&Hr(x.a,K),x.isMounted=!0,_=G=Y=null}},_e=x.effect=new d2(ye,f0,()=>w2(le),x.scope),le=x.update=()=>{_e.dirty&&_e.run()};le.id=x.uid,Co(x,!0),le()},He=(x,_,G)=>{_.component=x;const Y=x.vnode.props;x.vnode=_,x.next=null,mw(x,_.props,Y,G),vw(x,_.children,G),Hf(),Qb(x),Gf()},tt=(x,_,G,Y,K,ne,we,ye,_e=!1)=>{const le=x&&x.children,Ie=x?x.shapeFlag:0,Fe=_.children,{patchFlag:Oe,shapeFlag:Xe}=_;if(Oe>0){if(Oe&128){Ke(le,Fe,G,Y,K,ne,we,ye,_e);return}else if(Oe&256){ze(le,Fe,G,Y,K,ne,we,ye,_e);return}}Xe&8?(Ie&16&&V(le,K,ne),Fe!==le&&l(G,Fe)):Ie&16?Xe&16?Ke(le,Fe,G,Y,K,ne,we,ye,_e):V(le,K,ne,!0):(Ie&8&&l(G,""),Xe&16&&ee(Fe,G,Y,K,ne,we,ye,_e))},ze=(x,_,G,Y,K,ne,we,ye,_e)=>{x=x||lc,_=_||lc;const le=x.length,Ie=_.length,Fe=Math.min(le,Ie);let Oe;for(Oe=0;Oe<Fe;Oe++){const Xe=_[Oe]=_e?U0(_[Oe]):_s(_[Oe]);E(x[Oe],Xe,G,null,K,ne,we,ye,_e)}le>Ie?V(x,K,ne,!0,!1,Fe):ee(_,G,Y,K,ne,we,ye,_e,Fe)},Ke=(x,_,G,Y,K,ne,we,ye,_e)=>{let le=0;const Ie=_.length;let Fe=x.length-1,Oe=Ie-1;for(;le<=Fe&&le<=Oe;){const Xe=x[le],v=_[le]=_e?U0(_[le]):_s(_[le]);if(Yf(Xe,v))E(Xe,v,G,null,K,ne,we,ye,_e);else break;le++}for(;le<=Fe&&le<=Oe;){const Xe=x[Fe],v=_[Oe]=_e?U0(_[Oe]):_s(_[Oe]);if(Yf(Xe,v))E(Xe,v,G,null,K,ne,we,ye,_e);else break;Fe--,Oe--}if(le>Fe){if(le<=Oe){const Xe=Oe+1,v=Xe<Ie?_[Xe].el:Y;for(;le<=Oe;)E(null,_[le]=_e?U0(_[le]):_s(_[le]),G,v,K,ne,we,ye,_e),le++}}else if(le>Oe)for(;le<=Fe;)Me(x[le],K,ne,!0),le++;else{const Xe=le,v=le,b=new Map;for(le=v;le<=Oe;le++){const gt=_[le]=_e?U0(_[le]):_s(_[le]);gt.key!=null&&b.set(gt.key,le)}let g,B=0;const D=Oe-v+1;let X=!1,fe=0;const st=new Array(D);for(le=0;le<D;le++)st[le]=0;for(le=Xe;le<=Fe;le++){const gt=x[le];if(B>=D){Me(gt,K,ne,!0);continue}let Nt;if(gt.key!=null)Nt=b.get(gt.key);else for(g=v;g<=Oe;g++)if(st[g-v]===0&&Yf(gt,_[g])){Nt=g;break}Nt===void 0?Me(gt,K,ne,!0):(st[Nt-v]=le+1,Nt>=fe?fe=Nt:X=!0,E(gt,_[Nt],G,null,K,ne,we,ye,_e),B++)}const $t=X?Pw(st):lc;for(g=$t.length-1,le=D-1;le>=0;le--){const gt=v+le,Nt=_[gt],Ut=gt+1<Ie?_[gt+1].el:Y;st[le]===0?E(null,Nt,G,Ut,K,ne,we,ye,_e):X&&(g<0||le!==$t[g]?De(Nt,G,Ut,2):g--)}}},De=(x,_,G,Y,K=null)=>{const{el:ne,type:we,transition:ye,children:_e,shapeFlag:le}=x;if(le&6){De(x.component.subTree,_,G,Y);return}if(le&128){x.suspense.move(_,G,Y);return}if(le&64){we.move(x,_,G,oe);return}if(we===kn){r(ne,_,G);for(let Fe=0;Fe<_e.length;Fe++)De(_e[Fe],_,G,Y);r(x.anchor,_,G);return}if(we===V6){F(x,_,G);return}if(Y!==2&&le&1&&ye)if(Y===0)ye.beforeEnter(ne),r(ne,_,G),Hr(()=>ye.enter(ne),K);else{const{leave:Fe,delayLeave:Oe,afterLeave:Xe}=ye,v=()=>r(ne,_,G),b=()=>{Fe(ne,()=>{v(),Xe&&Xe()})};Oe?Oe(ne,v,b):b()}else r(ne,_,G)},Me=(x,_,G,Y=!1,K=!1)=>{const{type:ne,props:we,ref:ye,children:_e,dynamicChildren:le,shapeFlag:Ie,patchFlag:Fe,dirs:Oe}=x;if(ye!=null&&Uh(ye,null,G,x,!0),Ie&256){_.ctx.deactivate(x);return}const Xe=Ie&1&&Oe,v=!d1(x);let b;if(v&&(b=we&&we.onVnodeBeforeUnmount)&&ds(b,_,x),Ie&6)Se(x.component,G,Y);else{if(Ie&128){x.suspense.unmount(G,Y);return}Xe&&Io(x,null,_,"beforeUnmount"),Ie&64?x.type.remove(x,_,G,K,oe,Y):le&&(ne!==kn||Fe>0&&Fe&64)?V(le,_,G,!1,!0):(ne===kn&&Fe&384||!K&&Ie&16)&&V(_e,_,G),Y&&dt(x)}(v&&(b=we&&we.onVnodeUnmounted)||Xe)&&Hr(()=>{b&&ds(b,_,x),Xe&&Io(x,null,_,"unmounted")},G)},dt=x=>{const{type:_,el:G,anchor:Y,transition:K}=x;if(_===kn){it(G,Y);return}if(_===V6){U(x);return}const ne=()=>{i(G),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(x.shapeFlag&1&&K&&!K.persisted){const{leave:we,delayLeave:ye}=K,_e=()=>we(G,ne);ye?ye(x.el,ne,_e):_e()}else ne()},it=(x,_)=>{let G;for(;x!==_;)G=p(x),i(x),x=G;i(_)},Se=(x,_,G)=>{const{bum:Y,scope:K,update:ne,subTree:we,um:ye}=x;Y&&bu(Y),K.stop(),ne&&(ne.active=!1,Me(we,x,_,G)),ye&&Hr(ye,_),Hr(()=>{x.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},V=(x,_,G,Y=!1,K=!1,ne=0)=>{for(let we=ne;we<x.length;we++)Me(x[we],_,G,Y,K)},O=x=>x.shapeFlag&6?O(x.component.subTree):x.shapeFlag&128?x.suspense.next():p(x.anchor||x.el);let j=!1;const te=(x,_,G)=>{x==null?_._vnode&&Me(_._vnode,null,null,!0):E(_._vnode||null,x,_,null,null,null,G),j||(j=!0,Qb(),Ag(),j=!1),_._vnode=x},oe={p:E,um:Me,m:De,r:dt,mt:Mt,mc:ee,pc:tt,pbc:Te,n:O,o:t};let C,k;return e&&([C,k]=e(oe)),{render:te,hydrate:C,createApp:bw(te,C)}}function G6({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Co({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function _w(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ng(t,e,n=!1){const r=t.children,i=e.children;if(vt(r)&&vt(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=U0(i[s]),a.el=o.el),n||Ng(o,a)),a.type===qd&&(a.el=o.el)}}function Pw(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<f?s=a+1:o=a;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Og(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Og(e)}const Tw=t=>t.__isTeleport,kn=Symbol.for("v-fgt"),qd=Symbol.for("v-txt"),Eo=Symbol.for("v-cmt"),V6=Symbol.for("v-stc"),b1=[];let ss=null;function be(t=!1){b1.push(ss=t?null:[])}function Iw(){b1.pop(),ss=b1[b1.length-1]||null}let R1=1;function sp(t){R1+=t}function Lg(t){return t.dynamicChildren=R1>0?ss||lc:null,Iw(),R1>0&&ss&&ss.push(t),t}function Ae(t,e,n,r,i,s){return Lg(q(t,e,n,r,i,s,!0))}function Wn(t,e,n,r,i){return Lg(qe(t,e,n,r,i,!0))}function td(t){return t?t.__v_isVNode===!0:!1}function Yf(t,e){return t.type===e.type&&t.key===e.key}const Zd="__vInternal",Fg=({key:t})=>t??null,gu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?sr(t)||Yn(t)||cn(t)?{i:Vn,r:t,k:e,f:!!n}:t:null);function q(t,e=null,n=null,r=0,i=null,s=t===kn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fg(e),ref:e&&gu(e),scopeId:Wd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Vn};return a?(A2(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=sr(n)?8:16),R1>0&&!o&&ss&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&ss.push(c),c}const qe=Cw;function Cw(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Zx)&&(t=Eo),td(t)){const a=bf(t,e,!0);return n&&A2(a,n),R1>0&&!s&&ss&&(a.shapeFlag&6?ss[ss.indexOf(t)]=a:ss.push(a)),a.patchFlag|=-2,a}if(Dw(t)&&(t=t.__vccOpts),e){e=Sw(e);let{class:a,style:c}=e;a&&!sr(a)&&(e.class=Fs(a)),Pn(c)&&(gg(c)&&!vt(c)&&(c=Ur({},c)),e.style=l2(c))}const o=sr(t)?1:ew(t)?128:Tw(t)?64:Pn(t)?4:cn(t)?2:0;return q(t,e,n,r,i,o,s,!0)}function Sw(t){return t?gg(t)||Zd in t?Ur({},t):t:null}function bf(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?kw(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Fg(a),ref:e&&e.ref?n&&i?vt(i)?i.concat(gu(e)):[i,gu(e)]:gu(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bf(t.ssContent),ssFallback:t.ssFallback&&bf(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function an(t=" ",e=0){return qe(qd,null,t,e)}function St(t="",e=!1){return e?(be(),Wn(Eo,null,t)):qe(Eo,null,t)}function _s(t){return t==null||typeof t=="boolean"?qe(Eo):vt(t)?qe(kn,null,t.slice()):typeof t=="object"?U0(t):qe(qd,null,String(t))}function U0(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bf(t)}function A2(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(vt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),A2(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Zd in e)?e._ctx=Vn:i===3&&Vn&&(Vn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else cn(e)?(e={default:e,_ctx:Vn},n=32):(e=String(e),r&64?(n=16,e=[an(e)]):n=8);t.children=e,t.shapeFlag|=n}function kw(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Fs([e.class,r.class]));else if(i==="style")e.style=l2([e.style,r.style]);else if(Ud(i)){const s=e[i],o=r[i];o&&s!==o&&!(vt(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ds(t,e,n,r=null){Rs(t,e,7,[n,r])}const Bw=Cg();let Rw=0;function Nw(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Bw,s={uid:Rw++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new X3(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yw(r,i),emitsOptions:Wx(r,i),emit:null,emitted:null,propsDefaults:yn,inheritAttrs:r.inheritAttrs,ctx:yn,data:yn,props:yn,attrs:yn,slots:yn,refs:yn,setupState:yn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Kx.bind(null,s),t.ce&&t.ce(s),s}let Or=null,nd,Dh;{const t=Y3(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};nd=e("__VUE_INSTANCE_SETTERS__",n=>Or=n),Dh=e("__VUE_SSR_SETTERS__",n=>Xd=n)}const _2=t=>{const e=Or;return nd(t),t.scope.on(),()=>{t.scope.off(),nd(e)}},op=()=>{Or&&Or.scope.off(),nd(null)};function Mg(t){return t.vnode.shapeFlag&4}let Xd=!1;function Ow(t,e=!1){e&&Dh(e);const{props:n,children:r}=t.vnode,i=Mg(t);gw(t,n,i,e),ww(t,r);const s=i?Lw(t,e):void 0;return e&&Dh(!1),s}function Lw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=$d(new Proxy(t.ctx,cw));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Mw(t):null,s=_2(t);Hf();const o=mo(r,t,0,[t.props,i]);if(Gf(),s(),W3(o)){if(o.then(op,op),e)return o.then(a=>{ap(t,a,e)}).catch(a=>{zd(a,t,0)});t.asyncDep=o}else ap(t,o,e)}else Ug(t,e)}function ap(t,e,n){cn(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pn(e)&&(t.setupState=wg(e)),Ug(t,n)}let cp;function Ug(t,e,n){const r=t.type;if(!t.render){if(!e&&cp&&!r.render){const i=r.template||fw(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,f=Ur(Ur({isCustomElement:s,delimiters:a},o),c);r.render=cp(i,f)}}t.render=r.render||f0}}function Fw(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Yr(t,"get","$attrs"),e[n]}}))}function Mw(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Fw(t)},slots:t.slots,emit:t.emit,expose:e}}function e6(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wg($d(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in h1)return h1[n](t)},has(e,n){return n in e||n in h1}}))}function Uw(t,e=!0){return cn(t)?t.displayName||t.name:t.name||e&&t.__name}function Dw(t){return cn(t)&&"__vccOpts"in t}const Kt=(t,e)=>Lx(t,e,Xd);function Dg(t,e,n){const r=arguments.length;return r===2?Pn(e)&&!vt(e)?td(e)?qe(t,null,[e]):qe(t,e):qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&td(n)&&(n=[n]),qe(t,e,n))}const Hw="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gw="http://www.w3.org/2000/svg",Vw="http://www.w3.org/1998/Math/MathML",D0=typeof document<"u"?document:null,fp=D0&&D0.createElement("template"),$w={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?D0.createElementNS(Gw,t):e==="mathml"?D0.createElementNS(Vw,t):D0.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>D0.createTextNode(t),createComment:t=>D0.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>D0.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{fp.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=fp.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},zw=Symbol("_vtc");function jw(t,e,n){const r=t[zw];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Kw=Symbol("_vod"),Ww=Symbol("");function Qw(t,e,n){const r=t.style,i=r.display,s=sr(n);if(n&&!s){if(e&&!sr(e))for(const o in e)n[o]==null&&Hh(r,o,"");for(const o in n)Hh(r,o,n[o])}else if(s){if(e!==n){const o=r[Ww];o&&(n+=";"+o),r.cssText=n}}else e&&t.removeAttribute("style");Kw in t&&(r.display=i)}const lp=/\s*!important$/;function Hh(t,e,n){if(vt(n))n.forEach(r=>Hh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Jw(t,e);lp.test(n)?t.setProperty(Df(r),n.replace(lp,""),"important"):t[r]=n}}const up=["Webkit","Moz","ms"],$6={};function Jw(t,e){const n=$6[e];if(n)return n;let r=Ls(e);if(r!=="filter"&&r in t)return $6[e]=r;r=Hd(r);for(let i=0;i<up.length;i++){const s=up[i]+r;if(s in t)return $6[e]=s}return e}const dp="http://www.w3.org/1999/xlink";function Yw(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(dp,e.slice(6,e.length)):t.setAttributeNS(dp,e,n);else{const s=ux(e);n==null||s&&!q3(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function qw(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const f=a==="OPTION"?t.getAttribute("value"):t.value,l=n??"";f!==l&&(t.value=l),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=q3(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function z0(t,e,n,r){t.addEventListener(e,n,r)}function Zw(t,e,n,r){t.removeEventListener(e,n,r)}const hp=Symbol("_vei");function Xw(t,e,n,r,i=null){const s=t[hp]||(t[hp]={}),o=s[e];if(r&&o)o.value=r;else{const[a,c]=e7(e);if(r){const f=s[e]=r7(r,i);z0(t,a,f,c)}else o&&(Zw(t,a,o,c),s[e]=void 0)}}const bp=/(?:Once|Passive|Capture)$/;function e7(t){let e;if(bp.test(t)){e={};let r;for(;r=t.match(bp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Df(t.slice(2)),e]}let z6=0;const t7=Promise.resolve(),n7=()=>z6||(t7.then(()=>z6=0),z6=Date.now());function r7(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Rs(i7(r,n.value),e,5,[r])};return n.value=t,n.attached=n7(),n}function i7(t,e){if(vt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const pp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,s7=(t,e,n,r,i,s,o,a,c)=>{const f=i==="svg";e==="class"?jw(t,r,f):e==="style"?Qw(t,n,r):Ud(e)?c2(e)||Xw(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):o7(t,e,r,f))?qw(t,e,r,s,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Yw(t,e,r,f))};function o7(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&pp(e)&&cn(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return pp(e)&&sr(n)?!1:e in t}const pf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return vt(e)?n=>bu(e,n):e};function a7(t){t.target.composing=!0}function gp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const h0=Symbol("_assign"),Ni={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[h0]=pf(i);const s=r||i.props&&i.props.type==="number";z0(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=I1(a)),t[h0](a)}),n&&z0(t,"change",()=>{t.value=t.value.trim()}),e||(z0(t,"compositionstart",a7),z0(t,"compositionend",gp),z0(t,"change",gp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[h0]=pf(s),t.composing)return;const o=i||t.type==="number"?I1(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},j6={deep:!0,created(t,e,n){t[h0]=pf(n),z0(t,"change",()=>{const r=t._modelValue,i=N1(t),s=t.checked,o=t[h0];if(vt(r)){const a=u2(r,i),c=a!==-1;if(s&&!c)o(r.concat(i));else if(!s&&c){const f=[...r];f.splice(a,1),o(f)}}else if(Uf(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Hg(t,s))})},mounted:mp,beforeUpdate(t,e,n){t[h0]=pf(n),mp(t,e,n)}};function mp(t,{value:e,oldValue:n},r){t._modelValue=e,vt(e)?t.checked=u2(e,r.props.value)>-1:Uf(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=uf(e,Hg(t,!0)))}const yp={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Uf(e);z0(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?I1(N1(o)):N1(o));t[h0](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,jd(()=>{t._assigning=!1})}),t[h0]=pf(r)},mounted(t,{value:e,oldValue:n,modifiers:{number:r}}){xp(t,e,n,r)},beforeUpdate(t,e,n){t[h0]=pf(n)},updated(t,{value:e,oldValue:n,modifiers:{number:r}}){t._assigning||xp(t,e,n,r)}};function xp(t,e,n,r){const i=t.multiple,s=vt(e);if(!(i&&!s&&!Uf(e))&&!(s&&uf(e,n))){for(let o=0,a=t.options.length;o<a;o++){const c=t.options[o],f=N1(c);if(i)if(s){const l=typeof f;l==="string"||l==="number"?c.selected=e.includes(r?I1(f):f):c.selected=u2(e,f)>-1}else c.selected=e.has(f);else if(uf(N1(c),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function N1(t){return"_value"in t?t._value:t.value}function Hg(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const c7=["ctrl","shift","alt","meta"],f7={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>c7.some(n=>t[`${n}Key`]&&!e.includes(n))},mu=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=f7[e[o]];if(a&&a(i,e))return}return t(i,...s)})},l7=Ur({patchProp:s7},$w);let wp;function u7(){return wp||(wp=Ew(l7))}const d7=(...t)=>{const e=u7().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=b7(r);if(!i)return;const s=e._component;!cn(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,h7(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function h7(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function b7(t){return sr(t)?document.querySelector(t):t}var p7=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Gg;const t6=t=>Gg=t,Vg=Symbol();function Gh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var p1;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(p1||(p1={}));function g7(){const t=eg(!0),e=t.run(()=>Ye({}));let n=[],r=[];const i=$d({install(s){t6(i),i._a=s,s.provide(Vg,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!p7?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const $g=()=>{};function vp(t,e,n,r=$g){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&tg()&&bx(i),i}function Va(t,...e){t.slice().forEach(n=>{n(...e)})}const m7=t=>t();function Vh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Gh(i)&&Gh(r)&&t.hasOwnProperty(n)&&!Yn(r)&&!go(r)?t[n]=Vh(i,r):t[n]=r}return t}const y7=Symbol();function x7(t){return!Gh(t)||!t.hasOwnProperty(y7)}const{assign:N0}=Object;function w7(t){return!!(Yn(t)&&t.effect)}function v7(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let c;function f(){a||(n.state.value[t]=i?i():{});const l=Ux(n.state.value[t]);return N0(l,s,Object.keys(o||{}).reduce((u,p)=>(u[p]=$d(Kt(()=>{t6(n);const m=n._s.get(t);return o[p].call(m,m)})),u),{}))}return c=zg(t,f,e,n,r,!0),c}function zg(t,e,n={},r,i,s){let o;const a=N0({actions:{}},n),c={deep:!0};let f,l,u=[],p=[],m;const A=r.state.value[t];!s&&!A&&(r.state.value[t]={}),Ye({});let E;function I(ee){let ae;f=l=!1,typeof ee=="function"?(ee(r.state.value[t]),ae={type:p1.patchFunction,storeId:t,events:m}):(Vh(r.state.value[t],ee),ae={type:p1.patchObject,payload:ee,storeId:t,events:m});const Te=E=Symbol();jd().then(()=>{E===Te&&(f=!0)}),l=!0,Va(u,ae,r.state.value[t])}const w=s?function(){const{state:ae}=n,Te=ae?ae():{};this.$patch(Ce=>{N0(Ce,Te)})}:$g;function N(){o.stop(),u=[],p=[],r._s.delete(t)}function F(ee,ae){return function(){t6(r);const Te=Array.from(arguments),Ce=[],lt=[];function ot(xe){Ce.push(xe)}function Mt(xe){lt.push(xe)}Va(p,{args:Te,name:ee,store:H,after:ot,onError:Mt});let me;try{me=ae.apply(this&&this.$id===t?this:H,Te)}catch(xe){throw Va(lt,xe),xe}return me instanceof Promise?me.then(xe=>(Va(Ce,xe),xe)).catch(xe=>(Va(lt,xe),Promise.reject(xe))):(Va(Ce,me),me)}}const U={_p:r,$id:t,$onAction:vp.bind(null,p),$patch:I,$reset:w,$subscribe(ee,ae={}){const Te=vp(u,ee,ae.detached,()=>Ce()),Ce=o.run(()=>hf(()=>r.state.value[t],lt=>{(ae.flush==="sync"?l:f)&&ee({storeId:t,type:p1.direct,events:m},lt)},N0({},c,ae)));return Te},$dispose:N},H=Vd(U);r._s.set(t,H);const ce=(r._a&&r._a.runWithContext||m7)(()=>r._e.run(()=>(o=eg()).run(e)));for(const ee in ce){const ae=ce[ee];if(Yn(ae)&&!w7(ae)||go(ae))s||(A&&x7(ae)&&(Yn(ae)?ae.value=A[ee]:Vh(ae,A[ee])),r.state.value[t][ee]=ae);else if(typeof ae=="function"){const Te=F(ee,ae);ce[ee]=Te,a.actions[ee]=ae}}return N0(H,ce),N0(tn(H),ce),Object.defineProperty(H,"$state",{get:()=>r.state.value[t],set:ee=>{I(ae=>{N0(ae,ee)})}}),r._p.forEach(ee=>{N0(H,o.run(()=>ee({store:H,app:r._a,pinia:r,options:a})))}),A&&s&&n.hydrate&&n.hydrate(H.$state,A),f=!0,l=!0,H}function E7(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,c){const f=pw();return a=a||(f?vo(Vg,null):null),a&&t6(a),a=Gg,a._s.has(r)||(s?zg(r,e,i,a):v7(r,i,a)),a._s.get(r)}return o.$id=r,o}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Za=typeof window<"u";function A7(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ln=Object.assign;function K6(t,e){const n={};for(const r in e){const i=e[r];n[r]=as(i)?i.map(t):t(i)}return n}const g1=()=>{},as=Array.isArray,_7=/\/$/,P7=t=>t.replace(_7,"");function W6(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=S7(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function T7(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ep(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function I7(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&gf(e.matched[r],n.matched[i])&&jg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function gf(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!C7(t[n],e[n]))return!1;return!0}function C7(t,e){return as(t)?Ap(t,e):as(e)?Ap(e,t):t===e}function Ap(t,e){return as(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function S7(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var O1;(function(t){t.pop="pop",t.push="push"})(O1||(O1={}));var m1;(function(t){t.back="back",t.forward="forward",t.unknown=""})(m1||(m1={}));function k7(t){if(!t)if(Za){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),P7(t)}const B7=/^[^#]+#/;function R7(t,e){return t.replace(B7,"#")+e}function N7(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const n6=()=>({left:window.pageXOffset,top:window.pageYOffset});function O7(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=N7(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function _p(t,e){return(history.state?history.state.position-e:-1)+t}const $h=new Map;function L7(t,e){$h.set(t,e)}function F7(t){const e=$h.get(t);return $h.delete(t),e}let M7=()=>location.protocol+"//"+location.host;function Kg(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),Ep(c,"")}return Ep(n,t)+r+i}function U7(t,e,n,r){let i=[],s=[],o=null;const a=({state:p})=>{const m=Kg(t,location),A=n.value,E=e.value;let I=0;if(p){if(n.value=m,e.value=p,o&&o===A){o=null;return}I=E?p.position-E.position:0}else r(m);i.forEach(w=>{w(n.value,A,{delta:I,type:O1.pop,direction:I?I>0?m1.forward:m1.back:m1.unknown})})};function c(){o=n.value}function f(p){i.push(p);const m=()=>{const A=i.indexOf(p);A>-1&&i.splice(A,1)};return s.push(m),m}function l(){const{history:p}=window;p.state&&p.replaceState(ln({},p.state,{scroll:n6()}),"")}function u(){for(const p of s)p();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:f,destroy:u}}function Pp(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?n6():null}}function D7(t){const{history:e,location:n}=window,r={value:Kg(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,f,l){const u=t.indexOf("#"),p=u>-1?(n.host&&document.querySelector("base")?t:t.slice(u))+c:M7()+t+c;try{e[l?"replaceState":"pushState"](f,"",p),i.value=f}catch(m){console.error(m),n[l?"replace":"assign"](p)}}function o(c,f){const l=ln({},e.state,Pp(i.value.back,c,i.value.forward,!0),f,{position:i.value.position});s(c,l,!0),r.value=c}function a(c,f){const l=ln({},i.value,e.state,{forward:c,scroll:n6()});s(l.current,l,!0);const u=ln({},Pp(r.value,c,null),{position:l.position+1},f);s(c,u,!1),r.value=c}return{location:r,state:i,push:a,replace:o}}function H7(t){t=k7(t);const e=D7(t),n=U7(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ln({location:"",base:t,go:r,createHref:R7.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function G7(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),H7(t)}function V7(t){return typeof t=="string"||t&&typeof t=="object"}function Wg(t){return typeof t=="string"||typeof t=="symbol"}const I0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qg=Symbol("");var Tp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Tp||(Tp={}));function mf(t,e){return ln(new Error,{type:t,[Qg]:!0},e)}function Hs(t,e){return t instanceof Error&&Qg in t&&(e==null||!!(t.type&e))}const Ip="[^/]+?",$7={sensitive:!1,strict:!1,start:!0,end:!0},z7=/[.+*?^${}()[\]/\\]/g;function j7(t,e){const n=ln({},$7,e),r=[];let i=n.start?"^":"";const s=[];for(const f of t){const l=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let u=0;u<f.length;u++){const p=f[u];let m=40+(n.sensitive?.25:0);if(p.type===0)u||(i+="/"),i+=p.value.replace(z7,"\\</body>"),m+=40;else if(p.type===1){const{value:A,repeatable:E,optional:I,regexp:w}=p;s.push({name:A,repeatable:E,optional:I});const N=w||Ip;if(N!==Ip){m+=10;try{new RegExp(`(${N})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${A}" (${N}): `+U.message)}}let F=E?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;u||(F=I&&f.length<2?`(?:/${F})`:"/"+F),I&&(F+="?"),i+=F,m+=20,I&&(m+=-8),E&&(m+=-20),N===".*"&&(m+=-50)}l.push(m)}r.push(l)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(f){const l=f.match(o),u={};if(!l)return null;for(let p=1;p<l.length;p++){const m=l[p]||"",A=s[p-1];u[A.name]=m&&A.repeatable?m.split("/"):m}return u}function c(f){let l="",u=!1;for(const p of t){(!u||!l.endsWith("/"))&&(l+="/"),u=!1;for(const m of p)if(m.type===0)l+=m.value;else if(m.type===1){const{value:A,repeatable:E,optional:I}=m,w=A in f?f[A]:"";if(as(w)&&!E)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const N=as(w)?w.join("/"):w;if(!N)if(I)p.length<2&&(l.endsWith("/")?l=l.slice(0,-1):u=!0);else throw new Error(`Missing required param "${A}"`);l+=N}}return l||"/"}return{re:o,score:r,keys:s,parse:a,stringify:c}}function K7(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function W7(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=K7(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Cp(r))return 1;if(Cp(i))return-1}return i.length-r.length}function Cp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Q7={type:0,value:""},J7=/[a-zA-Z0-9_]/;function Y7(t){if(!t)return[[]];if(t==="/")return[[Q7]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${f}": ${m}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,f="",l="";function u(){f&&(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function p(){f+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&u(),o()):c===":"?(u(),n=1):p();break;case 4:p(),n=r;break;case 1:c==="("?n=2:J7.test(c)?p():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),u(),o(),i}function q7(t,e,n){const r=j7(Y7(t.path),n),i=ln(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Z7(t,e){const n=[],r=new Map;e=Bp({strict:!1,end:!0,sensitive:!1},e);function i(l){return r.get(l)}function s(l,u,p){const m=!p,A=X7(l);A.aliasOf=p&&p.record;const E=Bp(e,l),I=[A];if("alias"in l){const F=typeof l.alias=="string"?[l.alias]:l.alias;for(const U of F)I.push(ln({},A,{components:p?p.record.components:A.components,path:U,aliasOf:p?p.record:A}))}let w,N;for(const F of I){const{path:U}=F;if(u&&U[0]!=="/"){const H=u.record.path,z=H[H.length-1]==="/"?"":"/";F.path=u.record.path+(U&&z+U)}if(w=q7(F,u,E),p?p.alias.push(w):(N=N||w,N!==w&&N.alias.push(w),m&&l.name&&!kp(w)&&o(l.name)),A.children){const H=A.children;for(let z=0;z<H.length;z++)s(H[z],w,p&&p.children[z])}p=p||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&c(w)}return N?()=>{o(N)}:g1}function o(l){if(Wg(l)){const u=r.get(l);u&&(r.delete(l),n.splice(n.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=n.indexOf(l);u>-1&&(n.splice(u,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let u=0;for(;u<n.length&&W7(l,n[u])>=0&&(l.record.path!==n[u].record.path||!Jg(l,n[u]));)u++;n.splice(u,0,l),l.record.name&&!kp(l)&&r.set(l.record.name,l)}function f(l,u){let p,m={},A,E;if("name"in l&&l.name){if(p=r.get(l.name),!p)throw mf(1,{location:l});E=p.record.name,m=ln(Sp(u.params,p.keys.filter(N=>!N.optional).map(N=>N.name)),l.params&&Sp(l.params,p.keys.map(N=>N.name))),A=p.stringify(m)}else if("path"in l)A=l.path,p=n.find(N=>N.re.test(A)),p&&(m=p.parse(A),E=p.record.name);else{if(p=u.name?r.get(u.name):n.find(N=>N.re.test(u.path)),!p)throw mf(1,{location:l,currentLocation:u});E=p.record.name,m=ln({},u.params,l.params),A=p.stringify(m)}const I=[];let w=p;for(;w;)I.unshift(w.record),w=w.parent;return{name:E,path:A,params:m,matched:I,meta:tv(I)}}return t.forEach(l=>s(l)),{addRoute:s,resolve:f,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Sp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function X7(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ev(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function ev(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function kp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function tv(t){return t.reduce((e,n)=>ln(e,n.meta),{})}function Bp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Jg(t,e){return e.children.some(n=>n===t||Jg(t,n))}const Yg=/#/g,nv=/&/g,rv=/\//g,iv=/=/g,sv=/\?/g,qg=/\+/g,ov=/%5B/g,av=/%5D/g,Zg=/%5E/g,cv=/%60/g,Xg=/%7B/g,fv=/%7C/g,em=/%7D/g,lv=/%20/g;function P2(t){return encodeURI(""+t).replace(fv,"|").replace(ov,"[").replace(av,"]")}function uv(t){return P2(t).replace(Xg,"{").replace(em,"}").replace(Zg,"^")}function zh(t){return P2(t).replace(qg,"%2B").replace(lv,"+").replace(Yg,"%23").replace(nv,"%26").replace(cv,"`").replace(Xg,"{").replace(em,"}").replace(Zg,"^")}function dv(t){return zh(t).replace(iv,"%3D")}function hv(t){return P2(t).replace(Yg,"%23").replace(sv,"%3F")}function bv(t){return t==null?"":hv(t).replace(rv,"%2F")}function rd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function pv(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(qg," "),o=s.indexOf("="),a=rd(o<0?s:s.slice(0,o)),c=o<0?null:rd(s.slice(o+1));if(a in e){let f=e[a];as(f)||(f=e[a]=[f]),f.push(c)}else e[a]=c}return e}function Rp(t){let e="";for(let n in t){const r=t[n];if(n=dv(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(as(r)?r.map(s=>s&&zh(s)):[r&&zh(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function gv(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=as(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const mv=Symbol(""),Np=Symbol(""),r6=Symbol(""),tm=Symbol(""),jh=Symbol("");function qf(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function H0(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const c=u=>{u===!1?a(mf(4,{from:n,to:e})):u instanceof Error?a(u):V7(u)?a(mf(2,{from:e,to:u})):(s&&r.enterCallbacks[i]===s&&typeof u=="function"&&s.push(u),o())},f=t.call(r&&r.instances[i],e,n,c);let l=Promise.resolve(f);t.length<3&&(l=l.then(c)),l.catch(u=>a(u))})}function Q6(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(yv(a)){const f=(a.__vccOpts||a)[e];f&&i.push(H0(f,n,r,s,o))}else{let c=a();i.push(()=>c.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const l=A7(f)?f.default:f;s.components[o]=l;const p=(l.__vccOpts||l)[e];return p&&H0(p,n,r,s,o)()}))}}return i}function yv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Op(t){const e=vo(r6),n=vo(tm),r=Kt(()=>e.resolve(Et(t.to))),i=Kt(()=>{const{matched:c}=r.value,{length:f}=c,l=c[f-1],u=n.matched;if(!l||!u.length)return-1;const p=u.findIndex(gf.bind(null,l));if(p>-1)return p;const m=Lp(c[f-2]);return f>1&&Lp(l)===m&&u[u.length-1].path!==m?u.findIndex(gf.bind(null,c[f-2])):p}),s=Kt(()=>i.value>-1&&Ev(n.params,r.value.params)),o=Kt(()=>i.value>-1&&i.value===n.matched.length-1&&jg(n.params,r.value.params));function a(c={}){return vv(c)?e[Et(t.replace)?"replace":"push"](Et(t.to)).catch(g1):Promise.resolve()}return{route:r,href:Kt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const xv=Ar({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Op,setup(t,{slots:e}){const n=Vd(Op(t)),{options:r}=vo(r6),i=Kt(()=>({[Fp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Fp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Dg("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),wv=xv;function vv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ev(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!as(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Lp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Fp=(t,e,n)=>t??e??n,Av=Ar({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=vo(jh),i=Kt(()=>t.route||r.value),s=vo(Np,0),o=Kt(()=>{let f=Et(s);const{matched:l}=i.value;let u;for(;(u=l[f])&&!u.components;)f++;return f}),a=Kt(()=>i.value.matched[o.value]);H6(Np,Kt(()=>o.value+1)),H6(mv,a),H6(jh,i);const c=Ye();return hf(()=>[c.value,a.value,t.name],([f,l,u],[p,m,A])=>{l&&(l.instances[u]=f,m&&m!==l&&f&&f===p&&(l.leaveGuards.size||(l.leaveGuards=m.leaveGuards),l.updateGuards.size||(l.updateGuards=m.updateGuards))),f&&l&&(!m||!gf(l,m)||!p)&&(l.enterCallbacks[u]||[]).forEach(E=>E(f))},{flush:"post"}),()=>{const f=i.value,l=t.name,u=a.value,p=u&&u.components[l];if(!p)return Mp(n.default,{Component:p,route:f});const m=u.props[l],A=m?m===!0?f.params:typeof m=="function"?m(f):m:null,I=Dg(p,ln({},A,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(u.instances[l]=null)},ref:c}));return Mp(n.default,{Component:I,route:f})||I}}});function Mp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const nm=Av;function _v(t){const e=Z7(t.routes,t),n=t.parseQuery||pv,r=t.stringifyQuery||Rp,i=t.history,s=qf(),o=qf(),a=qf(),c=Zu(I0);let f=I0;Za&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=K6.bind(null,O=>""+O),u=K6.bind(null,bv),p=K6.bind(null,rd);function m(O,j){let te,oe;return Wg(O)?(te=e.getRecordMatcher(O),oe=j):oe=O,e.addRoute(oe,te)}function A(O){const j=e.getRecordMatcher(O);j&&e.removeRoute(j)}function E(){return e.getRoutes().map(O=>O.record)}function I(O){return!!e.getRecordMatcher(O)}function w(O,j){if(j=ln({},j||c.value),typeof O=="string"){const _=W6(n,O,j.path),G=e.resolve({path:_.path},j),Y=i.createHref(_.fullPath);return ln(_,G,{params:p(G.params),hash:rd(_.hash),redirectedFrom:void 0,href:Y})}let te;if("path"in O)te=ln({},O,{path:W6(n,O.path,j.path).path});else{const _=ln({},O.params);for(const G in _)_[G]==null&&delete _[G];te=ln({},O,{params:u(_)}),j.params=u(j.params)}const oe=e.resolve(te,j),C=O.hash||"";oe.params=l(p(oe.params));const k=T7(r,ln({},O,{hash:uv(C),path:oe.path})),x=i.createHref(k);return ln({fullPath:k,hash:C,query:r===Rp?gv(O.query):O.query||{}},oe,{redirectedFrom:void 0,href:x})}function N(O){return typeof O=="string"?W6(n,O,c.value.path):ln({},O)}function F(O,j){if(f!==O)return mf(8,{from:j,to:O})}function U(O){return ce(O)}function H(O){return U(ln(N(O),{replace:!0}))}function z(O){const j=O.matched[O.matched.length-1];if(j&&j.redirect){const{redirect:te}=j;let oe=typeof te=="function"?te(O):te;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=N(oe):{path:oe},oe.params={}),ln({query:O.query,hash:O.hash,params:"path"in oe?{}:O.params},oe)}}function ce(O,j){const te=f=w(O),oe=c.value,C=O.state,k=O.force,x=O.replace===!0,_=z(te);if(_)return ce(ln(N(_),{state:typeof _=="object"?ln({},C,_.state):C,force:k,replace:x}),j||te);const G=te;G.redirectedFrom=j;let Y;return!k&&I7(r,oe,te)&&(Y=mf(16,{to:G,from:oe}),De(oe,oe,!0,!1)),(Y?Promise.resolve(Y):Te(G,oe)).catch(K=>Hs(K)?Hs(K,2)?K:Ke(K):tt(K,G,oe)).then(K=>{if(K){if(Hs(K,2))return ce(ln({replace:x},N(K.to),{state:typeof K.to=="object"?ln({},C,K.to.state):C,force:k}),j||G)}else K=lt(G,oe,!0,x,C);return Ce(G,oe,K),K})}function ee(O,j){const te=F(O,j);return te?Promise.reject(te):Promise.resolve()}function ae(O){const j=it.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(O):O()}function Te(O,j){let te;const[oe,C,k]=Pv(O,j);te=Q6(oe.reverse(),"beforeRouteLeave",O,j);for(const _ of oe)_.leaveGuards.forEach(G=>{te.push(H0(G,O,j))});const x=ee.bind(null,O,j);return te.push(x),V(te).then(()=>{te=[];for(const _ of s.list())te.push(H0(_,O,j));return te.push(x),V(te)}).then(()=>{te=Q6(C,"beforeRouteUpdate",O,j);for(const _ of C)_.updateGuards.forEach(G=>{te.push(H0(G,O,j))});return te.push(x),V(te)}).then(()=>{te=[];for(const _ of k)if(_.beforeEnter)if(as(_.beforeEnter))for(const G of _.beforeEnter)te.push(H0(G,O,j));else te.push(H0(_.beforeEnter,O,j));return te.push(x),V(te)}).then(()=>(O.matched.forEach(_=>_.enterCallbacks={}),te=Q6(k,"beforeRouteEnter",O,j),te.push(x),V(te))).then(()=>{te=[];for(const _ of o.list())te.push(H0(_,O,j));return te.push(x),V(te)}).catch(_=>Hs(_,8)?_:Promise.reject(_))}function Ce(O,j,te){a.list().forEach(oe=>ae(()=>oe(O,j,te)))}function lt(O,j,te,oe,C){const k=F(O,j);if(k)return k;const x=j===I0,_=Za?history.state:{};te&&(oe||x?i.replace(O.fullPath,ln({scroll:x&&_&&_.scroll},C)):i.push(O.fullPath,C)),c.value=O,De(O,j,te,x),Ke()}let ot;function Mt(){ot||(ot=i.listen((O,j,te)=>{if(!Se.listening)return;const oe=w(O),C=z(oe);if(C){ce(ln(C,{replace:!0}),oe).catch(g1);return}f=oe;const k=c.value;Za&&L7(_p(k.fullPath,te.delta),n6()),Te(oe,k).catch(x=>Hs(x,12)?x:Hs(x,2)?(ce(x.to,oe).then(_=>{Hs(_,20)&&!te.delta&&te.type===O1.pop&&i.go(-1,!1)}).catch(g1),Promise.reject()):(te.delta&&i.go(-te.delta,!1),tt(x,oe,k))).then(x=>{x=x||lt(oe,k,!1),x&&(te.delta&&!Hs(x,8)?i.go(-te.delta,!1):te.type===O1.pop&&Hs(x,20)&&i.go(-1,!1)),Ce(oe,k,x)}).catch(g1)}))}let me=qf(),xe=qf(),He;function tt(O,j,te){Ke(O);const oe=xe.list();return oe.length?oe.forEach(C=>C(O,j,te)):console.error(O),Promise.reject(O)}function ze(){return He&&c.value!==I0?Promise.resolve():new Promise((O,j)=>{me.add([O,j])})}function Ke(O){return He||(He=!O,Mt(),me.list().forEach(([j,te])=>O?te(O):j()),me.reset()),O}function De(O,j,te,oe){const{scrollBehavior:C}=t;if(!Za||!C)return Promise.resolve();const k=!te&&F7(_p(O.fullPath,0))||(oe||!te)&&history.state&&history.state.scroll||null;return jd().then(()=>C(O,j,k)).then(x=>x&&O7(x)).catch(x=>tt(x,O,j))}const Me=O=>i.go(O);let dt;const it=new Set,Se={currentRoute:c,listening:!0,addRoute:m,removeRoute:A,hasRoute:I,getRoutes:E,resolve:w,options:t,push:U,replace:H,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:xe.add,isReady:ze,install(O){const j=this;O.component("RouterLink",wv),O.component("RouterView",nm),O.config.globalProperties.$router=j,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>Et(c)}),Za&&!dt&&c.value===I0&&(dt=!0,U(i.location).catch(C=>{}));const te={};for(const C in I0)Object.defineProperty(te,C,{get:()=>c.value[C],enumerable:!0});O.provide(r6,j),O.provide(tm,bg(te)),O.provide(jh,c);const oe=O.unmount;it.add(O),O.unmount=function(){it.delete(O),it.size<1&&(f=I0,ot&&ot(),ot=null,c.value=I0,dt=!1,He=!1),oe()}}};function V(O){return O.reduce((j,te)=>j.then(()=>ae(te)),Promise.resolve())}return Se}function Pv(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(f=>gf(f,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(f=>gf(f,c))||i.push(c))}return[n,r,i]}function Tv(){return vo(r6)}const Iv="data:image/svg+xml,%3csvg%20width='241'%20height='31'%20viewBox='0%200%20241%2031'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M50.0172%206.07022C54.9572%206.07022%2058.5151%209.84214%2058.5151%2014.6917C58.5151%2019.5414%2054.9572%2023.3133%2050.0172%2023.3133C45.0772%2023.3133%2041.5487%2019.5414%2041.5487%2014.6917C41.5487%209.84214%2045.0772%206.07022%2050.0172%206.07022ZM50.0172%2020.1101C53.1047%2020.1101%2055.2806%2017.7751%2055.2806%2014.7217C55.2806%2011.6682%2053.1047%209.33323%2050.0172%209.33323C46.9297%209.33323%2044.7538%2011.6682%2044.7538%2014.7217C44.7538%2017.7751%2046.9591%2020.1101%2050.0172%2020.1101Z'%20fill='%233333C9'/%3e%3cpath%20d='M69.9241%2020.7088H63.8374L63.0728%2023.1037H59.8677L65.2782%206.3396H68.6009L73.9819%2023.1037H70.718L69.9241%2020.7088ZM68.9243%2017.5356L66.8954%2011.1892L64.8665%2017.5356H68.9243Z'%20fill='%233333C9'/%3e%3cpath%20d='M81.8918%209.21346C80.3039%209.21346%2079.3042%2010.0816%2079.3042%2011.2192C79.3042%2011.9376%2079.7452%2012.4465%2080.4509%2012.716C81.5095%2013.1051%2083.1267%2012.8956%2084.6852%2013.3745C86.7729%2014.0032%2088.0667%2015.6497%2088.0667%2017.8949C88.0667%2021.0681%2085.6849%2023.3731%2082.0682%2023.3731C78.4514%2023.3731%2075.952%2021.1878%2075.952%2018.0146H79.1571C79.1571%2019.3318%2080.4215%2020.2299%2082.0976%2020.2299C83.7737%2020.2299%2084.8616%2019.3018%2084.8616%2018.0745C84.8616%2017.2363%2084.3323%2016.7274%2083.6854%2016.4879C82.6269%2016.0987%2080.892%2016.2184%2079.4218%2015.7993C77.2458%2015.1707%2076.0697%2013.4943%2076.0697%2011.3688C76.0697%208.31538%2078.4514%206.10013%2081.9212%206.10013C85.3909%206.10013%2087.8021%208.19564%2087.8021%2011.2491H84.5676C84.5676%209.99179%2083.4796%209.21346%2081.8918%209.21346Z'%20fill='%233333C9'/%3e%3cpath%20d='M91.4189%206.3396H94.6534V23.1037H91.4189V6.3396Z'%20fill='%233333C9'/%3e%3cpath%20d='M104.004%209.21346C102.416%209.21346%20101.416%2010.0816%20101.416%2011.2192C101.416%2011.9376%20101.857%2012.4465%20102.563%2012.716C103.622%2013.1051%20105.239%2012.8956%20106.797%2013.3745C108.885%2014.0032%20110.179%2015.6497%20110.179%2017.8949C110.179%2021.0681%20107.797%2023.3731%20104.18%2023.3731C100.564%2023.3731%2098.0643%2021.1878%2098.0643%2018.0146H101.269C101.269%2019.3318%20102.534%2020.2299%20104.21%2020.2299C105.886%2020.2299%20106.974%2019.3018%20106.974%2018.0745C106.974%2017.2363%20106.445%2016.7274%20105.798%2016.4879C104.739%2016.0987%20103.004%2016.2184%20101.534%2015.7993C99.3581%2015.1707%2098.1819%2013.4943%2098.1819%2011.3688C98.1819%208.31538%20100.564%206.10013%20104.033%206.10013C107.503%206.10013%20109.914%208.19564%20109.914%2011.2491H106.68C106.68%209.99179%20105.592%209.21346%20104.004%209.21346Z'%20fill='%233333C9'/%3e%3cpath%20d='M134.026%206.3396V23.1037H130.821L123.94%2012.1472V23.1037H120.735V6.3396H123.94L130.821%2017.2961V6.3396H134.026Z'%20fill='%233333C9'/%3e%3cpath%20d='M138.172%206.3396H150.963V9.54274H141.377V13.0452H146.699V16.2484H141.377V19.8407H150.963V23.0438H138.172V6.3396Z'%20fill='%233333C9'/%3e%3cpath%20d='M158.226%209.54274H153.433V6.3396H166.224V9.54274H161.431V23.1037H158.197L158.226%209.54274Z'%20fill='%233333C9'/%3e%3cpath%20d='M189.571%206.3396L184.867%2023.1037H181.456L178.809%2013.8236L176.192%2023.1037H172.811L168.077%206.3396H171.399L174.546%2018.0445L177.692%206.3396H179.956L183.073%2017.9248L186.307%206.3396H189.571Z'%20fill='%233333C9'/%3e%3cpath%20d='M199.598%206.07022C204.538%206.07022%20208.096%209.84214%20208.096%2014.6917C208.096%2019.5414%20204.538%2023.3133%20199.598%2023.3133C194.658%2023.3133%20191.13%2019.5414%20191.13%2014.6917C191.13%209.84214%20194.658%206.07022%20199.598%206.07022ZM199.598%2020.1101C202.686%2020.1101%20204.862%2017.7751%20204.862%2014.7217C204.862%2011.6682%20202.686%209.33323%20199.598%209.33323C196.511%209.33323%20194.335%2011.6682%20194.335%2014.7217C194.335%2017.7751%20196.54%2020.1101%20199.598%2020.1101Z'%20fill='%233333C9'/%3e%3cpath%20d='M217.77%2018.1044H214.742V23.0738H211.507V6.30969H218.505C221.975%206.30969%20224.445%208.79437%20224.445%2012.2071C224.445%2014.6019%20223.21%2016.5777%20221.24%2017.4758L224.769%2023.0438H220.975L217.77%2018.1044ZM214.742%2014.9312H218.564C220.152%2014.9312%20221.24%2013.7937%20221.24%2012.237C221.24%2010.6803%20220.152%209.54277%20218.594%209.54277H214.771L214.742%2014.9312Z'%20fill='%233333C9'/%3e%3cpath%20d='M236.942%2023.1037L231.267%2015.5V23.1037H228.033V6.3396H231.267V13.8834L236.942%206.3396H240.912L234.59%2014.6318L241%2023.1037H236.942Z'%20fill='%233333C9'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M26.8464%206.33962C24.5822%203.4059%2021.2889%201.54988%2017.6133%201.54988C10.5268%201.54988%205.35164%208.25551%205.35164%2015.5299C5.35164%2020.5891%208.64495%2024.3909%2012.3205%2024.3909C12.6734%2024.3909%2012.9968%2024.361%2013.3497%2024.3011C10.8797%2022.4451%209.29185%2019.0923%209.29185%2015.5C9.29185%209.75231%2013.1144%205.29186%2017.6133%205.29186C22.5239%205.29186%2025.9348%2010.2612%2025.9348%2015.5C25.9348%2019.3917%2024.5528%2023.2534%2022.1711%2026.0973C20.0833%2028.582%2017.3781%2030.1686%2014.4082%2030.6475C14.4082%2030.6475%2014.6435%2030.6775%2014.9669%2030.6775C23.2002%2030.6775%2029.8751%2023.882%2029.8751%2015.5C29.8751%2012.0574%2028.7577%208.88416%2026.8464%206.33962ZM24.5822%2015.5C24.5822%2010.4408%2021.2889%206.63898%2017.6133%206.63898C17.2605%206.63898%2016.937%206.66891%2016.5842%206.72878C19.0542%208.55487%2020.6126%2011.8778%2020.6126%2015.5C20.6126%2021.2477%2016.79%2025.7081%2012.2911%2025.7081C7.38055%2025.7081%203.96962%2020.7388%203.96962%2015.5C3.96962%2011.6083%205.35163%207.7466%207.73341%204.9027C9.82113%202.41802%2012.5264%200.831419%2015.4962%200.352446C15.4962%200.352446%2015.261%200.32251%2014.9081%200.32251C6.67484%200.32251%200%207.11795%200%2015.5C0%2018.9426%201.11737%2022.1158%203.02867%2024.6604C5.29283%2027.5941%208.61555%2029.4501%2012.2617%2029.4501C19.407%2029.48%2024.5822%2022.7744%2024.5822%2015.5Z'%20fill='%233333C9'/%3e%3c/svg%3e";var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Il(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}function Sv({mustBeMetaMask:t=!1,silent:e=!1,timeout:n=3e3}={}){i();let r=!1;return new Promise(s=>{window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout(()=>{o()},n));function o(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:a}=window;a&&(!t||a.isMetaMask)?s(a):(!e&&console.error("@metamask/detect-provider:",t&&a?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),s(null))}});function i(){if(typeof t!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof e!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof n!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var kv=Sv;const yu=Il(kv),Bv=["string","number","bigint","symbol"],Rv=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Nv(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";const e=typeof t;if(Bv.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(Ov(t))return"Buffer";const n=Lv(t);return n||"Object"}function Ov(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function Lv(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(Rv.includes(e))return e}class pe{constructor(e,n,r){this.major=e,this.majorEncoded=e<<5,this.name=n,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}pe.uint=new pe(0,"uint",!0);pe.negint=new pe(1,"negint",!0);pe.bytes=new pe(2,"bytes",!0);pe.string=new pe(3,"string",!0);pe.array=new pe(4,"array",!1);pe.map=new pe(5,"map",!1);pe.tag=new pe(6,"tag",!1);pe.float=new pe(7,"float",!0);pe.false=new pe(7,"false",!0);pe.true=new pe(7,"true",!0);pe.null=new pe(7,"null",!0);pe.undefined=new pe(7,"undefined",!0);pe.break=new pe(7,"break",!0);class ft{constructor(e,n,r){this.type=e,this.value=n,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Vf=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Fv=new TextDecoder,Mv=new TextEncoder;function id(t){return Vf&&globalThis.Buffer.isBuffer(t)}function rm(t){return t instanceof Uint8Array?id(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const Uv=Vf?(t,e,n)=>n-e>64?globalThis.Buffer.from(t.subarray(e,n)).toString("utf8"):Dp(t,e,n):(t,e,n)=>n-e>64?Fv.decode(t.subarray(e,n)):Dp(t,e,n),Dv=Vf?t=>t.length>64?globalThis.Buffer.from(t):Up(t):t=>t.length>64?Mv.encode(t):Up(t),Gs=t=>Uint8Array.from(t),T2=Vf?(t,e,n)=>id(t)?new Uint8Array(t.subarray(e,n)):t.slice(e,n):(t,e,n)=>t.slice(e,n),Hv=Vf?(t,e)=>(t=t.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),rm(globalThis.Buffer.concat(t,e))):(t,e)=>{const n=new Uint8Array(e);let r=0;for(let i of t)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},Gv=Vf?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function Vv(t,e){if(id(t)&&id(e))return t.compare(e);for(let n=0;n<t.length;n++)if(t[n]!==e[n])return t[n]<e[n]?-1:1;return 0}function Up(t,e=1/0){let n;const r=t.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function Dp(t,e,n){const r=[];for(;e<n;){const i=t[e];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(e+o<=n){let a,c,f,l;switch(o){case 1:i<128&&(s=i);break;case 2:a=t[e+1],(a&192)===128&&(l=(i&31)<<6|a&63,l>127&&(s=l));break;case 3:a=t[e+1],c=t[e+2],(a&192)===128&&(c&192)===128&&(l=(i&15)<<12|(a&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:a=t[e+1],c=t[e+2],f=t[e+3],(a&192)===128&&(c&192)===128&&(f&192)===128&&(l=(i&15)<<18|(a&63)<<12|(c&63)<<6|f&63,l>65535&&l<1114112&&(s=l))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),e+=o}return $v(r)}const Hp=4096;function $v(t){const e=t.length;if(e<=Hp)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Hp));return n}const zv=256;class im{constructor(e=zv){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let n=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const i=n.length-(this.maxCursor-this.cursor)-1;n.set(e,i)}else{if(n){const i=n.length-(this.maxCursor-this.cursor)-1;i<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(n=Gv(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,this._initReuseChunk===null&&(this._initReuseChunk=n),n.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let n;if(this.chunks.length===1){const r=this.chunks[0];e&&this.cursor>r.length/2?(n=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=T2(r,0,this.cursor)}else n=Hv(this.chunks,this.cursor);return e&&this.reset(),n}}const zt="CBOR decode error:",sm="CBOR encode error:";function $f(t,e,n){if(t.length-e<n)throw new Error(`${zt} not enough data for type`)}const nr=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Oa(t,e,n){$f(t,e,1);const r=t[e];if(n.strict===!0&&r<nr[0])throw new Error(`${zt} integer encoded in more bytes than necessary (strict decode)`);return r}function La(t,e,n){$f(t,e,2);const r=t[e]<<8|t[e+1];if(n.strict===!0&&r<nr[1])throw new Error(`${zt} integer encoded in more bytes than necessary (strict decode)`);return r}function Fa(t,e,n){$f(t,e,4);const r=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(n.strict===!0&&r<nr[2])throw new Error(`${zt} integer encoded in more bytes than necessary (strict decode)`);return r}function Ma(t,e,n){$f(t,e,8);const r=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(r)<<BigInt(32))+BigInt(i);if(n.strict===!0&&s<nr[3])throw new Error(`${zt} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(n.allowBigInt===!0)return s;throw new Error(`${zt} integers outside of the safe integer range are not supported`)}function jv(t,e,n,r){return new ft(pe.uint,Oa(t,e+1,r),2)}function Kv(t,e,n,r){return new ft(pe.uint,La(t,e+1,r),3)}function Wv(t,e,n,r){return new ft(pe.uint,Fa(t,e+1,r),5)}function Qv(t,e,n,r){return new ft(pe.uint,Ma(t,e+1,r),9)}function Ua(t,e){return Bi(t,0,e.value)}function Bi(t,e,n){if(n<nr[0]){const r=Number(n);t.push([e|r])}else if(n<nr[1]){const r=Number(n);t.push([e|24,r])}else if(n<nr[2]){const r=Number(n);t.push([e|25,r>>>8,r&255])}else if(n<nr[3]){const r=Number(n);t.push([e|26,r>>>24&255,r>>>16&255,r>>>8&255,r&255])}else{const r=BigInt(n);if(r<nr[4]){const i=[e|27,0,0,0,0,0,0,0];let s=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));i[8]=s&255,s=s>>8,i[7]=s&255,s=s>>8,i[6]=s&255,s=s>>8,i[5]=s&255,i[4]=o&255,o=o>>8,i[3]=o&255,o=o>>8,i[2]=o&255,o=o>>8,i[1]=o&255,t.push(i)}else throw new Error(`${zt} encountered BigInt larger than allowable range`)}}Ua.encodedSize=function(e){return Bi.encodedSize(e.value)};Bi.encodedSize=function(e){return e<nr[0]?1:e<nr[1]?2:e<nr[2]?3:e<nr[3]?5:9};Ua.compareTokens=function(e,n){return e.value<n.value?-1:e.value>n.value?1:0};function Jv(t,e,n,r){return new ft(pe.negint,-1-Oa(t,e+1,r),2)}function Yv(t,e,n,r){return new ft(pe.negint,-1-La(t,e+1,r),3)}function qv(t,e,n,r){return new ft(pe.negint,-1-Fa(t,e+1,r),5)}const I2=BigInt(-1),om=BigInt(1);function Zv(t,e,n,r){const i=Ma(t,e+1,r);if(typeof i!="bigint"){const s=-1-i;if(s>=Number.MIN_SAFE_INTEGER)return new ft(pe.negint,s,9)}if(r.allowBigInt!==!0)throw new Error(`${zt} integers outside of the safe integer range are not supported`);return new ft(pe.negint,I2-BigInt(i),9)}function C2(t,e){const n=e.value,r=typeof n=="bigint"?n*I2-om:n*-1-1;Bi(t,e.type.majorEncoded,r)}C2.encodedSize=function(e){const n=e.value,r=typeof n=="bigint"?n*I2-om:n*-1-1;return r<nr[0]?1:r<nr[1]?2:r<nr[2]?3:r<nr[3]?5:9};C2.compareTokens=function(e,n){return e.value<n.value?1:e.value>n.value?-1:0};function Cl(t,e,n,r){$f(t,e,n+r);const i=T2(t,e+n,e+n+r);return new ft(pe.bytes,i,n+r)}function Xv(t,e,n,r){return Cl(t,e,1,n)}function eE(t,e,n,r){return Cl(t,e,2,Oa(t,e+1,r))}function tE(t,e,n,r){return Cl(t,e,3,La(t,e+1,r))}function nE(t,e,n,r){return Cl(t,e,5,Fa(t,e+1,r))}function rE(t,e,n,r){const i=Ma(t,e+1,r);if(typeof i=="bigint")throw new Error(`${zt} 64-bit integer bytes lengths not supported`);return Cl(t,e,9,i)}function sd(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===pe.string?Dv(t.value):t.value),t.encodedBytes}function i6(t,e){const n=sd(e);Bi(t,e.type.majorEncoded,n.length),t.push(n)}i6.encodedSize=function(e){const n=sd(e);return Bi.encodedSize(n.length)+n.length};i6.compareTokens=function(e,n){return iE(sd(e),sd(n))};function iE(t,e){return t.length<e.length?-1:t.length>e.length?1:Vv(t,e)}function Sl(t,e,n,r,i){const s=n+r;$f(t,e,s);const o=new ft(pe.string,Uv(t,e+n,e+s),s);return i.retainStringBytes===!0&&(o.byteValue=T2(t,e+n,e+s)),o}function sE(t,e,n,r){return Sl(t,e,1,n,r)}function oE(t,e,n,r){return Sl(t,e,2,Oa(t,e+1,r),r)}function aE(t,e,n,r){return Sl(t,e,3,La(t,e+1,r),r)}function cE(t,e,n,r){return Sl(t,e,5,Fa(t,e+1,r),r)}function fE(t,e,n,r){const i=Ma(t,e+1,r);if(typeof i=="bigint")throw new Error(`${zt} 64-bit integer string lengths not supported`);return Sl(t,e,9,i,r)}const lE=i6;function zf(t,e,n,r){return new ft(pe.array,r,n)}function uE(t,e,n,r){return zf(t,e,1,n)}function dE(t,e,n,r){return zf(t,e,2,Oa(t,e+1,r))}function hE(t,e,n,r){return zf(t,e,3,La(t,e+1,r))}function bE(t,e,n,r){return zf(t,e,5,Fa(t,e+1,r))}function pE(t,e,n,r){const i=Ma(t,e+1,r);if(typeof i=="bigint")throw new Error(`${zt} 64-bit integer array lengths not supported`);return zf(t,e,9,i)}function gE(t,e,n,r){if(r.allowIndefinite===!1)throw new Error(`${zt} indefinite length items not allowed`);return zf(t,e,1,1/0)}function S2(t,e){Bi(t,pe.array.majorEncoded,e.value)}S2.compareTokens=Ua.compareTokens;S2.encodedSize=function(e){return Bi.encodedSize(e.value)};function jf(t,e,n,r){return new ft(pe.map,r,n)}function mE(t,e,n,r){return jf(t,e,1,n)}function yE(t,e,n,r){return jf(t,e,2,Oa(t,e+1,r))}function xE(t,e,n,r){return jf(t,e,3,La(t,e+1,r))}function wE(t,e,n,r){return jf(t,e,5,Fa(t,e+1,r))}function vE(t,e,n,r){const i=Ma(t,e+1,r);if(typeof i=="bigint")throw new Error(`${zt} 64-bit integer map lengths not supported`);return jf(t,e,9,i)}function EE(t,e,n,r){if(r.allowIndefinite===!1)throw new Error(`${zt} indefinite length items not allowed`);return jf(t,e,1,1/0)}function k2(t,e){Bi(t,pe.map.majorEncoded,e.value)}k2.compareTokens=Ua.compareTokens;k2.encodedSize=function(e){return Bi.encodedSize(e.value)};function AE(t,e,n,r){return new ft(pe.tag,n,1)}function _E(t,e,n,r){return new ft(pe.tag,Oa(t,e+1,r),2)}function PE(t,e,n,r){return new ft(pe.tag,La(t,e+1,r),3)}function TE(t,e,n,r){return new ft(pe.tag,Fa(t,e+1,r),5)}function IE(t,e,n,r){return new ft(pe.tag,Ma(t,e+1,r),9)}function B2(t,e){Bi(t,pe.tag.majorEncoded,e.value)}B2.compareTokens=Ua.compareTokens;B2.encodedSize=function(e){return Bi.encodedSize(e.value)};const CE=20,SE=21,kE=22,BE=23;function RE(t,e,n,r){if(r.allowUndefined===!1)throw new Error(`${zt} undefined values are not supported`);return r.coerceUndefinedToNull===!0?new ft(pe.null,null,1):new ft(pe.undefined,void 0,1)}function NE(t,e,n,r){if(r.allowIndefinite===!1)throw new Error(`${zt} indefinite length items not allowed`);return new ft(pe.break,void 0,1)}function R2(t,e,n){if(n){if(n.allowNaN===!1&&Number.isNaN(t))throw new Error(`${zt} NaN values are not supported`);if(n.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${zt} Infinity values are not supported`)}return new ft(pe.float,t,e)}function OE(t,e,n,r){return R2(O2(t,e+1),3,r)}function LE(t,e,n,r){return R2(L2(t,e+1),5,r)}function FE(t,e,n,r){return R2(lm(t,e+1),9,r)}function N2(t,e,n){const r=e.value;if(r===!1)t.push([pe.float.majorEncoded|CE]);else if(r===!0)t.push([pe.float.majorEncoded|SE]);else if(r===null)t.push([pe.float.majorEncoded|kE]);else if(r===void 0)t.push([pe.float.majorEncoded|BE]);else{let i,s=!1;(!n||n.float64!==!0)&&(cm(r),i=O2(Oi,1),r===i||Number.isNaN(r)?(Oi[0]=249,t.push(Oi.slice(0,3)),s=!0):(fm(r),i=L2(Oi,1),r===i&&(Oi[0]=250,t.push(Oi.slice(0,5)),s=!0))),s||(ME(r),i=lm(Oi,1),Oi[0]=251,t.push(Oi.slice(0,9)))}}N2.encodedSize=function(e,n){const r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!n||n.float64!==!0){cm(r);let i=O2(Oi,1);if(r===i||Number.isNaN(r))return 3;if(fm(r),i=L2(Oi,1),r===i)return 5}return 9};const am=new ArrayBuffer(9),mi=new DataView(am,1),Oi=new Uint8Array(am,0);function cm(t){if(t===1/0)mi.setUint16(0,31744,!1);else if(t===-1/0)mi.setUint16(0,64512,!1);else if(Number.isNaN(t))mi.setUint16(0,32256,!1);else{mi.setFloat32(0,t);const e=mi.getUint32(0),n=(e&2139095040)>>23,r=e&8388607;if(n===255)mi.setUint16(0,31744,!1);else if(n===0)mi.setUint16(0,(t&2147483648)>>16|r>>13,!1);else{const i=n-127;i<-24?mi.setUint16(0,0):i<-14?mi.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):mi.setUint16(0,(e&2147483648)>>16|i+15<<10|r>>13,!1)}}}function O2(t,e){if(t.length-e<2)throw new Error(`${zt} not enough data for float16`);const n=(t[e]<<8)+t[e+1];if(n===31744)return 1/0;if(n===64512)return-1/0;if(n===32256)return NaN;const r=n>>10&31,i=n&1023;let s;return r===0?s=i*2**-24:r!==31?s=(i+1024)*2**(r-25):s=i===0?1/0:NaN,n&32768?-s:s}function fm(t){mi.setFloat32(0,t,!1)}function L2(t,e){if(t.length-e<4)throw new Error(`${zt} not enough data for float32`);const n=(t.byteOffset||0)+e;return new DataView(t.buffer,n,4).getFloat32(0,!1)}function ME(t){mi.setFloat64(0,t,!1)}function lm(t,e){if(t.length-e<8)throw new Error(`${zt} not enough data for float64`);const n=(t.byteOffset||0)+e;return new DataView(t.buffer,n,8).getFloat64(0,!1)}N2.compareTokens=Ua.compareTokens;function rn(t,e,n){throw new Error(`${zt} encountered invalid minor (${n}) for major ${t[e]>>>5}`)}function s6(t){return()=>{throw new Error(`${zt} ${t}`)}}const Be=[];for(let t=0;t<=23;t++)Be[t]=rn;Be[24]=jv;Be[25]=Kv;Be[26]=Wv;Be[27]=Qv;Be[28]=rn;Be[29]=rn;Be[30]=rn;Be[31]=rn;for(let t=32;t<=55;t++)Be[t]=rn;Be[56]=Jv;Be[57]=Yv;Be[58]=qv;Be[59]=Zv;Be[60]=rn;Be[61]=rn;Be[62]=rn;Be[63]=rn;for(let t=64;t<=87;t++)Be[t]=Xv;Be[88]=eE;Be[89]=tE;Be[90]=nE;Be[91]=rE;Be[92]=rn;Be[93]=rn;Be[94]=rn;Be[95]=s6("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)Be[t]=sE;Be[120]=oE;Be[121]=aE;Be[122]=cE;Be[123]=fE;Be[124]=rn;Be[125]=rn;Be[126]=rn;Be[127]=s6("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)Be[t]=uE;Be[152]=dE;Be[153]=hE;Be[154]=bE;Be[155]=pE;Be[156]=rn;Be[157]=rn;Be[158]=rn;Be[159]=gE;for(let t=160;t<=183;t++)Be[t]=mE;Be[184]=yE;Be[185]=xE;Be[186]=wE;Be[187]=vE;Be[188]=rn;Be[189]=rn;Be[190]=rn;Be[191]=EE;for(let t=192;t<=215;t++)Be[t]=AE;Be[216]=_E;Be[217]=PE;Be[218]=TE;Be[219]=IE;Be[220]=rn;Be[221]=rn;Be[222]=rn;Be[223]=rn;for(let t=224;t<=243;t++)Be[t]=s6("simple values are not supported");Be[244]=rn;Be[245]=rn;Be[246]=rn;Be[247]=RE;Be[248]=s6("simple values are not supported");Be[249]=OE;Be[250]=LE;Be[251]=FE;Be[252]=rn;Be[253]=rn;Be[254]=rn;Be[255]=NE;const Ds=[];for(let t=0;t<24;t++)Ds[t]=new ft(pe.uint,t,1);for(let t=-1;t>=-24;t--)Ds[31-t]=new ft(pe.negint,t,1);Ds[64]=new ft(pe.bytes,new Uint8Array(0),1);Ds[96]=new ft(pe.string,"",1);Ds[128]=new ft(pe.array,0,1);Ds[160]=new ft(pe.map,0,1);Ds[244]=new ft(pe.false,!1,1);Ds[245]=new ft(pe.true,!0,1);Ds[246]=new ft(pe.null,null,1);function UE(t){switch(t.type){case pe.false:return Gs([244]);case pe.true:return Gs([245]);case pe.null:return Gs([246]);case pe.bytes:return t.value.length?void 0:Gs([64]);case pe.string:return t.value===""?Gs([96]):void 0;case pe.array:return t.value===0?Gs([128]):void 0;case pe.map:return t.value===0?Gs([160]):void 0;case pe.uint:return t.value<24?Gs([Number(t.value)]):void 0;case pe.negint:if(t.value>=-24)return Gs([31-Number(t.value)])}}const DE={float64:!1,mapSorter:VE,quickEncodeToken:UE};function HE(){const t=[];return t[pe.uint.major]=Ua,t[pe.negint.major]=C2,t[pe.bytes.major]=i6,t[pe.string.major]=lE,t[pe.array.major]=S2,t[pe.map.major]=k2,t[pe.tag.major]=B2,t[pe.float.major]=N2,t}const um=HE(),J6=new im;class od{constructor(e,n){this.obj=e,this.parent=n}includes(e){let n=this;do if(n.obj===e)return!0;while(n=n.parent);return!1}static createCheck(e,n){if(e&&e.includes(n))throw new Error(`${sm} object contains circular references`);return new od(n,e)}}const C0={null:new ft(pe.null,null),undefined:new ft(pe.undefined,void 0),true:new ft(pe.true,!0),false:new ft(pe.false,!1),emptyArray:new ft(pe.array,0),emptyMap:new ft(pe.map,0)},Ao={number(t,e,n,r){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new ft(pe.float,t):t>=0?new ft(pe.uint,t):new ft(pe.negint,t)},bigint(t,e,n,r){return t>=BigInt(0)?new ft(pe.uint,t):new ft(pe.negint,t)},Uint8Array(t,e,n,r){return new ft(pe.bytes,t)},string(t,e,n,r){return new ft(pe.string,t)},boolean(t,e,n,r){return t?C0.true:C0.false},null(t,e,n,r){return C0.null},undefined(t,e,n,r){return C0.undefined},ArrayBuffer(t,e,n,r){return new ft(pe.bytes,new Uint8Array(t))},DataView(t,e,n,r){return new ft(pe.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,n,r){if(!t.length)return n.addBreakTokens===!0?[C0.emptyArray,new ft(pe.break)]:C0.emptyArray;r=od.createCheck(r,t);const i=[];let s=0;for(const o of t)i[s++]=xu(o,n,r);return n.addBreakTokens?[new ft(pe.array,t.length),i,new ft(pe.break)]:[new ft(pe.array,t.length),i]},Object(t,e,n,r){const i=e!=="Object",s=i?t.keys():Object.keys(t),o=i?t.size:s.length;if(!o)return n.addBreakTokens===!0?[C0.emptyMap,new ft(pe.break)]:C0.emptyMap;r=od.createCheck(r,t);const a=[];let c=0;for(const f of s)a[c++]=[xu(f,n,r),xu(i?t.get(f):t[f],n,r)];return GE(a,n),n.addBreakTokens?[new ft(pe.map,o),a,new ft(pe.break)]:[new ft(pe.map,o),a]}};Ao.Map=Ao.Object;Ao.Buffer=Ao.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Ao[`${t}Array`]=Ao.DataView;function xu(t,e={},n){const r=Nv(t),i=e&&e.typeEncoders&&e.typeEncoders[r]||Ao[r];if(typeof i=="function"){const o=i(t,r,e,n);if(o!=null)return o}const s=Ao[r];if(!s)throw new Error(`${sm} unsupported type: ${r}`);return s(t,r,e,n)}function GE(t,e){e.mapSorter&&t.sort(e.mapSorter)}function VE(t,e){const n=Array.isArray(t[0])?t[0][0]:t[0],r=Array.isArray(e[0])?e[0][0]:e[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,s=um[i].compareTokens(n,r);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function dm(t,e,n,r){if(Array.isArray(e))for(const i of e)dm(t,i,n,r);else n[e.type.major](t,e,r)}function $E(t,e,n){const r=xu(t,n);if(!Array.isArray(r)&&n.quickEncodeToken){const i=n.quickEncodeToken(r);if(i)return i;const s=e[r.type.major];if(s.encodedSize){const o=s.encodedSize(r,n),a=new im(o);if(s(a,r,n),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return rm(a.chunks[0])}}return J6.reset(),dm(J6,r,e,n),J6.toBytes(!0)}function Xa(t,e){return e=Object.assign({},DE,e),$E(t,um,e)}const zE={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class jE{constructor(e,n={}){this.pos=0,this.data=e,this.options=n}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let n=Ds[e];if(n===void 0){const r=Be[e];if(!r)throw new Error(`${zt} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const i=e&31;n=r(this.data,this.pos,i,this.options)}return this.pos+=n.encodedLength,n}}const L1=Symbol.for("DONE"),o6=Symbol.for("BREAK");function KE(t,e,n){const r=[];for(let i=0;i<t.value;i++){const s=F1(e,n);if(s===o6){if(t.value===1/0)break;throw new Error(`${zt} got unexpected break to lengthed array`)}if(s===L1)throw new Error(`${zt} found array but not enough entries (got ${i}, expected ${t.value})`);r[i]=s}return r}function WE(t,e,n){const r=n.useMaps===!0,i=r?void 0:{},s=r?new Map:void 0;for(let o=0;o<t.value;o++){const a=F1(e,n);if(a===o6){if(t.value===1/0)break;throw new Error(`${zt} got unexpected break to lengthed map`)}if(a===L1)throw new Error(`${zt} found map but not enough entries (got ${o} [no key], expected ${t.value})`);if(r!==!0&&typeof a!="string")throw new Error(`${zt} non-string keys not supported (got ${typeof a})`);if(n.rejectDuplicateMapKeys===!0&&(r&&s.has(a)||!r&&a in i))throw new Error(`${zt} found repeat map key "${a}"`);const c=F1(e,n);if(c===L1)throw new Error(`${zt} found map but not enough entries (got ${o} [no value], expected ${t.value})`);r?s.set(a,c):i[a]=c}return r?s:i}function F1(t,e){if(t.done())return L1;const n=t.next();if(n.type===pe.break)return o6;if(n.type.terminal)return n.value;if(n.type===pe.array)return KE(n,t,e);if(n.type===pe.map)return WE(n,t,e);if(n.type===pe.tag){if(e.tags&&typeof e.tags[n.value]=="function"){const r=F1(t,e);return e.tags[n.value](r)}throw new Error(`${zt} tag not supported (${n.value})`)}throw new Error("unsupported")}function wu(t,e){if(!(t instanceof Uint8Array))throw new Error(`${zt} data to decode must be a Uint8Array`);e=Object.assign({},zE,e);const n=e.tokenizer||new jE(t,e),r=F1(n,e);if(r===L1)throw new Error(`${zt} did not find any content to decode`);if(r===o6)throw new Error(`${zt} got unexpected break`);if(!n.done())throw new Error(`${zt} too many terminals, data makes no sense`);return r}const QE="6.10.0";function JE(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Br(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function ut(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&JE(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function rc(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(rc).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return rc(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${rc(n)}: ${rc(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function vr(t,e){return t&&t.code===e}function F2(t){return vr(t,"CALL_EXCEPTION")}function Un(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${rc(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+rc(a))}}s.push(`code=${e}`),s.push(`version=${QE}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return ut(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&ut(i,{shortMessage:r}),i}function ge(t,e,n,r){if(!t)throw Un(e,n,r)}function W(t,e,n,r){ge(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function hm(t,e,n){n==null&&(n=""),n&&(n=": "+n),ge(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),ge(t<=e,"too many arguemnts"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const YE=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function qE(t){ge(YE.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function kl(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),ge(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function bm(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}W(!1,"invalid BytesLike value",e||"value",t)}function nt(t,e){return bm(t,e,!1)}function rr(t,e){return bm(t,e,!0)}function _n(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function ad(t){return _n(t,!0)||t instanceof Uint8Array}const Gp="0123456789abcdef";function $e(t){const e=nt(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Gp[(i&240)>>4]+Gp[i&15]}return n}function Rn(t){return"0x"+t.map(e=>$e(e).substring(2)).join("")}function ya(t){return _n(t,!0)?(t.length-2)/2:nt(t).length}function Sn(t,e,n){const r=nt(t);return n!=null&&n>r.length&&ge(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),$e(r.slice(e??0,n??r.length))}function pm(t,e,n){const r=nt(t);ge(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),$e(i)}function os(t,e){return pm(t,e,!0)}function gm(t,e){return pm(t,e,!1)}const a6=BigInt(0),is=BigInt(1),ic=9007199254740991;function cd(t,e){const n=c6(t,"value"),r=BigInt(Ft(e,"width"));if(ge(n>>r===a6,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-is){const i=(is<<r)-is;return-((~n&i)+is)}return n}function M2(t,e){let n=rt(t,"value");const r=BigInt(Ft(e,"width")),i=is<<r-is;if(n<a6){n=-n,ge(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(is<<r)-is;return(~n&s)+is}else ge(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Uo(t,e){const n=c6(t,"value"),r=BigInt(Ft(e,"bits"));return n&(is<<r)-is}function rt(t,e){switch(typeof t){case"bigint":return t;case"number":return W(Number.isInteger(t),"underflow",e||"value",t),W(t>=-ic&&t<=ic,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){W(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}W(!1,"invalid BigNumberish value",e||"value",t)}function c6(t,e){const n=rt(t,e);return ge(n>=a6,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Vp="0123456789abcdef";function f6(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Vp[n>>4],e+=Vp[n&15];return BigInt(e)}return rt(t)}function Ft(t,e){switch(typeof t){case"bigint":return W(t>=-ic&&t<=ic,"overflow",e||"value",t),Number(t);case"number":return W(Number.isInteger(t),"underflow",e||"value",t),W(t>=-ic&&t<=ic,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ft(BigInt(t),e)}catch(n){W(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}W(!1,"invalid numeric value",e||"value",t)}function ZE(t){return Ft(f6(t))}function cs(t,e){let r=c6(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Ft(e,"width");for(ge(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Qr(t){const e=c6(t,"value");if(e===a6)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function co(t){let e=$e(ad(t)?t:Qr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const $p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const zp=BigInt(58);function XE(t){const e=nt(t);let n=f6(e),r="";for(;n;)r=$p[Number(n%zp)]+r,n/=zp;for(let i=0;i<e.length&&!e[i];i++)r=$p[0]+r;return r}function eA(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return nt(e)}function tA(t){const e=nt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var yc;class mm{constructor(e,n,r){Q(this,"filter");Q(this,"emitter");$(this,yc,void 0);R(this,yc,n),ut(this,{emitter:e,filter:r})}async removeListener(){d(this,yc)!=null&&await this.emitter.off(this.filter,d(this,yc))}}yc=new WeakMap;function nA(t,e,n,r,i){W(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function ym(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function rA(t,e,n,r,i){return t==="OVERLONG"?(W(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),ym(t,e,n))}const iA=Object.freeze({error:nA,ignore:ym,replace:rA});function sA(t,e){e==null&&(e=iA.error);const n=nt(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let c=s&(1<<8-o-1)-1;for(let f=0;f<o;f++){let l=n[i];if((l&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),c=null;break}c=c<<6|l&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,c);continue}if(c<=a){i+=e("OVERLONG",i-1-o,n,r,c);continue}r.push(c)}}return r}function Ns(t,e){e!=null&&(qE(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);W(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function oA(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function U2(t,e){return oA(sA(t,e))}function xm(t){async function e(n,r){const i=n.url.split(":")[0].toLowerCase();ge(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ge(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s;if(r){const u=new AbortController;s=u.signal,r.addListener(()=>{u.abort()})}const o={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s},a=await fetch(n.url,o),c={};a.headers.forEach((u,p)=>{c[p.toLowerCase()]=u});const f=await a.arrayBuffer(),l=f==null?null:new Uint8Array(f);return{statusCode:a.status,statusMessage:a.statusText,headers:c,body:l}}return e}const aA=12,cA=250;let jp=xm();const fA=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),lA=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Y6=!1;async function wm(t,e){try{const n=t.match(fA);if(!n)throw new Error("invalid data");return new yo(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?eA(n[3]):dA(n[3]))}catch{return new yo(599,"BAD REQUEST (invalid data: URI)",{},null,new g0(t))}}function vm(t){async function e(n,r){try{const i=n.match(lA);if(!i)throw new Error("invalid link");return new g0(`${t}${i[2]}`)}catch{return new yo(599,"BAD REQUEST (invalid IPFS URI)",{},null,new g0(n))}}return e}const Ql={data:wm,ipfs:vm("https://gateway.ipfs.io/ipfs/")},Em=new WeakMap;var jo,j0;class uA{constructor(e){$(this,jo,void 0);$(this,j0,void 0);R(this,jo,[]),R(this,j0,!1),Em.set(e,()=>{if(!d(this,j0)){R(this,j0,!0);for(const n of d(this,jo))setTimeout(()=>{n()},0);R(this,jo,[])}})}addListener(e){ge(!d(this,j0),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,jo).push(e)}get cancelled(){return d(this,j0)}checkSignal(){ge(!this.cancelled,"cancelled","CANCELLED",{})}}jo=new WeakMap,j0=new WeakMap;function Jl(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var xc,wc,Hi,Ws,vc,Ec,$n,ei,Qs,Ko,Wo,Qo,ps,Js,K0,Jo,r1;const Sd=class Sd{constructor(e){$(this,Jo);$(this,xc,void 0);$(this,wc,void 0);$(this,Hi,void 0);$(this,Ws,void 0);$(this,vc,void 0);$(this,Ec,void 0);$(this,$n,void 0);$(this,ei,void 0);$(this,Qs,void 0);$(this,Ko,void 0);$(this,Wo,void 0);$(this,Qo,void 0);$(this,ps,void 0);$(this,Js,void 0);$(this,K0,void 0);R(this,Ec,String(e)),R(this,xc,!1),R(this,wc,!0),R(this,Hi,{}),R(this,Ws,""),R(this,vc,3e5),R(this,Js,{slotInterval:cA,maxAttempts:aA}),R(this,K0,null)}get url(){return d(this,Ec)}set url(e){R(this,Ec,String(e))}get body(){return d(this,$n)==null?null:new Uint8Array(d(this,$n))}set body(e){if(e==null)R(this,$n,void 0),R(this,ei,void 0);else if(typeof e=="string")R(this,$n,Ns(e)),R(this,ei,"text/plain");else if(e instanceof Uint8Array)R(this,$n,e),R(this,ei,"application/octet-stream");else if(typeof e=="object")R(this,$n,Ns(JSON.stringify(e))),R(this,ei,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,$n)!=null}get method(){return d(this,Ws)?d(this,Ws):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),R(this,Ws,String(e).toUpperCase())}get headers(){const e=Object.assign({},d(this,Hi));return d(this,Qs)&&(e.authorization=`Basic ${tA(Ns(d(this,Qs)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&d(this,ei)&&(e["content-type"]=d(this,ei)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){d(this,Hi)[String(e).toLowerCase()]=String(n)}clearHeaders(){R(this,Hi,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,Qs)||null}setCredentials(e,n){W(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),R(this,Qs,`${e}:${n}`)}get allowGzip(){return d(this,wc)}set allowGzip(e){R(this,wc,!!e)}get allowInsecureAuthentication(){return!!d(this,xc)}set allowInsecureAuthentication(e){R(this,xc,!!e)}get timeout(){return d(this,vc)}set timeout(e){W(e>=0,"timeout must be non-zero","timeout",e),R(this,vc,e)}get preflightFunc(){return d(this,Ko)||null}set preflightFunc(e){R(this,Ko,e)}get processFunc(){return d(this,Wo)||null}set processFunc(e){R(this,Wo,e)}get retryFunc(){return d(this,Qo)||null}set retryFunc(e){R(this,Qo,e)}get getUrlFunc(){return d(this,K0)||jp}set getUrlFunc(e){R(this,K0,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,$n)?$e(d(this,$n)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(d(this,Js).slotInterval=e.slotInterval),e.maxAttempts!=null&&(d(this,Js).maxAttempts=e.maxAttempts)}send(){return ge(d(this,ps)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),R(this,ps,new uA(this)),re(this,Jo,r1).call(this,0,Kp()+this.timeout,0,this,new yo(0,"",{},null,this))}cancel(){ge(d(this,ps)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Em.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();ge(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Sd(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,R(i,Hi,Object.assign({},d(this,Hi))),d(this,$n)&&R(i,$n,new Uint8Array(d(this,$n))),R(i,ei,d(this,ei)),i}clone(){const e=new Sd(this.url);return R(e,Ws,d(this,Ws)),d(this,$n)&&R(e,$n,d(this,$n)),R(e,ei,d(this,ei)),R(e,Hi,Object.assign({},d(this,Hi))),R(e,Qs,d(this,Qs)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),R(e,Ko,d(this,Ko)),R(e,Wo,d(this,Wo)),R(e,Qo,d(this,Qo)),R(e,K0,d(this,K0)),e}static lockConfig(){Y6=!0}static getGateway(e){return Ql[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Y6)throw new Error("gateways locked");Ql[e]=n}static registerGetUrl(e){if(Y6)throw new Error("gateways locked");jp=e}static createGetUrlFunc(e){return xm()}static createDataGateway(){return wm}static createIpfsGatewayFunc(e){return vm(e)}};xc=new WeakMap,wc=new WeakMap,Hi=new WeakMap,Ws=new WeakMap,vc=new WeakMap,Ec=new WeakMap,$n=new WeakMap,ei=new WeakMap,Qs=new WeakMap,Ko=new WeakMap,Wo=new WeakMap,Qo=new WeakMap,ps=new WeakMap,Js=new WeakMap,K0=new WeakMap,Jo=new WeakSet,r1=async function(e,n,r,i,s){var l,u,p;if(e>=d(this,Js).maxAttempts)return s.makeServerError("exceeded maximum retry limit");ge(Kp()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await hA(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Ql){const m=await Ql[a](o.url,Jl(d(i,ps)));if(m instanceof yo){let A=m;if(this.processFunc){Jl(d(i,ps));try{A=await this.processFunc(o,A)}catch(E){(E.throttle==null||typeof E.stall!="number")&&A.makeServerError("error in post-processing function",E).assertOk()}}return A}o=m}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,Jl(d(i,ps)));let f=new yo(c.statusCode,c.statusMessage,c.headers,c.body,i);if(f.statusCode===301||f.statusCode===302){try{const m=f.headers.location||"";return re(l=o.redirect(m),Jo,r1).call(l,e+1,n,0,i,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,f,e))){const m=f.headers["retry-after"];let A=d(this,Js).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(A=parseInt(m)),re(u=o.clone(),Jo,r1).call(u,e+1,n,A,i,f)}if(this.processFunc){Jl(d(i,ps));try{f=await this.processFunc(o,f)}catch(m){(m.throttle==null||typeof m.stall!="number")&&f.makeServerError("error in post-processing function",m).assertOk();let A=d(this,Js).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(A=m.stall),re(p=o.clone(),Jo,r1).call(p,e+1,n,A,i,f)}}return f};let g0=Sd;var Z1,X1,el,Gi,Ac,Yo;const Lb=class Lb{constructor(e,n,r,i,s){$(this,Z1,void 0);$(this,X1,void 0);$(this,el,void 0);$(this,Gi,void 0);$(this,Ac,void 0);$(this,Yo,void 0);R(this,Z1,e),R(this,X1,n),R(this,el,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),R(this,Gi,i==null?null:new Uint8Array(i)),R(this,Ac,s||null),R(this,Yo,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${d(this,Gi)?$e(d(this,Gi)):"null"}>`}get statusCode(){return d(this,Z1)}get statusMessage(){return d(this,X1)}get headers(){return Object.assign({},d(this,el))}get body(){return d(this,Gi)==null?null:new Uint8Array(d(this,Gi))}get bodyText(){try{return d(this,Gi)==null?"":U2(d(this,Gi))}catch{ge(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ge(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Lb(599,r,this.headers,this.body,d(this,Ac)||void 0);return R(i,Yo,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:W(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw ut(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return d(this,Gi)!=null}get request(){return d(this,Ac)}ok(){return d(this,Yo).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=d(this,Yo);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),ge(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n})}};Z1=new WeakMap,X1=new WeakMap,el=new WeakMap,Gi=new WeakMap,Ac=new WeakMap,Yo=new WeakMap;let yo=Lb;function Kp(){return new Date().getTime()}function dA(t){return Ns(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function hA(t){return new Promise(e=>setTimeout(e,t))}const bA=BigInt(-1),Li=BigInt(0),sc=BigInt(1),pA=BigInt(5),$a={};let hc="0000";for(;hc.length<80;)hc+=hc;function So(t){let e=hc;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Zf(t,e,n){const r=BigInt(e.width);if(e.signed){const i=sc<<r-sc;ge(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Li?t=cd(Uo(t,r),r):t=-cd(Uo(-t,r),r)}else{const i=sc<<r;ge(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-sc}return t}function q6(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);W(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,c,f)=>s[a]==null?f:(W(typeof s[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}W(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),W(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function gA(t,e){let n="";t<Li&&(n="-",t*=bA);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=hc+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Vi,un,Ir,Ys,Bo,$i,$s,tl,Kh,nl,Wh,rl,Qh,il,Jh;const V0=class V0{constructor(e,n,r){$(this,Ys);$(this,$i);$(this,tl);$(this,nl);$(this,rl);$(this,il);Q(this,"format");$(this,Vi,void 0);$(this,un,void 0);$(this,Ir,void 0);Q(this,"_value");kl(e,$a,"FixedNumber"),R(this,un,n),R(this,Vi,r);const i=gA(n,r.decimals);ut(this,{format:r.name,_value:i}),R(this,Ir,So(r.decimals))}get signed(){return d(this,Vi).signed}get width(){return d(this,Vi).width}get decimals(){return d(this,Vi).decimals}get value(){return d(this,un)}addUnsafe(e){return re(this,tl,Kh).call(this,e)}add(e){return re(this,tl,Kh).call(this,e,"add")}subUnsafe(e){return re(this,nl,Wh).call(this,e)}sub(e){return re(this,nl,Wh).call(this,e,"sub")}mulUnsafe(e){return re(this,rl,Qh).call(this,e)}mul(e){return re(this,rl,Qh).call(this,e,"mul")}mulSignal(e){re(this,Ys,Bo).call(this,e);const n=d(this,un)*d(e,un);return ge(n%d(this,Ir)===Li,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),re(this,$i,$s).call(this,n/d(this,Ir),"mulSignal")}divUnsafe(e){return re(this,il,Jh).call(this,e)}div(e){return re(this,il,Jh).call(this,e,"div")}divSignal(e){ge(d(e,un)!==Li,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),re(this,Ys,Bo).call(this,e);const n=d(this,un)*d(this,Ir);return ge(n%d(e,un)===Li,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),re(this,$i,$s).call(this,n/d(e,un),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=So(i):i<0&&(n*=So(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=d(this,un);return d(this,un)<Li&&(e-=d(this,Ir)-sc),e=d(this,un)/d(this,Ir)*d(this,Ir),re(this,$i,$s).call(this,e,"floor")}ceiling(){let e=d(this,un);return d(this,un)>Li&&(e+=d(this,Ir)-sc),e=d(this,un)/d(this,Ir)*d(this,Ir),re(this,$i,$s).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=pA*So(n-1);let i=this.value+r;const s=So(n);return i=i/s*s,Zf(i,d(this,Vi),"round"),new V0($a,i,d(this,Vi))}isZero(){return d(this,un)===Li}isNegative(){return d(this,un)<Li}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return V0.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:Ft(n),s=q6(r);let o=rt(e,"value");const a=i-s.decimals;if(a>0){const c=So(a);ge(o%c===Li,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=So(-a));return Zf(o,s,"fromValue"),new V0($a,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);W(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=q6(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=hc;ge(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return Zf(a,i,"fromString"),new V0($a,a,i)}static fromBytes(e,n){let r=f6(nt(e,"value"));const i=q6(n);return i.signed&&(r=cd(r,i.width)),Zf(r,i,"fromBytes"),new V0($a,r,i)}};Vi=new WeakMap,un=new WeakMap,Ir=new WeakMap,Ys=new WeakSet,Bo=function(e){W(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},$i=new WeakSet,$s=function(e,n){return e=Zf(e,d(this,Vi),n),new V0($a,e,d(this,Vi))},tl=new WeakSet,Kh=function(e,n){return re(this,Ys,Bo).call(this,e),re(this,$i,$s).call(this,d(this,un)+d(e,un),n)},nl=new WeakSet,Wh=function(e,n){return re(this,Ys,Bo).call(this,e),re(this,$i,$s).call(this,d(this,un)-d(e,un),n)},rl=new WeakSet,Qh=function(e,n){return re(this,Ys,Bo).call(this,e),re(this,$i,$s).call(this,d(this,un)*d(e,un)/d(this,Ir),n)},il=new WeakSet,Jh=function(e,n){return ge(d(e,un)!==Li,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),re(this,Ys,Bo).call(this,e),re(this,$i,$s).call(this,d(this,un)*d(this,Ir)/d(e,un),n)};let fd=V0;function mA(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Wp(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function Qp(t,e,n,r){const i=[];for(;n<e+1+r;){const s=Am(t,n);i.push(s.result),n+=s.consumed,ge(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function Am(t,e){ge(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{ge(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=Wp(t,e+1,r);return n(e+1+r+i),Qp(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),Qp(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=Wp(t,e+1,r);n(e+1+r+i);const s=$e(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=$e(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:mA(t[e])}}function Bl(t){const e=nt(t,"data"),n=Am(e,0);return W(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function Jp(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function _m(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(_m(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=Jp(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(nt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=Jp(e.length);return n.unshift(183+n.length),n.concat(e)}const Yp="0123456789abcdef";function Ia(t){let e="0x";for(const n of _m(t))e+=Yp[n>>4],e+=Yp[n&15];return e}const Pm=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Tm(t,e){let n=18;if(typeof e=="string"){const r=Pm.indexOf(e);W(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Ft(e,"unit"));return fd.fromValue(t,n,{decimals:n,width:512}).toString()}function yA(t,e){W(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=Pm.indexOf(e);W(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Ft(e,"unit"));return fd.fromString(t,{decimals:n,width:512}).value}function qp(t){return Tm(t,18)}function Im(t){return yA(t,18)}const Lr=32,Yh=new Uint8Array(Lr),xA=["then"],Yl={};function Xf(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}var W0;const P1=class P1 extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==Yl&&(i=n,s=[],o=!1);super(i.length);$(this,W0,void 0);i.forEach((c,f)=>{this[f]=c});const a=s.reduce((c,f)=>(typeof f=="string"&&c.set(f,(c.get(f)||0)+1),c),new Map);if(R(this,W0,Object.freeze(i.map((c,f)=>{const l=s[f];return l!=null&&a.get(l)===1?l:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(c,f,l)=>{if(typeof f=="string"){if(f.match(/^[0-9]+$/)){const p=Ft(f,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const m=c[p];return m instanceof Error&&Xf(`index ${p}`,m),m}if(xA.indexOf(f)>=0)return Reflect.get(c,f,l);const u=c[f];if(u instanceof Function)return function(...p){return u.apply(this===l?c:this,p)};if(!(f in c))return c.getValue.apply(this===l?c:this,[f])}return Reflect.get(c,f,l)}})}toArray(){const n=[];return this.forEach((r,i)=>{r instanceof Error&&Xf(`index ${i}`,r),n.push(r)}),n}toObject(){return d(this,W0).reduce((n,r,i)=>(ge(r!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),r in n||(n[r]=this.getValue(r)),n),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=[],s=[];for(let o=n;o<r;o++)i.push(this[o]),s.push(d(this,W0)[o]);return new P1(Yl,i,s)}filter(n,r){const i=[],s=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&Xf(`index ${o}`,a),n.call(r,a,o,this)&&(i.push(a),s.push(d(this,W0)[o]))}return new P1(Yl,i,s)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Xf(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=d(this,W0).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Xf(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new P1(Yl,n,r)}};W0=new WeakMap;let ld=P1;function Zp(t){let e=Qr(t);return ge(e.length<=Lr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Lr,offset:e.length}),e.length!==Lr&&(e=rr(Rn([Yh.slice(e.length%Lr),e]))),e}class v0{constructor(e,n,r,i){Q(this,"name");Q(this,"type");Q(this,"localName");Q(this,"dynamic");ut(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){W(!1,e,this.localName,n)}}var qs,qo,_c,vu;class qh{constructor(){$(this,_c);$(this,qs,void 0);$(this,qo,void 0);R(this,qs,[]),R(this,qo,0)}get data(){return Rn(d(this,qs))}get length(){return d(this,qo)}appendWriter(e){return re(this,_c,vu).call(this,rr(e.data))}writeBytes(e){let n=rr(e);const r=n.length%Lr;return r&&(n=rr(Rn([n,Yh.slice(r)]))),re(this,_c,vu).call(this,n)}writeValue(e){return re(this,_c,vu).call(this,Zp(e))}writeUpdatableValue(){const e=d(this,qs).length;return d(this,qs).push(Yh),R(this,qo,d(this,qo)+Lr),n=>{d(this,qs)[e]=Zp(n)}}}qs=new WeakMap,qo=new WeakMap,_c=new WeakSet,vu=function(e){return d(this,qs).push(e),R(this,qo,d(this,qo)+e.length),e.length};var Gr,ti,Zo,Xo,Q0,sl,Xh,kd,Cm;const Fb=class Fb{constructor(e,n,r){$(this,sl);$(this,kd);Q(this,"allowLoose");$(this,Gr,void 0);$(this,ti,void 0);$(this,Zo,void 0);$(this,Xo,void 0);$(this,Q0,void 0);ut(this,{allowLoose:!!n}),R(this,Gr,rr(e)),R(this,Zo,0),R(this,Xo,null),R(this,Q0,r??1024),R(this,ti,0)}get data(){return $e(d(this,Gr))}get dataLength(){return d(this,Gr).length}get consumed(){return d(this,ti)}get bytes(){return new Uint8Array(d(this,Gr))}subReader(e){const n=new Fb(d(this,Gr).slice(d(this,ti)+e),this.allowLoose,d(this,Q0));return R(n,Xo,this),n}readBytes(e,n){let r=re(this,kd,Cm).call(this,0,e,!!n);return re(this,sl,Xh).call(this,e),R(this,ti,d(this,ti)+r.length),r.slice(0,e)}readValue(){return f6(this.readBytes(Lr))}readIndex(){return ZE(this.readBytes(Lr))}};Gr=new WeakMap,ti=new WeakMap,Zo=new WeakMap,Xo=new WeakMap,Q0=new WeakMap,sl=new WeakSet,Xh=function(e){var n;if(d(this,Xo))return re(n=d(this,Xo),sl,Xh).call(n,e);R(this,Zo,d(this,Zo)+e),ge(d(this,Q0)<1||d(this,Zo)<=d(this,Q0)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${d(this,Q0)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:rr(d(this,Gr)),offset:d(this,ti),length:e,info:{bytesRead:d(this,Zo),dataLength:this.dataLength}})},kd=new WeakSet,Cm=function(e,n,r){let i=Math.ceil(n/Lr)*Lr;return d(this,ti)+i>d(this,Gr).length&&(this.allowLoose&&r&&d(this,ti)+n<=d(this,Gr).length?i=n:ge(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:rr(d(this,Gr)),length:d(this,Gr).length,offset:d(this,ti)+i})),d(this,Gr).slice(d(this,ti),d(this,ti)+i)};let Zh=Fb;function M1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function wA(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function vA(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function l6(t,...e){if(!vA(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Sm(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");M1(t.outputLen),M1(t.blockLen)}function Ca(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function D2(t,e){l6(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const EA={number:M1,bool:wA,bytes:l6,hash:Sm,exists:Ca,output:D2},Z6=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AA=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function H2(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const X6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),hs=(t,e)=>t<<32-e|t>>>e,_A=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_A)throw new Error("Non little-endian hardware is not supported");const PA=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e5(t){if(!H2(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=PA[t[n]];return e}function G2(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function u6(t){if(typeof t=="string"&&(t=G2(t)),!H2(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function TA(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];if(!H2(i))throw new Error("Uint8Array expected");e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class V2{clone(){return this._cloneInto()}}function $2(t){const e=r=>t().update(u6(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function IA(t=32){if(Z6&&typeof Z6.getRandomValues=="function")return Z6.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class km extends V2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Sm(e);const r=u6(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ca(this),this.iHash.update(e),this}digestInto(e){Ca(this),l6(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const z2=(t,e,n)=>new km(t,e).update(n).digest();z2.create=(t,e)=>new km(t,e);function CA(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,f=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+f,a,r)}class Bm extends V2{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=X6(this.buffer)}update(e){Ca(this);const{view:n,buffer:r,blockLen:i}=this;e=u6(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=X6(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ca(this),D2(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let u=o;u<i;u++)n[u]=0;CA(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=X6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<f;u++)a.setUint32(4*u,l[u],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const SA=(t,e,n)=>t&e^~t&n,kA=(t,e,n)=>t&e^t&n^e&n,BA=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),k0=new Uint32Array(64);class RA extends Bm{constructor(){super(64,32,8,!1),this.A=S0[0]|0,this.B=S0[1]|0,this.C=S0[2]|0,this.D=S0[3]|0,this.E=S0[4]|0,this.F=S0[5]|0,this.G=S0[6]|0,this.H=S0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let u=0;u<16;u++,n+=4)k0[u]=e.getUint32(n,!1);for(let u=16;u<64;u++){const p=k0[u-15],m=k0[u-2],A=hs(p,7)^hs(p,18)^p>>>3,E=hs(m,17)^hs(m,19)^m>>>10;k0[u]=E+k0[u-7]+A+k0[u-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:f,H:l}=this;for(let u=0;u<64;u++){const p=hs(a,6)^hs(a,11)^hs(a,25),m=l+p+SA(a,c,f)+BA[u]+k0[u]|0,E=(hs(r,2)^hs(r,13)^hs(r,22))+kA(r,i,s)|0;l=f,f=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+E|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,f,l)}roundClean(){k0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const d6=$2(()=>new RA),ql=BigInt(2**32-1),t5=BigInt(32);function Rm(t,e=!1){return e?{h:Number(t&ql),l:Number(t>>t5&ql)}:{h:Number(t>>t5&ql)|0,l:Number(t&ql)|0}}function Nm(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Rm(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const NA=(t,e)=>BigInt(t>>>0)<<t5|BigInt(e>>>0),OA=(t,e,n)=>t>>>n,LA=(t,e,n)=>t<<32-n|e>>>n,FA=(t,e,n)=>t>>>n|e<<32-n,MA=(t,e,n)=>t<<32-n|e>>>n,UA=(t,e,n)=>t<<64-n|e>>>n-32,DA=(t,e,n)=>t>>>n-32|e<<64-n,HA=(t,e)=>e,GA=(t,e)=>t,Om=(t,e,n)=>t<<n|e>>>32-n,Lm=(t,e,n)=>e<<n|t>>>32-n,Fm=(t,e,n)=>e<<n-32|t>>>64-n,Mm=(t,e,n)=>t<<n-32|e>>>64-n;function VA(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const $A=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),zA=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,jA=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),KA=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,WA=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),QA=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Lt={fromBig:Rm,split:Nm,toBig:NA,shrSH:OA,shrSL:LA,rotrSH:FA,rotrSL:MA,rotrBH:UA,rotrBL:DA,rotr32H:HA,rotr32L:GA,rotlSH:Om,rotlSL:Lm,rotlBH:Fm,rotlBL:Mm,add:VA,add3L:$A,add3H:zA,add4L:jA,add4H:KA,add5H:QA,add5L:WA},[JA,YA]=Lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),B0=new Uint32Array(80),R0=new Uint32Array(80);class qA extends Bm{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:f,El:l,Fh:u,Fl:p,Gh:m,Gl:A,Hh:E,Hl:I}=this;return[e,n,r,i,s,o,a,c,f,l,u,p,m,A,E,I]}set(e,n,r,i,s,o,a,c,f,l,u,p,m,A,E,I){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=l|0,this.Fh=u|0,this.Fl=p|0,this.Gh=m|0,this.Gl=A|0,this.Hh=E|0,this.Hl=I|0}process(e,n){for(let F=0;F<16;F++,n+=4)B0[F]=e.getUint32(n),R0[F]=e.getUint32(n+=4);for(let F=16;F<80;F++){const U=B0[F-15]|0,H=R0[F-15]|0,z=Lt.rotrSH(U,H,1)^Lt.rotrSH(U,H,8)^Lt.shrSH(U,H,7),ce=Lt.rotrSL(U,H,1)^Lt.rotrSL(U,H,8)^Lt.shrSL(U,H,7),ee=B0[F-2]|0,ae=R0[F-2]|0,Te=Lt.rotrSH(ee,ae,19)^Lt.rotrBH(ee,ae,61)^Lt.shrSH(ee,ae,6),Ce=Lt.rotrSL(ee,ae,19)^Lt.rotrBL(ee,ae,61)^Lt.shrSL(ee,ae,6),lt=Lt.add4L(ce,Ce,R0[F-7],R0[F-16]),ot=Lt.add4H(lt,z,Te,B0[F-7],B0[F-16]);B0[F]=ot|0,R0[F]=lt|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:f,Dl:l,Eh:u,El:p,Fh:m,Fl:A,Gh:E,Gl:I,Hh:w,Hl:N}=this;for(let F=0;F<80;F++){const U=Lt.rotrSH(u,p,14)^Lt.rotrSH(u,p,18)^Lt.rotrBH(u,p,41),H=Lt.rotrSL(u,p,14)^Lt.rotrSL(u,p,18)^Lt.rotrBL(u,p,41),z=u&m^~u&E,ce=p&A^~p&I,ee=Lt.add5L(N,H,ce,YA[F],R0[F]),ae=Lt.add5H(ee,w,U,z,JA[F],B0[F]),Te=ee|0,Ce=Lt.rotrSH(r,i,28)^Lt.rotrBH(r,i,34)^Lt.rotrBH(r,i,39),lt=Lt.rotrSL(r,i,28)^Lt.rotrBL(r,i,34)^Lt.rotrBL(r,i,39),ot=r&s^r&a^s&a,Mt=i&o^i&c^o&c;w=E|0,N=I|0,E=m|0,I=A|0,m=u|0,A=p|0,{h:u,l:p}=Lt.add(f|0,l|0,ae|0,Te|0),f=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const me=Lt.add3L(Te,lt,Mt);r=Lt.add3H(me,ae,Ce,ot),i=me|0}({h:r,l:i}=Lt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Lt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Lt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l}=Lt.add(this.Dh|0,this.Dl|0,f|0,l|0),{h:u,l:p}=Lt.add(this.Eh|0,this.El|0,u|0,p|0),{h:m,l:A}=Lt.add(this.Fh|0,this.Fl|0,m|0,A|0),{h:E,l:I}=Lt.add(this.Gh|0,this.Gl|0,E|0,I|0),{h:w,l:N}=Lt.add(this.Hh|0,this.Hl|0,w|0,N|0),this.set(r,i,s,o,a,c,f,l,u,p,m,A,E,I,w,N)}roundClean(){B0.fill(0),R0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ZA extends qA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}const XA=$2(()=>new ZA),[Um,Dm,Hm]=[[],[],[]],e_=BigInt(0),e1=BigInt(1),t_=BigInt(2),n_=BigInt(7),r_=BigInt(256),i_=BigInt(113);for(let t=0,e=e1,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Um.push(2*(5*r+n)),Dm.push((t+1)*(t+2)/2%64);let i=e_;for(let s=0;s<7;s++)e=(e<<e1^(e>>n_)*i_)%r_,e&t_&&(i^=e1<<(e1<<BigInt(s))-e1);Hm.push(i)}const[s_,o_]=Nm(Hm,!0),Xp=(t,e,n)=>n>32?Fm(t,e,n):Om(t,e,n),e8=(t,e,n)=>n>32?Mm(t,e,n):Lm(t,e,n);function a_(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,f=n[c],l=n[c+1],u=Xp(f,l,1)^n[a],p=e8(f,l,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=u,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Dm[o],c=Xp(i,s,a),f=e8(i,s,a),l=Um[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=s_[r],t[1]^=o_[r]}n.fill(0)}class j2 extends V2{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,M1(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=AA(this.state)}keccak(){a_(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ca(this);const{blockLen:n,state:r}=this;e=u6(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ca(this,!1),l6(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return M1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(D2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new j2(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const c_=(t,e,n)=>$2(()=>new j2(e,t,n)),n5=c_(1,136,256/8);let Gm=!1;const Vm=function(t){return n5(t)};let $m=Vm;function xn(t){const e=nt(t,"data");return $e($m(e))}xn._=Vm;xn.lock=function(){Gm=!0};xn.register=function(t){if(Gm)throw new TypeError("keccak256 is locked");$m=t};Object.freeze(xn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zm=BigInt(0),h6=BigInt(1),f_=BigInt(2);function Ms(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const l_=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xf(t){if(!Ms(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=l_[t[n]];return e}function jm(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function K2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Vs={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function t8(t){if(t>=Vs._0&&t<=Vs._9)return t-Vs._0;if(t>=Vs._A&&t<=Vs._F)return t-(Vs._A-10);if(t>=Vs._a&&t<=Vs._f)return t-(Vs._a-10)}function wf(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=t8(t.charCodeAt(s)),a=t8(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function xa(t){return K2(xf(t))}function W2(t){if(!Ms(t))throw new Error("Uint8Array expected");return K2(xf(Uint8Array.from(t).reverse()))}function vf(t,e){return wf(t.toString(16).padStart(e*2,"0"))}function Q2(t,e){return vf(t,e).reverse()}function u_(t){return wf(jm(t))}function Ui(t,e,n){let r;if(typeof e=="string")try{r=wf(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Ms(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function U1(...t){let e=0;for(let i=0;i<t.length;i++){const s=t[i];if(!Ms(s))throw new Error("Uint8Array expected");e+=s.length}let n=new Uint8Array(e),r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}function d_(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function h_(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function b_(t){let e;for(e=0;t>zm;t>>=h6,e+=1);return e}function p_(t,e){return t>>BigInt(e)&h6}const g_=(t,e,n)=>t|(n?h6:zm)<<BigInt(e),J2=t=>(f_<<BigInt(t-1))-h6,eh=t=>new Uint8Array(t),n8=t=>Uint8Array.from(t);function Km(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=eh(t),i=eh(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=eh())=>{i=a(n8([0]),u),r=a(),u.length!==0&&(i=a(n8([1]),u),r=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const p=[];for(;u<e;){r=a();const m=r.slice();p.push(m),u+=r.length}return U1(...p)};return(u,p)=>{o(),c(u);let m;for(;!(m=p(f()));)c();return o(),m}}const m_={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ms(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Rl(t,e,n={}){const r=(i,s,o)=>{const a=m_[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const y_=Object.freeze(Object.defineProperty({__proto__:null,bitGet:p_,bitLen:b_,bitMask:J2,bitSet:g_,bytesToHex:xf,bytesToNumberBE:xa,bytesToNumberLE:W2,concatBytes:U1,createHmacDrbg:Km,ensureBytes:Ui,equalBytes:d_,hexToBytes:wf,hexToNumber:K2,isBytes:Ms,numberToBytesBE:vf,numberToBytesLE:Q2,numberToHexUnpadded:jm,numberToVarBytesBE:u_,utf8ToBytes:h_,validateObject:Rl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jn=BigInt(0),Ln=BigInt(1),No=BigInt(2),x_=BigInt(3),r5=BigInt(4),r8=BigInt(5),i8=BigInt(8);BigInt(9);BigInt(16);function zr(t,e){const n=t%e;return n>=Jn?n:e+n}function w_(t,e,n){if(n<=Jn||e<Jn)throw new Error("Expected power/modulo > 0");if(n===Ln)return Jn;let r=Ln;for(;e>Jn;)e&Ln&&(r=r*t%n),t=t*t%n,e>>=Ln;return r}function pi(t,e,n){let r=t;for(;e-- >Jn;)r*=r,r%=n;return r}function i5(t,e){if(t===Jn||e<=Jn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=zr(t,e),r=e,i=Jn,s=Ln;for(;n!==Jn;){const a=r/n,c=r%n,f=i-s*a;r=n,n=c,i=s,s=f}if(r!==Ln)throw new Error("invert: does not exist");return zr(i,e)}function v_(t){const e=(t-Ln)/No;let n,r,i;for(n=t-Ln,r=0;n%No===Jn;n/=No,r++);for(i=No;i<t&&w_(i,e,t)!==t-Ln;i++);if(r===1){const o=(t+Ln)/r5;return function(c,f){const l=c.pow(f,o);if(!c.eql(c.sqr(l),f))throw new Error("Cannot find square root");return l}}const s=(n+Ln)/No;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=r,l=a.pow(a.mul(a.ONE,i),n),u=a.pow(c,s),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let E=a.sqr(p);m<f&&!a.eql(E,a.ONE);m++)E=a.sqr(E);const A=a.pow(l,Ln<<BigInt(f-m-1));l=a.sqr(A),u=a.mul(u,A),p=a.mul(p,l),f=m}return u}}function E_(t){if(t%r5===x_){const e=(t+Ln)/r5;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%i8===r8){const e=(t-r8)/i8;return function(r,i){const s=r.mul(i,No),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,No),o),f=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(f),i))throw new Error("Cannot find square root");return f}}return v_(t)}const A_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function __(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=A_.reduce((r,i)=>(r[i]="function",r),e);return Rl(t,n)}function P_(t,e,n){if(n<Jn)throw new Error("Expected power > 0");if(n===Jn)return t.ONE;if(n===Ln)return e;let r=t.ONE,i=e;for(;n>Jn;)n&Ln&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ln;return r}function T_(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Wm(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function I_(t,e,n=!1,r={}){if(t<=Jn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Wm(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=E_(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:J2(i),ZERO:Jn,ONE:Ln,create:c=>zr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Jn<=c&&c<t},is0:c=>c===Jn,isOdd:c=>(c&Ln)===Ln,neg:c=>zr(-c,t),eql:(c,f)=>c===f,sqr:c=>zr(c*c,t),add:(c,f)=>zr(c+f,t),sub:(c,f)=>zr(c-f,t),mul:(c,f)=>zr(c*f,t),pow:(c,f)=>P_(a,c,f),div:(c,f)=>zr(c*i5(f,t),t),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>i5(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>T_(a,c),cmov:(c,f,l)=>l?f:c,toBytes:c=>n?Q2(c,s):vf(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?W2(c):xa(c)}});return Object.freeze(a)}function Qm(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Jm(t){const e=Qm(t);return e+Math.ceil(e/2)}function C_(t,e,n=!1){const r=t.length,i=Qm(e),s=Jm(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?xa(t):W2(t),a=zr(o,e-Ln)+Ln;return n?Q2(a,i):vf(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S_=BigInt(0),th=BigInt(1);function k_(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>S_;)s&th&&(o=o.add(a)),a=a.double(),s>>=th;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let f=i,l=f;for(let u=0;u<o;u++){l=f,c.push(l);for(let p=1;p<a;p++)l=l.add(f),c.push(l);f=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let f=t.ZERO,l=t.BASE;const u=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let A=0;A<a;A++){const E=A*c;let I=Number(o&u);o>>=m,I>c&&(I-=p,o+=th);const w=E,N=E+Math.abs(I)-1,F=A%2!==0,U=I<0;I===0?l=l.add(n(F,s[w])):f=f.add(n(U,s[N]))}return{p:f,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let f=s.get(i);return f||(f=this.precomputeWindow(i,c),c!==1&&s.set(i,a(f))),this.wNAF(c,f,o)}}}function Ym(t){return __(t.Fp),Rl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Wm(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function B_(t){const e=Ym(t);Rl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:R_,hexToBytes:N_}=y_,Do={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Do;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:R_(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Do,n=typeof t=="string"?N_(t):t;if(!Ms(n))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Do._parseInt(n.subarray(2)),{d:o,l:a}=Do._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,n=f=>{const l=f.toString(16);return l.length&1?`0${l}`:l},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},c0=BigInt(0),Pi=BigInt(1);BigInt(2);const s8=BigInt(3);BigInt(4);function O_(t){const e=B_(t),{Fp:n}=e,r=e.toBytes||((A,E,I)=>{const w=E.toAffine();return U1(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(A=>{const E=A.subarray(1),I=n.fromBytes(E.subarray(0,n.BYTES)),w=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:I,y:w}});function s(A){const{a:E,b:I}=e,w=n.sqr(A),N=n.mul(w,A);return n.add(n.add(N,n.mul(A,E)),I)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return typeof A=="bigint"&&c0<A&&A<e.n}function a(A){if(!o(A))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(A){const{allowedPrivateKeyLengths:E,nByteLength:I,wrapPrivateKey:w,n:N}=e;if(E&&typeof A!="bigint"){if(Ms(A)&&(A=xf(A)),typeof A!="string"||!E.includes(A.length))throw new Error("Invalid key");A=A.padStart(I*2,"0")}let F;try{F=typeof A=="bigint"?A:xa(Ui("private key",A,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof A}`)}return w&&(F=zr(F,N)),a(F),F}const f=new Map;function l(A){if(!(A instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(E,I,w){if(this.px=E,this.py=I,this.pz=w,E==null||!n.isValid(E))throw new Error("x required");if(I==null||!n.isValid(I))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(E){const{x:I,y:w}=E||{};if(!E||!n.isValid(I)||!n.isValid(w))throw new Error("invalid affine point");if(E instanceof u)throw new Error("projective point not allowed");const N=F=>n.eql(F,n.ZERO);return N(I)&&N(w)?u.ZERO:new u(I,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const I=n.invertBatch(E.map(w=>w.pz));return E.map((w,N)=>w.toAffine(I[N])).map(u.fromAffine)}static fromHex(E){const I=u.fromAffine(i(Ui("pointHex",E)));return I.assertValidity(),I}static fromPrivateKey(E){return u.BASE.multiply(c(E))}_setWindowSize(E){this._WINDOW_SIZE=E,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:E,y:I}=this.toAffine();if(!n.isValid(E)||!n.isValid(I))throw new Error("bad point: x or y not FE");const w=n.sqr(I),N=s(E);if(!n.eql(w,N))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){l(E);const{px:I,py:w,pz:N}=this,{px:F,py:U,pz:H}=E,z=n.eql(n.mul(I,H),n.mul(F,N)),ce=n.eql(n.mul(w,H),n.mul(U,N));return z&&ce}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:I}=e,w=n.mul(I,s8),{px:N,py:F,pz:U}=this;let H=n.ZERO,z=n.ZERO,ce=n.ZERO,ee=n.mul(N,N),ae=n.mul(F,F),Te=n.mul(U,U),Ce=n.mul(N,F);return Ce=n.add(Ce,Ce),ce=n.mul(N,U),ce=n.add(ce,ce),H=n.mul(E,ce),z=n.mul(w,Te),z=n.add(H,z),H=n.sub(ae,z),z=n.add(ae,z),z=n.mul(H,z),H=n.mul(Ce,H),ce=n.mul(w,ce),Te=n.mul(E,Te),Ce=n.sub(ee,Te),Ce=n.mul(E,Ce),Ce=n.add(Ce,ce),ce=n.add(ee,ee),ee=n.add(ce,ee),ee=n.add(ee,Te),ee=n.mul(ee,Ce),z=n.add(z,ee),Te=n.mul(F,U),Te=n.add(Te,Te),ee=n.mul(Te,Ce),H=n.sub(H,ee),ce=n.mul(Te,ae),ce=n.add(ce,ce),ce=n.add(ce,ce),new u(H,z,ce)}add(E){l(E);const{px:I,py:w,pz:N}=this,{px:F,py:U,pz:H}=E;let z=n.ZERO,ce=n.ZERO,ee=n.ZERO;const ae=e.a,Te=n.mul(e.b,s8);let Ce=n.mul(I,F),lt=n.mul(w,U),ot=n.mul(N,H),Mt=n.add(I,w),me=n.add(F,U);Mt=n.mul(Mt,me),me=n.add(Ce,lt),Mt=n.sub(Mt,me),me=n.add(I,N);let xe=n.add(F,H);return me=n.mul(me,xe),xe=n.add(Ce,ot),me=n.sub(me,xe),xe=n.add(w,N),z=n.add(U,H),xe=n.mul(xe,z),z=n.add(lt,ot),xe=n.sub(xe,z),ee=n.mul(ae,me),z=n.mul(Te,ot),ee=n.add(z,ee),z=n.sub(lt,ee),ee=n.add(lt,ee),ce=n.mul(z,ee),lt=n.add(Ce,Ce),lt=n.add(lt,Ce),ot=n.mul(ae,ot),me=n.mul(Te,me),lt=n.add(lt,ot),ot=n.sub(Ce,ot),ot=n.mul(ae,ot),me=n.add(me,ot),Ce=n.mul(lt,me),ce=n.add(ce,Ce),Ce=n.mul(xe,me),z=n.mul(Mt,z),z=n.sub(z,Ce),Ce=n.mul(Mt,lt),ee=n.mul(xe,ee),ee=n.add(ee,Ce),new u(z,ce,ee)}subtract(E){return this.add(E.negate())}is0(){return this.equals(u.ZERO)}wNAF(E){return m.wNAFCached(this,f,E,I=>{const w=n.invertBatch(I.map(N=>N.pz));return I.map((N,F)=>N.toAffine(w[F])).map(u.fromAffine)})}multiplyUnsafe(E){const I=u.ZERO;if(E===c0)return I;if(a(E),E===Pi)return this;const{endo:w}=e;if(!w)return m.unsafeLadder(this,E);let{k1neg:N,k1:F,k2neg:U,k2:H}=w.splitScalar(E),z=I,ce=I,ee=this;for(;F>c0||H>c0;)F&Pi&&(z=z.add(ee)),H&Pi&&(ce=ce.add(ee)),ee=ee.double(),F>>=Pi,H>>=Pi;return N&&(z=z.negate()),U&&(ce=ce.negate()),ce=new u(n.mul(ce.px,w.beta),ce.py,ce.pz),z.add(ce)}multiply(E){a(E);let I=E,w,N;const{endo:F}=e;if(F){const{k1neg:U,k1:H,k2neg:z,k2:ce}=F.splitScalar(I);let{p:ee,f:ae}=this.wNAF(H),{p:Te,f:Ce}=this.wNAF(ce);ee=m.constTimeNegate(U,ee),Te=m.constTimeNegate(z,Te),Te=new u(n.mul(Te.px,F.beta),Te.py,Te.pz),w=ee.add(Te),N=ae.add(Ce)}else{const{p:U,f:H}=this.wNAF(I);w=U,N=H}return u.normalizeZ([w,N])[0]}multiplyAndAddUnsafe(E,I,w){const N=u.BASE,F=(H,z)=>z===c0||z===Pi||!H.equals(N)?H.multiplyUnsafe(z):H.multiply(z),U=F(this,I).add(F(E,w));return U.is0()?void 0:U}toAffine(E){const{px:I,py:w,pz:N}=this,F=this.is0();E==null&&(E=F?n.ONE:n.inv(N));const U=n.mul(I,E),H=n.mul(w,E),z=n.mul(N,E);if(F)return{x:n.ZERO,y:n.ZERO};if(!n.eql(z,n.ONE))throw new Error("invZ was invalid");return{x:U,y:H}}isTorsionFree(){const{h:E,isTorsionFree:I}=e;if(E===Pi)return!0;if(I)return I(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:I}=e;return E===Pi?this:I?I(u,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return this.assertValidity(),r(u,this,E)}toHex(E=!0){return xf(this.toRawBytes(E))}}u.BASE=new u(e.Gx,e.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,m=k_(u,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function L_(t){const e=Ym(t);return Rl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function F_(t){const e=L_(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(me){return c0<me&&me<n.ORDER}function a(me){return zr(me,r)}function c(me){return i5(me,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:p}=O_({...e,toBytes(me,xe,He){const tt=xe.toAffine(),ze=n.toBytes(tt.x),Ke=U1;return He?Ke(Uint8Array.from([xe.hasEvenY()?2:3]),ze):Ke(Uint8Array.from([4]),ze,n.toBytes(tt.y))},fromBytes(me){const xe=me.length,He=me[0],tt=me.subarray(1);if(xe===i&&(He===2||He===3)){const ze=xa(tt);if(!o(ze))throw new Error("Point is not on curve");const Ke=u(ze);let De=n.sqrt(Ke);const Me=(De&Pi)===Pi;return(He&1)===1!==Me&&(De=n.neg(De)),{x:ze,y:De}}else if(xe===s&&He===4){const ze=n.fromBytes(tt.subarray(0,n.BYTES)),Ke=n.fromBytes(tt.subarray(n.BYTES,2*n.BYTES));return{x:ze,y:Ke}}else throw new Error(`Point of length ${xe} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=me=>xf(vf(me,e.nByteLength));function A(me){const xe=r>>Pi;return me>xe}function E(me){return A(me)?a(-me):me}const I=(me,xe,He)=>xa(me.slice(xe,He));class w{constructor(xe,He,tt){this.r=xe,this.s=He,this.recovery=tt,this.assertValidity()}static fromCompact(xe){const He=e.nByteLength;return xe=Ui("compactSignature",xe,He*2),new w(I(xe,0,He),I(xe,He,2*He))}static fromDER(xe){const{r:He,s:tt}=Do.toSig(Ui("DER",xe));return new w(He,tt)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(xe){return new w(this.r,this.s,xe)}recoverPublicKey(xe){const{r:He,s:tt,recovery:ze}=this,Ke=ce(Ui("msgHash",xe));if(ze==null||![0,1,2,3].includes(ze))throw new Error("recovery id invalid");const De=ze===2||ze===3?He+e.n:He;if(De>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Me=ze&1?"03":"02",dt=f.fromHex(Me+m(De)),it=c(De),Se=a(-Ke*it),V=a(tt*it),O=f.BASE.multiplyAndAddUnsafe(dt,Se,V);if(!O)throw new Error("point at infinify");return O.assertValidity(),O}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return wf(this.toDERHex())}toDERHex(){return Do.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wf(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const N={isValidPrivateKey(me){try{return l(me),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const me=Jm(e.n);return C_(e.randomBytes(me),e.n)},precompute(me=8,xe=f.BASE){return xe._setWindowSize(me),xe.multiply(BigInt(3)),xe}};function F(me,xe=!0){return f.fromPrivateKey(me).toRawBytes(xe)}function U(me){const xe=Ms(me),He=typeof me=="string",tt=(xe||He)&&me.length;return xe?tt===i||tt===s:He?tt===2*i||tt===2*s:me instanceof f}function H(me,xe,He=!0){if(U(me))throw new Error("first arg must be private key");if(!U(xe))throw new Error("second arg must be public key");return f.fromHex(xe).multiply(l(me)).toRawBytes(He)}const z=e.bits2int||function(me){const xe=xa(me),He=me.length*8-e.nBitLength;return He>0?xe>>BigInt(He):xe},ce=e.bits2int_modN||function(me){return a(z(me))},ee=J2(e.nBitLength);function ae(me){if(typeof me!="bigint")throw new Error("bigint expected");if(!(c0<=me&&me<ee))throw new Error(`bigint expected < 2^${e.nBitLength}`);return vf(me,e.nByteLength)}function Te(me,xe,He=Ce){if(["recovered","canonical"].some(te=>te in He))throw new Error("sign() legacy options not supported");const{hash:tt,randomBytes:ze}=e;let{lowS:Ke,prehash:De,extraEntropy:Me}=He;Ke==null&&(Ke=!0),me=Ui("msgHash",me),De&&(me=Ui("prehashed msgHash",tt(me)));const dt=ce(me),it=l(xe),Se=[ae(it),ae(dt)];if(Me!=null){const te=Me===!0?ze(n.BYTES):Me;Se.push(Ui("extraEntropy",te))}const V=U1(...Se),O=dt;function j(te){const oe=z(te);if(!p(oe))return;const C=c(oe),k=f.BASE.multiply(oe).toAffine(),x=a(k.x);if(x===c0)return;const _=a(C*a(O+x*it));if(_===c0)return;let G=(k.x===x?0:2)|Number(k.y&Pi),Y=_;return Ke&&A(_)&&(Y=E(_),G^=1),new w(x,Y,G)}return{seed:V,k2sig:j}}const Ce={lowS:e.lowS,prehash:!1},lt={lowS:e.lowS,prehash:!1};function ot(me,xe,He=Ce){const{seed:tt,k2sig:ze}=Te(me,xe,He),Ke=e;return Km(Ke.hash.outputLen,Ke.nByteLength,Ke.hmac)(tt,ze)}f.BASE._setWindowSize(8);function Mt(me,xe,He,tt=lt){var k;const ze=me;if(xe=Ui("msgHash",xe),He=Ui("publicKey",He),"strict"in tt)throw new Error("options.strict was renamed to lowS");const{lowS:Ke,prehash:De}=tt;let Me,dt;try{if(typeof ze=="string"||Ms(ze))try{Me=w.fromDER(ze)}catch(x){if(!(x instanceof Do.Err))throw x;Me=w.fromCompact(ze)}else if(typeof ze=="object"&&typeof ze.r=="bigint"&&typeof ze.s=="bigint"){const{r:x,s:_}=ze;Me=new w(x,_)}else throw new Error("PARSE");dt=f.fromHex(He)}catch(x){if(x.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ke&&Me.hasHighS())return!1;De&&(xe=e.hash(xe));const{r:it,s:Se}=Me,V=ce(xe),O=c(Se),j=a(V*O),te=a(it*O),oe=(k=f.BASE.multiplyAndAddUnsafe(dt,j,te))==null?void 0:k.toAffine();return oe?a(oe.x)===it:!1}return{CURVE:e,getPublicKey:F,getSharedSecret:H,sign:ot,verify:Mt,ProjectivePoint:f,Signature:w,utils:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M_(t){return{hash:t,hmac:(e,...n)=>z2(t,e,TA(...n)),randomBytes:IA}}function U_(t,e){const n=r=>F_({...t,...M_(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qm=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),o8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),D_=BigInt(1),s5=BigInt(2),a8=(t,e)=>(t+e/s5)/e;function H_(t){const e=qm,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),f=t*t*t%e,l=f*f*t%e,u=pi(l,n,e)*l%e,p=pi(u,n,e)*l%e,m=pi(p,s5,e)*f%e,A=pi(m,i,e)*m%e,E=pi(A,s,e)*A%e,I=pi(E,a,e)*E%e,w=pi(I,c,e)*I%e,N=pi(w,a,e)*E%e,F=pi(N,n,e)*l%e,U=pi(F,o,e)*A%e,H=pi(U,r,e)*f%e,z=pi(H,s5,e);if(!o5.eql(o5.sqr(z),t))throw new Error("Cannot find square root");return z}const o5=I_(qm,void 0,void 0,{sqrt:H_}),jr=U_({a:BigInt(0),b:BigInt(7),Fp:o5,n:o8,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=o8,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-D_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=a8(s*t,e),c=a8(-r*t,e);let f=zr(t-a*n-c*i,e),l=zr(-a*r-c*s,e);const u=f>o,p=l>o;if(u&&(f=e-f),p&&(l=e-l),f>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:u,k1:f,k2neg:p,k2:l}}}},d6);BigInt(0);jr.ProjectivePoint;const Ef="0x0000000000000000000000000000000000000000",a5="0x0000000000000000000000000000000000000000000000000000000000000000",c8=BigInt(0),f8=BigInt(1),l8=BigInt(2),u8=BigInt(27),d8=BigInt(28),Zl=BigInt(35),za={};function h8(t){return os(Qr(t),32)}var Pc,Tc,Ic,ea;const Fi=class Fi{constructor(e,n,r,i){$(this,Pc,void 0);$(this,Tc,void 0);$(this,Ic,void 0);$(this,ea,void 0);kl(e,za,"Signature"),R(this,Pc,n),R(this,Tc,r),R(this,Ic,i),R(this,ea,null)}get r(){return d(this,Pc)}set r(e){W(ya(e)===32,"invalid r","value",e),R(this,Pc,$e(e))}get s(){return d(this,Tc)}set s(e){W(ya(e)===32,"invalid s","value",e);const n=$e(e);W(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),R(this,Tc,n)}get v(){return d(this,Ic)}set v(e){const n=Ft(e,"value");W(n===27||n===28,"invalid v","v",e),R(this,Ic,n)}get networkV(){return d(this,ea)}get legacyChainId(){const e=this.networkV;return e==null?null:Fi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=nt(this.s);return this.yParity&&(e[0]|=128),$e(e)}get compactSerialized(){return Rn([this.r,this.yParityAndS])}get serialized(){return Rn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Fi(za,this.r,this.s,this.v);return this.networkV&&R(e,ea,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=rt(e,"v");return n==u8||n==d8?c8:(W(n>=Zl,"invalid EIP-155 v","v",e),(n-Zl)/l8)}static getChainIdV(e,n){return rt(e)*l8+BigInt(35+n-27)}static getNormalizedV(e){const n=rt(e);return n===c8||n===u8?27:n===f8||n===d8?28:(W(n>=Zl,"invalid v","v",e),n&f8?27:28)}static from(e){function n(f,l){W(f,l,"signature",e)}if(e==null)return new Fi(za,a5,a5,27);if(typeof e=="string"){const f=nt(e,"signature");if(f.length===64){const l=$e(f.slice(0,32)),u=f.slice(32,64),p=u[0]&128?28:27;return u[0]&=127,new Fi(za,l,$e(u),p)}if(f.length===65){const l=$e(f.slice(0,32)),u=f.slice(32,64);n((u[0]&128)===0,"non-canonical s");const p=Fi.getNormalizedV(f[64]);return new Fi(za,l,$e(u),p)}n(!1,"invalid raw signature length")}if(e instanceof Fi)return e.clone();const r=e.r;n(r!=null,"missing r");const i=h8(r),s=function(f,l){if(f!=null)return h8(f);if(l!=null){n(_n(l,32),"invalid yParityAndS");const u=nt(l);return u[0]&=127,$e(u)}n(!1,"missing s")}(e.s,e.yParityAndS);n((nt(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(f,l,u){if(f!=null){const p=rt(f);return{networkV:p>=Zl?p:void 0,v:Fi.getNormalizedV(p)}}if(l!=null)return n(_n(l,32),"invalid yParityAndS"),{v:nt(l)[0]&128?28:27};if(u!=null){switch(Ft(u,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Fi(za,i,s,a);return o&&R(c,ea,o),n(e.yParity==null||Ft(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Pc=new WeakMap,Tc=new WeakMap,Ic=new WeakMap,ea=new WeakMap;let Si=Fi;var Zs;const Lo=class Lo{constructor(e){$(this,Zs,void 0);W(ya(e)===32,"invalid private key","privateKey","[REDACTED]"),R(this,Zs,$e(e))}get privateKey(){return d(this,Zs)}get publicKey(){return Lo.computePublicKey(d(this,Zs))}get compressedPublicKey(){return Lo.computePublicKey(d(this,Zs),!0)}sign(e){W(ya(e)===32,"invalid digest length","digest",e);const n=jr.sign(rr(e),rr(d(this,Zs)),{lowS:!0});return Si.from({r:cs(n.r,32),s:cs(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Lo.computePublicKey(e);return $e(jr.getSharedSecret(rr(d(this,Zs)),nt(n),!1))}static computePublicKey(e,n){let r=nt(e,"key");if(r.length===32){const s=jr.getPublicKey(r,!!n);return $e(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=jr.ProjectivePoint.fromHex(r);return $e(i.toRawBytes(n))}static recoverPublicKey(e,n){W(ya(e)===32,"invalid digest length","digest",e);const r=Si.from(n);let i=jr.Signature.fromCompact(rr(Rn([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(rr(e));return W(s!=null,"invalid signautre for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=jr.ProjectivePoint.fromHex(Lo.computePublicKey(e).substring(2)),s=jr.ProjectivePoint.fromHex(Lo.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};Zs=new WeakMap;let D1=Lo;const G_=BigInt(0),V_=BigInt(36);function b8(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=nt(xn(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Y2={};for(let t=0;t<10;t++)Y2[String(t)]=String(t);for(let t=0;t<26;t++)Y2[String.fromCharCode(65+t)]=String(10+t);const p8=15;function $_(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Y2[r]).join("");for(;e.length>=p8;){let r=e.substring(0,p8);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const z_=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function j_(t){t=t.toLowerCase();let e=G_;for(let n=0;n<t.length;n++)e=e*V_+z_[t[n]];return e}function Wt(t){if(W(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=b8(t);return W(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){W(t.substring(2,4)===$_(t),"bad icap checksum","address",t);let e=j_(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return b8("0x"+e)}W(!1,"invalid address","address",t)}function Zm(t){const e=Wt(t.from);let r=rt(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Wt(Sn(xn(Ia([e,r])),12))}function Xm(t){return t&&typeof t.getAddress=="function"}async function nh(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(ge(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),W(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Wt(n)}function Fr(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Wt(t):(ge(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),nh(t,e.resolveName(t)));if(Xm(t))return nh(t,t.getAddress());if(t&&typeof t.then=="function")return nh(t,t);W(!1,"unsupported addressable value","target",t)}const zs={};function je(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Er(zs,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function nn(t,e){return new Er(zs,`bytes${e||""}`,t,{size:e})}const g8=Symbol.for("_ethers_typed");var ta;const js=class js{constructor(e,n,r,i){Q(this,"type");Q(this,"value");$(this,ta,void 0);Q(this,"_typedSymbol");i==null&&(i=null),kl(zs,e,"Typed"),ut(this,{_typedSymbol:g8,type:n,value:r}),R(this,ta,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,ta)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,ta)===!0?-1:d(this,ta)===!1?this.value.length:null}static from(e,n){return new js(zs,e,n)}static uint8(e){return je(e,8)}static uint16(e){return je(e,16)}static uint24(e){return je(e,24)}static uint32(e){return je(e,32)}static uint40(e){return je(e,40)}static uint48(e){return je(e,48)}static uint56(e){return je(e,56)}static uint64(e){return je(e,64)}static uint72(e){return je(e,72)}static uint80(e){return je(e,80)}static uint88(e){return je(e,88)}static uint96(e){return je(e,96)}static uint104(e){return je(e,104)}static uint112(e){return je(e,112)}static uint120(e){return je(e,120)}static uint128(e){return je(e,128)}static uint136(e){return je(e,136)}static uint144(e){return je(e,144)}static uint152(e){return je(e,152)}static uint160(e){return je(e,160)}static uint168(e){return je(e,168)}static uint176(e){return je(e,176)}static uint184(e){return je(e,184)}static uint192(e){return je(e,192)}static uint200(e){return je(e,200)}static uint208(e){return je(e,208)}static uint216(e){return je(e,216)}static uint224(e){return je(e,224)}static uint232(e){return je(e,232)}static uint240(e){return je(e,240)}static uint248(e){return je(e,248)}static uint256(e){return je(e,256)}static uint(e){return je(e,256)}static int8(e){return je(e,-8)}static int16(e){return je(e,-16)}static int24(e){return je(e,-24)}static int32(e){return je(e,-32)}static int40(e){return je(e,-40)}static int48(e){return je(e,-48)}static int56(e){return je(e,-56)}static int64(e){return je(e,-64)}static int72(e){return je(e,-72)}static int80(e){return je(e,-80)}static int88(e){return je(e,-88)}static int96(e){return je(e,-96)}static int104(e){return je(e,-104)}static int112(e){return je(e,-112)}static int120(e){return je(e,-120)}static int128(e){return je(e,-128)}static int136(e){return je(e,-136)}static int144(e){return je(e,-144)}static int152(e){return je(e,-152)}static int160(e){return je(e,-160)}static int168(e){return je(e,-168)}static int176(e){return je(e,-176)}static int184(e){return je(e,-184)}static int192(e){return je(e,-192)}static int200(e){return je(e,-200)}static int208(e){return je(e,-208)}static int216(e){return je(e,-216)}static int224(e){return je(e,-224)}static int232(e){return je(e,-232)}static int240(e){return je(e,-240)}static int248(e){return je(e,-248)}static int256(e){return je(e,-256)}static int(e){return je(e,-256)}static bytes1(e){return nn(e,1)}static bytes2(e){return nn(e,2)}static bytes3(e){return nn(e,3)}static bytes4(e){return nn(e,4)}static bytes5(e){return nn(e,5)}static bytes6(e){return nn(e,6)}static bytes7(e){return nn(e,7)}static bytes8(e){return nn(e,8)}static bytes9(e){return nn(e,9)}static bytes10(e){return nn(e,10)}static bytes11(e){return nn(e,11)}static bytes12(e){return nn(e,12)}static bytes13(e){return nn(e,13)}static bytes14(e){return nn(e,14)}static bytes15(e){return nn(e,15)}static bytes16(e){return nn(e,16)}static bytes17(e){return nn(e,17)}static bytes18(e){return nn(e,18)}static bytes19(e){return nn(e,19)}static bytes20(e){return nn(e,20)}static bytes21(e){return nn(e,21)}static bytes22(e){return nn(e,22)}static bytes23(e){return nn(e,23)}static bytes24(e){return nn(e,24)}static bytes25(e){return nn(e,25)}static bytes26(e){return nn(e,26)}static bytes27(e){return nn(e,27)}static bytes28(e){return nn(e,28)}static bytes29(e){return nn(e,29)}static bytes30(e){return nn(e,30)}static bytes31(e){return nn(e,31)}static bytes32(e){return nn(e,32)}static address(e){return new js(zs,"address",e)}static bool(e){return new js(zs,"bool",!!e)}static bytes(e){return new js(zs,"bytes",e)}static string(e){return new js(zs,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new js(zs,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===g8}static dereference(e,n){if(js.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};ta=new WeakMap;let Er=js;class K_ extends v0{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Er.dereference(n,"string");try{r=Wt(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return Wt(cs(e.readValue(),20))}}class W_ extends v0{constructor(n){super(n.name,n.type,"_",n.dynamic);Q(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function ey(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(f=>{const l=f.localName;return ge(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:n}),ge(!c[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:n}),c[l]=!0,n[l]})}else W(!1,"invalid tuple value","tuple",n);W(e.length===r.length,"types/value length mismatch","tuple",n);let i=new qh,s=new qh,o=[];e.forEach((c,f)=>{let l=r[f];if(c.dynamic){let u=s.length;c.encode(s,l);let p=i.writeUpdatableValue();o.push(m=>{p(m+u)})}else c.encode(i,l)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function ty(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),c=i.subReader(a);try{o=s.decode(c)}catch(f){if(vr(f,"BUFFER_OVERRUN"))throw f;o=f,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(vr(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),ld.fromItems(n,r)}class Q_ extends v0{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);Q(this,"coder");Q(this,"length");ut(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Er.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),hm(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return ey(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),ge(r*Lr<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*Lr,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new W_(this.coder));return ty(n,i)}}class J_ extends v0{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Er.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class ny extends v0{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=rr(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Y_ extends ny{constructor(e){super("bytes",e)}decode(e){return $e(super.decode(e))}}class q_ extends v0{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);Q(this,"size");ut(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=rr(Er.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return $e(n.readBytes(this.size))}}const Z_=new Uint8Array([]);class X_ extends v0{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(Z_)}decode(e){return e.readBytes(0),null}}const eP=BigInt(0),tP=BigInt(1),nP=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class rP extends v0{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);Q(this,"size");Q(this,"signed");ut(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=rt(Er.dereference(r,this.type)),s=Uo(nP,Lr*8);if(this.signed){let o=Uo(s,this.size*8-1);(i>o||i<-(o+tP))&&this._throwError("value out-of-bounds",r),i=M2(i,8*Lr)}else(i<eP||i>Uo(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Uo(n.readValue(),this.size*8);return this.signed&&(r=cd(r,this.size*8)),r}}class iP extends ny{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ns(Er.dereference(n,"string")))}decode(e){return U2(super.decode(e))}}class Xl extends v0{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);Q(this,"coders");ut(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=Er.dereference(r,"tuple");return ey(n,this.coders,i)}decode(n){return ty(n,this.coders)}}function Sa(t){return xn(Ns(t))}var sP="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const m8=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),y8=4;function oP(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let H=1;H<r;H++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,f=0;function l(){return c==0&&(f=f<<8|t[e++],c=8),f>>--c&1}const u=31,p=2**u,m=p>>>1,A=m>>1,E=p-1;let I=0;for(let H=0;H<u;H++)I=I<<1|l();let w=[],N=0,F=p;for(;;){let H=Math.floor(((I-N+1)*i-1)/F),z=0,ce=r;for(;ce-z>1;){let Te=z+ce>>>1;H<s[Te]?ce=Te:z=Te}if(z==0)break;w.push(z);let ee=N+Math.floor(F*s[z]/i),ae=N+Math.floor(F*s[z+1]/i)-1;for(;!((ee^ae)&m);)I=I<<1&E|l(),ee=ee<<1&E,ae=ae<<1&E|1;for(;ee&~ae&A;)I=I&m|I<<1&E>>>1|l(),ee=ee<<1^m,ae=(ae^m)<<1|m|1;N=ee,F=1+ae-ee}let U=r-4;return w.map(H=>{switch(H-U){case 3:return U+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return U+256+(t[a++]<<8|t[a++]);case 1:return U+t[a++];default:return H-1}})}function aP(t){let e=0;return()=>t[e++]}function ry(t){return aP(oP(cP(t)))}function cP(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function fP(t){return t&1?~t>>1:t>>1}function lP(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=fP(e());return n}function H1(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function iy(t){return G1(()=>{let e=H1(t);if(e.length)return e})}function sy(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(uP(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(dP(n,t))}return e.flat()}function G1(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function oy(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)lP(t,n).forEach((s,o)=>r[o].push(s));return r}function uP(t,e){let n=1+e(),r=e(),i=G1(e);return oy(i.length,1+t,e).flatMap((o,a)=>{let[c,...f]=o;return Array(i[a]).fill().map((l,u)=>{let p=u*r;return[c+u*n,f.map(m=>m+p)]})})}function dP(t,e){let n=1+e();return oy(n,1+t,e).map(i=>[i[0],i.slice(1)])}function hP(t){let e=[],n=H1(t);return i(r([]),[]),e;function r(s){let o=t(),a=G1(()=>{let c=H1(t).map(f=>n[f]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let f of o)for(let l of f.Q)i(f,[...a,l],c)}}}function bP(t){return t.toString(16).toUpperCase().padStart(2,"0")}function ay(t){return`{${bP(t)}}`}function pP(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Af(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function gP(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var mP="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const V1=44032,ud=4352,dd=4449,hd=4519,cy=19,fy=21,_f=28,bd=fy*_f,yP=cy*bd,xP=V1+yP,wP=ud+cy,vP=dd+fy,EP=hd+_f;function i1(t){return t>>24&255}function ly(t){return t&16777215}let c5,x8,f5,Eu;function AP(){let t=ry(mP);c5=new Map(iy(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),x8=new Set(H1(t)),f5=new Map,Eu=new Map;for(let[e,n]of sy(t)){if(!x8.has(e)&&n.length==2){let[r,i]=n,s=Eu.get(r);s||(s=new Map,Eu.set(r,s)),s.set(i,e)}f5.set(e,n.reverse())}}function uy(t){return t>=V1&&t<xP}function _P(t,e){if(t>=ud&&t<wP&&e>=dd&&e<vP)return V1+(t-ud)*bd+(e-dd)*_f;if(uy(t)&&e>hd&&e<EP&&(t-V1)%_f==0)return t+(e-hd);{let n=Eu.get(t);return n&&(n=n.get(e),n)?n:-1}}function dy(t){c5||AP();let e=[],n=[],r=!1;function i(s){let o=c5.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(uy(s)){let o=s-V1,a=o/bd|0,c=o%bd/_f|0,f=o%_f;i(ud+a),i(dd+c),f>0&&i(hd+f)}else{let o=f5.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=i1(e[0]);for(let o=1;o<e.length;o++){let a=i1(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let f=e[c+1];if(e[c+1]=e[c],e[c]=f,!c||(s=i1(e[--c]),s<=a))break}s=i1(e[o])}}return e}function PP(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=i1(s),a=ly(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=_P(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function hy(t){return dy(t).map(ly)}function TP(t){return PP(dy(t))}const w8=45,by=".",py=65039,gy=1,oc=t=>Array.from(t);function $1(t,e){return t.P.has(e)||t.Q.has(e)}class IP extends Array{get is_emoji(){return!0}}let l5,my,Ho,u5,yy,bc,rh,ec,xy,v8,d5;function q2(){if(l5)return;let t=ry(sP);const e=()=>H1(t),n=()=>new Set(e());l5=new Map(sy(t)),my=n(),Ho=e(),u5=new Set(e().map(l=>Ho[l])),Ho=new Set(Ho),yy=n(),n();let r=iy(t),i=t();const s=()=>new Set(e().flatMap(l=>r[l]).concat(e()));bc=G1(l=>{let u=G1(t).map(p=>p+96);if(u.length){let p=l>=i;u[0]-=32,u=Af(u),p&&(u=`Restricted[${u}]`);let m=s(),A=s(),E=!t();return{N:u,P:m,Q:A,M:E,R:p}}}),rh=n(),ec=new Map;let o=e().concat(oc(rh)).sort((l,u)=>l-u);o.forEach((l,u)=>{let p=t(),m=o[u]=p?o[u-p]:{V:[],M:new Map};m.V.push(l),rh.has(l)||ec.set(l,m)});for(let{V:l,M:u}of new Set(ec.values())){let p=[];for(let A of l){let E=bc.filter(w=>$1(w,A)),I=p.find(({G:w})=>E.some(N=>w.has(N)));I||(I={G:new Set,V:[]},p.push(I)),I.V.push(A),E.forEach(w=>I.G.add(w))}let m=p.flatMap(A=>oc(A.G));for(let{G:A,V:E}of p){let I=new Set(m.filter(w=>!A.has(w)));for(let w of E)u.set(w,I)}}let a=new Set,c=new Set;const f=l=>a.has(l)?c.add(l):a.add(l);for(let l of bc){for(let u of l.P)f(u);for(let u of l.Q)f(u)}for(let l of a)!ec.has(l)&&!c.has(l)&&ec.set(l,gy);xy=new Set(oc(a).concat(oc(hy(a)))),v8=hP(t).map(l=>IP.from(l)).sort(gP),d5=new Map;for(let l of v8){let u=[d5];for(let p of l){let m=u.map(A=>{let E=A.get(p);return E||(E=new Map,A.set(p,E)),E});p===py?u.push(...m):u=m}for(let p of u)p.V=l}}function Z2(t){return(wy(t)?"":`${X2(b6([t]))} `)+ay(t)}function X2(t){return`"${t}"`}function CP(t){if(t.length>=4&&t[2]==w8&&t[3]==w8)throw new Error(`invalid label extension: "${Af(t.slice(0,4))}"`)}function SP(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function kP(t){let e=t[0],n=m8.get(e);if(n)throw y1(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=m8.get(e);if(o){if(i==s)throw y1(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw y1(`trailing ${n}`)}function b6(t,e=ay){let n=[];BP(t[0])&&n.push("");let r=0,i=t.length;for(let s=0;s<i;s++){let o=t[s];wy(o)&&(n.push(Af(t.slice(r,s))),n.push(e(o)),r=s+1)}return n.push(Af(t.slice(r,i))),n.join("")}function BP(t){return q2(),Ho.has(t)}function wy(t){return q2(),yy.has(t)}function RP(t){return FP(NP(t,TP,DP))}function NP(t,e,n){if(!t)return[];q2();let r=0;return t.split(by).map(i=>{let s=pP(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=UP(s,e,n),c=a.length,f;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(SP(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(p=>p<128))CP(l),f="ASCII";else{let p=a.flatMap(m=>m.is_emoji?[]:m);if(!p.length)f="Emoji";else{if(Ho.has(l[0]))throw y1("leading combining mark");for(let E=1;E<c;E++){let I=a[E];if(!I.is_emoji&&Ho.has(I[0]))throw y1(`emoji + combining mark: "${Af(a[E-1])} + ${b6([I[0]])}"`)}kP(l);let m=oc(new Set(p)),[A]=LP(m);MP(A,p),OP(A,m),f=A.N}}o.type=f}catch(a){o.error=a}return o})}function OP(t,e){let n,r=[];for(let i of e){let s=ec.get(i);if(s===gy)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):oc(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>$1(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function LP(t){let e=bc;for(let n of t){let r=e.filter(i=>$1(i,n));if(!r.length)throw bc.some(i=>$1(i,n))?Ey(e[0],n):vy(n);if(e=r,r.length==1)break}return e}function FP(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${X2(b6(e))}: ${i}`)}return Af(r)}).join(by)}function vy(t){return new Error(`disallowed character: ${Z2(t)}`)}function Ey(t,e){let n=Z2(e),r=bc.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function y1(t){return new Error(`illegal placement: ${t}`)}function MP(t,e){for(let n of e)if(!$1(t,n))throw Ey(t,n);if(t.M){let n=hy(e);for(let r=1,i=n.length;r<i;r++)if(u5.has(n[r])){let s=r+1;for(let o;s<i&&u5.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Z2(o)}`);if(s-r>y8)throw new Error(`excessive non-spacing marks: ${X2(b6(n.slice(r-1,s)))} (${s-r}/${y8})`);r=s}}}function UP(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=HP(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(xy.has(o))i.push(o);else{let a=l5.get(o);if(a)i.push(...a);else if(!my.has(o))throw vy(o)}}}return i.length&&r.push(e(i)),r}function DP(t){return t.filter(e=>e!=py)}function HP(t,e){let n=d5,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}const Ay=new Uint8Array(32);Ay.fill(0);function E8(t){return W(t.length!==0,"invalid ENS name; empty component","comp",t),t}function _y(t){const e=Ns(GP(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(E8(e.slice(r,i))),r=i+1);return W(r<e.length,"invalid ENS name; empty component","name",t),n.push(E8(e.slice(r))),n}function GP(t){try{if(t.length===0)throw new Error("empty label");return RP(t)}catch(e){W(!1,`invalid ENS name (${e.message})`,"name",t)}}function h5(t){W(typeof t=="string","invalid ENS name; not a string","name",t),W(t.length,"invalid ENS name (empty label)","name",t);let e=Ay;const n=_y(t);for(;n.length;)e=xn(Rn([e,xn(n.pop())]));return $e(e)}function VP(t){return $e(Rn(_y(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}function ih(t,e){return{address:Wt(t),storageKeys:e.map((n,r)=>(W(_n(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Da(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(W(n.length===2,"invalid slot set",`value[${r}]`,n),ih(n[0],n[1])):(W(n!=null&&typeof n=="object","invalid address-slot set","value",t),ih(n.address,n.storageKeys)));W(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return ih(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function $P(t){let e;return typeof t=="string"?e=D1.computePublicKey(t,!1):e=t.publicKey,Wt(xn("0x"+e.substring(4)).substring(26))}function zP(t,e){return $P(D1.recoverPublicKey(t,e))}const Kr=BigInt(0),jP=BigInt(2),KP=BigInt(27),WP=BigInt(28),QP=BigInt(35),JP=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function eb(t){return t==="0x"?null:Wt(t)}function Py(t,e){try{return Da(t)}catch(n){W(!1,n.message,e,t)}}function p6(t,e){return t==="0x"?0:Ft(t,e)}function Nr(t,e){if(t==="0x")return Kr;const n=rt(t,e);return W(n<=JP,"value exceeds uint size",e,n),n}function tr(t,e){const n=rt(t,"value"),r=Qr(n);return W(r.length<=32,"value too large",`tx.${e}`,n),r}function Ty(t){return Da(t).map(e=>[e.address,e.storageKeys])}function YP(t){const e=Bl(t);W(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:p6(e[0],"nonce"),gasPrice:Nr(e[1],"gasPrice"),gasLimit:Nr(e[2],"gasLimit"),to:eb(e[3]),value:Nr(e[4],"value"),data:$e(e[5]),chainId:Kr};if(e.length===6)return n;const r=Nr(e[6],"v"),i=Nr(e[7],"r"),s=Nr(e[8],"s");if(i===Kr&&s===Kr)n.chainId=r;else{let o=(r-QP)/jP;o<Kr&&(o=Kr),n.chainId=o,W(o!==Kr||r===KP||r===WP,"non-canonical legacy v","v",e[6]),n.signature=Si.from({r:os(e[7],32),s:os(e[8],32),v:r}),n.hash=xn(t)}return n}function A8(t,e){const n=[tr(t.nonce||0,"nonce"),tr(t.gasPrice||0,"gasPrice"),tr(t.gasLimit||0,"gasLimit"),t.to!=null?Wt(t.to):"0x",tr(t.value||0,"value"),t.data||"0x"];let r=Kr;if(t.chainId!=Kr)r=rt(t.chainId,"tx.chainId"),W(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Kr&&(n.push(Qr(r)),n.push("0x"),n.push("0x")),Ia(n);let i=BigInt(27+e.yParity);return r!==Kr?i=Si.getChainIdV(r,e.v):BigInt(e.v)!==i&&W(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Qr(i)),n.push(Qr(e.r)),n.push(Qr(e.s)),Ia(n)}function Iy(t,e){let n;try{if(n=p6(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{W(!1,"invalid yParity","yParity",e[0])}const r=os(e[1],32),i=os(e[2],32),s=Si.from({r,s:i,yParity:n});t.signature=s}function qP(t){const e=Bl(nt(t).slice(1));W(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",$e(t));const n=Nr(e[2],"maxPriorityFeePerGas"),r=Nr(e[3],"maxFeePerGas"),i={type:2,chainId:Nr(e[0],"chainId"),nonce:p6(e[1],"nonce"),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Nr(e[4],"gasLimit"),to:eb(e[5]),value:Nr(e[6],"value"),data:$e(e[7]),accessList:Py(e[8],"accessList")};return e.length===9||(i.hash=xn(t),Iy(i,e.slice(9))),i}function _8(t,e){const n=[tr(t.chainId||0,"chainId"),tr(t.nonce||0,"nonce"),tr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tr(t.maxFeePerGas||0,"maxFeePerGas"),tr(t.gasLimit||0,"gasLimit"),t.to!=null?Wt(t.to):"0x",tr(t.value||0,"value"),t.data||"0x",Ty(t.accessList||[])];return e&&(n.push(tr(e.yParity,"yParity")),n.push(Qr(e.r)),n.push(Qr(e.s))),Rn(["0x02",Ia(n)])}function ZP(t){const e=Bl(nt(t).slice(1));W(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",$e(t));const n={type:1,chainId:Nr(e[0],"chainId"),nonce:p6(e[1],"nonce"),gasPrice:Nr(e[2],"gasPrice"),gasLimit:Nr(e[3],"gasLimit"),to:eb(e[4]),value:Nr(e[5],"value"),data:$e(e[6]),accessList:Py(e[7],"accessList")};return e.length===8||(n.hash=xn(t),Iy(n,e.slice(8))),n}function P8(t,e){const n=[tr(t.chainId||0,"chainId"),tr(t.nonce||0,"nonce"),tr(t.gasPrice||0,"gasPrice"),tr(t.gasLimit||0,"gasLimit"),t.to!=null?Wt(t.to):"0x",tr(t.value||0,"value"),t.data||"0x",Ty(t.accessList||[])];return e&&(n.push(tr(e.yParity,"recoveryParam")),n.push(Qr(e.r)),n.push(Qr(e.s))),Rn(["0x01",Ia(n)])}var Xs,Cc,Sc,kc,Bc,Rc,Nc,Oc,Lc,Fc,Mc,Uc;const $0=class $0{constructor(){$(this,Xs,void 0);$(this,Cc,void 0);$(this,Sc,void 0);$(this,kc,void 0);$(this,Bc,void 0);$(this,Rc,void 0);$(this,Nc,void 0);$(this,Oc,void 0);$(this,Lc,void 0);$(this,Fc,void 0);$(this,Mc,void 0);$(this,Uc,void 0);R(this,Xs,null),R(this,Cc,null),R(this,kc,0),R(this,Bc,BigInt(0)),R(this,Rc,null),R(this,Nc,null),R(this,Oc,null),R(this,Sc,"0x"),R(this,Lc,BigInt(0)),R(this,Fc,BigInt(0)),R(this,Mc,null),R(this,Uc,null)}get type(){return d(this,Xs)}set type(e){switch(e){case null:R(this,Xs,null);break;case 0:case"legacy":R(this,Xs,0);break;case 1:case"berlin":case"eip-2930":R(this,Xs,1);break;case 2:case"london":case"eip-1559":R(this,Xs,2);break;default:W(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return d(this,Cc)}set to(e){R(this,Cc,e==null?null:Wt(e))}get nonce(){return d(this,kc)}set nonce(e){R(this,kc,Ft(e,"value"))}get gasLimit(){return d(this,Bc)}set gasLimit(e){R(this,Bc,rt(e))}get gasPrice(){const e=d(this,Rc);return e==null&&(this.type===0||this.type===1)?Kr:e}set gasPrice(e){R(this,Rc,e==null?null:rt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=d(this,Nc);return e??(this.type===2?Kr:null)}set maxPriorityFeePerGas(e){R(this,Nc,e==null?null:rt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=d(this,Oc);return e??(this.type===2?Kr:null)}set maxFeePerGas(e){R(this,Oc,e==null?null:rt(e,"maxFeePerGas"))}get data(){return d(this,Sc)}set data(e){R(this,Sc,$e(e))}get value(){return d(this,Lc)}set value(e){R(this,Lc,rt(e,"value"))}get chainId(){return d(this,Fc)}set chainId(e){R(this,Fc,rt(e))}get signature(){return d(this,Mc)||null}set signature(e){R(this,Mc,e==null?null:Si.from(e))}get accessList(){const e=d(this,Uc)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){R(this,Uc,e==null?null:Da(e))}get hash(){return this.signature==null?null:xn(this.serialized)}get unsignedHash(){return xn(this.unsignedSerialized)}get from(){return this.signature==null?null:zP(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:D1.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(ge(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return A8(this,this.signature);case 1:return P8(this,this.signature);case 2:return _8(this,this.signature)}ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return A8(this);case 1:return P8(this);case 2:return _8(this)}ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ge(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ge(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ge(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return $0.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new $0;if(typeof e=="string"){const r=nt(e);if(r[0]>=127)return $0.from(YP(r));switch(r[0]){case 1:return $0.from(ZP(r));case 2:return $0.from(qP(r))}ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new $0;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Si.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.hash!=null&&(W(n.isSigned(),"unsigned transaction cannot define hash","tx",e),W(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(W(n.isSigned(),"unsigned transaction cannot define from","tx",e),W(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Xs=new WeakMap,Cc=new WeakMap,Sc=new WeakMap,kc=new WeakMap,Bc=new WeakMap,Rc=new WeakMap,Nc=new WeakMap,Oc=new WeakMap,Lc=new WeakMap,Fc=new WeakMap,Mc=new WeakMap,Uc=new WeakMap;let Pf=$0;const XP=new RegExp("^bytes([0-9]+)$"),eT=new RegExp("^(u?int)([0-9]*)$"),tT=new RegExp("^(.*)\\[([0-9]*)\\]$");function Cy(t,e,n){switch(t){case"address":return nt(n?os(e,32):Wt(e));case"string":return Ns(e);case"bytes":return nt(e);case"bool":return e=e?"0x01":"0x00",nt(n?os(e,32):e)}let r=t.match(eT);if(r){let i=r[1]==="int",s=parseInt(r[2]||"256");return W((!r[2]||r[2]===String(s))&&s%8===0&&s!==0&&s<=256,"invalid number type","type",t),n&&(s=256),i&&(e=M2(e,s)),nt(os(Qr(e),s/8))}if(r=t.match(XP),r){const i=parseInt(r[1]);return W(String(i)===r[1]&&i!==0&&i<=32,"invalid bytes type","type",t),W(ya(e)===i,`invalid value for ${t}`,"value",e),n?nt(gm(e,32)):e}if(r=t.match(tT),r&&Array.isArray(e)){const i=r[1],s=parseInt(r[2]||String(e.length));W(s===e.length,`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(Cy(i,a,!0))}),nt(Rn(o))}W(!1,"invalid type","type",t)}function nT(t,e){W(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);const n=[];return t.forEach(function(r,i){n.push(Cy(r,e[i]))}),$e(Rn(n))}function rT(t,e){return xn(nT(t,e))}const Sy=new Uint8Array(32);Sy.fill(0);const iT=BigInt(-1),ky=BigInt(0),By=BigInt(1),sT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function oT(t){const e=nt(t),n=e.length%32;return n?Rn([e,Sy.slice(n)]):$e(e)}const aT=cs(By,32),cT=cs(ky,32),T8={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},sh=["name","version","chainId","verifyingContract","salt"];function I8(t){return function(e){return W(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const fT={name:I8("name"),version:I8("version"),chainId:function(t){const e=rt(t,"domain.chainId");return W(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):co(e)},verifyingContract:function(t){try{return Wt(t).toLowerCase()}catch{}W(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=nt(t,"domain.salt");return W(e.length===32,'invalid domain value "salt"',"domain.salt",t),$e(e)}};function oh(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");W(r%8===0&&r!==0&&r<=256&&(e[2]==null||e[2]===String(r)),"invalid numeric width","type",t);const i=Uo(sT,n?r-1:r),s=n?(i+By)*iT:ky;return function(o){const a=rt(o,"value");return W(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),cs(n?M2(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return W(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=nt(r);return W(i.length===n,`invalid length for ${t}`,"value",r),oT(r)}}}switch(t){case"address":return function(e){return os(Wt(e),32)};case"bool":return function(e){return e?aT:cT};case"bytes":return function(e){return xn(e)};case"string":return function(e){return Sa(e)}}return null}function C8(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}var ol,e0,Dc,Bd,Ry;const yi=class yi{constructor(e){$(this,Bd);Q(this,"primaryType");$(this,ol,void 0);$(this,e0,void 0);$(this,Dc,void 0);R(this,ol,JSON.stringify(e)),R(this,e0,new Map),R(this,Dc,new Map);const n=new Map,r=new Map,i=new Map;Object.keys(e).forEach(a=>{n.set(a,new Set),r.set(a,[]),i.set(a,new Set)});for(const a in e){const c=new Set;for(const f of e[a]){W(!c.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(a)}`,"types",e),c.add(f.name);const l=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;W(l!==a,`circular type reference to ${JSON.stringify(l)}`,"types",e),!oh(l)&&(W(r.has(l),`unknown type ${JSON.stringify(l)}`,"types",e),r.get(l).push(a),n.get(a).add(l))}}const s=Array.from(r.keys()).filter(a=>r.get(a).length===0);W(s.length!==0,"missing primary type","types",e),W(s.length===1,`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ut(this,{primaryType:s[0]});function o(a,c){W(!c.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),c.add(a);for(const f of n.get(a))if(r.has(f)){o(f,c);for(const l of c)i.get(l).add(f)}c.delete(a)}o(this.primaryType,new Set);for(const[a,c]of i){const f=Array.from(c);f.sort(),d(this,e0).set(a,C8(a,e[a])+f.map(l=>C8(l,e[l])).join(""))}}get types(){return JSON.parse(d(this,ol))}getEncoder(e){let n=d(this,Dc).get(e);return n||(n=re(this,Bd,Ry).call(this,e),d(this,Dc).set(e,n)),n}encodeType(e){const n=d(this,e0).get(e);return W(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return xn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(oh(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return W(!i[3]||parseInt(i[3])===n.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",n),n.map(o=>this._visit(i[1],o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});W(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new yi(e)}static getPrimaryType(e){return yi.from(e).primaryType}static hashStruct(e,n,r){return yi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=T8[r];W(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>sh.indexOf(r.name)-sh.indexOf(i.name)),yi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Rn(["0x1901",yi.hashDomain(e),yi.from(n).hash(r)])}static hash(e,n,r){return xn(yi.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!_n(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=yi.from(n);o.visit(r,(a,c)=>(a==="address"&&!_n(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}}static getPayload(e,n,r){yi.hashDomain(e);const i={},s=[];sh.forEach(c=>{const f=e[c];f!=null&&(i[c]=fT[c](f),s.push({name:c,type:T8[c]}))});const o=yi.from(n),a=Object.assign({},n);return W(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,f)=>{if(c.match(/^bytes(\d*)/))return $e(nt(f));if(c.match(/^u?int/))return rt(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return W(typeof f=="string","invalid string","value",f),f}W(!1,"unsupported type","type",c)})}}};ol=new WeakMap,e0=new WeakMap,Dc=new WeakMap,Bd=new WeakSet,Ry=function(e){{const i=oh(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i);return o=>{W(!n[3]||parseInt(n[3])===o.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",o);let a=o.map(s);return d(this,e0).has(i)&&(a=a.map(xn)),xn(Rn(a))}}const r=this.types[e];if(r){const i=Sa(d(this,e0).get(e));return s=>{const o=r.map(({name:a,type:c})=>{const f=this.getEncoder(c)(s[a]);return d(this,e0).has(c)?xn(f):f});return o.unshift(i),Rn(o)}}W(!1,`unknown type: ${e}`,"type",e)};let z1=yi;function Mr(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const lT="external public payable",uT=Mr(lT.split(" ")),Ny="constant external internal payable private public pure view",dT=Mr(Ny.split(" ")),Oy="constructor error event fallback function receive struct",Ly=Mr(Oy.split(" ")),Fy="calldata memory storage payable indexed",hT=Mr(Fy.split(" ")),bT="tuple returns",pT=[Oy,Fy,bT,Ny].join(" "),gT=Mr(pT.split(" ")),mT={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},yT=new RegExp("^(\\s*)"),xT=new RegExp("^([0-9]+)"),wT=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),My=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Uy=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Zn,zi,al,b5;const Rd=class Rd{constructor(e){$(this,al);$(this,Zn,void 0);$(this,zi,void 0);R(this,Zn,0),R(this,zi,e.slice())}get offset(){return d(this,Zn)}get length(){return d(this,zi).length-d(this,Zn)}clone(){return new Rd(d(this,zi))}reset(){R(this,Zn,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=re(this,al,b5).call(this,d(this,Zn)+1,e.match+1);return R(this,Zn,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;d(this,Zn)<e.match-1;){const r=this.peek().linkNext;n.push(re(this,al,b5).call(this,d(this,Zn)+1,r)),R(this,Zn,r)}return R(this,Zn,e.match+1),n}peek(){if(d(this,Zn)>=d(this,zi).length)throw new Error("out-of-bounds");return d(this,zi)[d(this,Zn)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return P0(this,Zn)._++,e}toString(){const e=[];for(let n=d(this,Zn);n<d(this,zi).length;n++){const r=d(this,zi)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Zn=new WeakMap,zi=new WeakMap,al=new WeakSet,b5=function(e=0,n=0){return new Rd(d(this,zi).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let fs=Rd;function _o(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(yT);a&&(s+=a[1].length,o=t.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let f=mT[o[0]]||"";if(f){if(c.type=f,c.text=o[0],s++,f==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(f=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(f==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(f==="OPEN_BRACKET")c.type="BRACKET";else if(f==="CLOSE_BRACKET"){let l=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const u=e.pop().text;l=u+l,e[e.length-1].value=Ft(u)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=l}continue}if(a=o.match(wT),a){if(c.text=a[1],s+=c.text.length,gT.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Uy)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(xT),a){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new fs(e.map(o=>Object.freeze(o)))}function S8(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function g6(t,e){if(e.peekKeyword(Ly)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function m0(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Dy(t){let e=m0(t,dT);return S8(e,Mr("constant payable nonpayable".split(" "))),S8(e,Mr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function b0(t,e){return t.popParams().map(n=>ir.from(n,e))}function Hy(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return rt(t.pop().text);throw new Error("invalid gas")}return null}function ka(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const vT=new RegExp(/^(.*)\[([0-9]*)\]$/);function k8(t){const e=t.match(Uy);if(W(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);W(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);W(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const An={},qr=Symbol.for("_ethers_internal"),B8="_ParamTypeInternal",R8="_ErrorInternal",N8="_EventInternal",O8="_ConstructorInternal",L8="_FallbackInternal",F8="_FunctionInternal",M8="_StructInternal";var Hc,Au;const xi=class xi{constructor(e,n,r,i,s,o,a,c){$(this,Hc);Q(this,"name");Q(this,"type");Q(this,"baseType");Q(this,"indexed");Q(this,"components");Q(this,"arrayLength");Q(this,"arrayChildren");if(kl(e,An,"ParamType"),Object.defineProperty(this,qr,{value:B8}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");ut(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return re(this,Hc,Au).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(xi.isParamType(e))return e;if(typeof e=="string")try{return xi.from(_o(e),n)}catch{W(!1,"invalid param type","obj",e)}else if(e instanceof fs){let a="",c="",f=null;m0(e,Mr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",f=e.popParams().map(E=>xi.from(E)),a=`tuple(${f.map(E=>E.format()).join(",")})`):(a=k8(e.popType("TYPE")),c=a);let l=null,u=null;for(;e.length&&e.peekType("BRACKET");){const E=e.pop();l=new xi(An,"",a,c,null,f,u,l),u=E.value,a+=E.text,c="array",f=null}let p=null;if(m0(e,hT).has("indexed")){if(!n)throw new Error("");p=!0}const A=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new xi(An,A,a,c,p,f,u,l)}const r=e.name;W(!r||typeof r=="string"&&r.match(My),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(W(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(vT);if(o){const a=parseInt(o[2]||"-1"),c=xi.from({type:o[1],components:e.components});return new xi(An,r||"",s,"array",i,null,a,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(f=>xi.from(f)):null;return new xi(An,r||"",s,"tuple",i,a,null,null)}return s=k8(e.type),new xi(An,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[qr]===B8}};Hc=new WeakSet,Au=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,f)=>{var l;re(l=o,Hc,Au).call(l,e,c,r,u=>{a[f]=u})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,f)=>{var l;re(l=o[f],Hc,Au).call(l,e,c,r,u=>{a[f]=u})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let ir=xi;class Ba{constructor(e,n,r){Q(this,"type");Q(this,"inputs");kl(e,An,"Fragment"),r=Object.freeze(r.slice()),ut(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Ba.from(JSON.parse(e))}catch{}return Ba.from(_o(e))}if(e instanceof fs)switch(e.peekKeyword(Ly)){case"constructor":return l0.from(e);case"error":return Wr.from(e);case"event":return Ts.from(e);case"fallback":case"receive":return Ks.from(e);case"function":return Is.from(e);case"struct":return wa.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return l0.from(e);case"error":return Wr.from(e);case"event":return Ts.from(e);case"fallback":case"receive":return Ks.from(e);case"function":return Is.from(e);case"struct":return wa.from(e)}ge(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}W(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return l0.isFragment(e)}static isError(e){return Wr.isFragment(e)}static isEvent(e){return Ts.isFragment(e)}static isFunction(e){return Is.isFragment(e)}static isStruct(e){return wa.isFragment(e)}}class m6 extends Ba{constructor(n,r,i,s){super(n,r,s);Q(this,"name");W(typeof i=="string"&&i.match(My),"invalid identifier","name",i),s=Object.freeze(s.slice()),ut(this,{name:i})}}function j1(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Wr extends m6{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,qr,{value:R8})}get selector(){return Sa(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+j1(e,this.inputs)),n.join(" ")}static from(e){if(Wr.isFragment(e))return e;if(typeof e=="string")return Wr.from(_o(e));if(e instanceof fs){const n=g6("error",e),r=b0(e);return ka(e),new Wr(An,n,r)}return new Wr(An,e.name,e.inputs?e.inputs.map(ir.from):[])}static isFragment(e){return e&&e[qr]===R8}}class Ts extends m6{constructor(n,r,i,s){super(n,"event",r,i);Q(this,"anonymous");Object.defineProperty(this,qr,{value:N8}),ut(this,{anonymous:s})}get topicHash(){return Sa(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+j1(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>ir.from(s)),new Ts(An,n,r,!1).topicHash}static from(n){if(Ts.isFragment(n))return n;if(typeof n=="string")try{return Ts.from(_o(n))}catch{W(!1,"invalid event fragment","obj",n)}else if(n instanceof fs){const r=g6("event",n),i=b0(n,!0),s=!!m0(n,Mr(["anonymous"])).has("anonymous");return ka(n),new Ts(An,r,i,s)}return new Ts(An,n.name,n.inputs?n.inputs.map(r=>ir.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[qr]===N8}}class l0 extends Ba{constructor(n,r,i,s,o){super(n,r,i);Q(this,"payable");Q(this,"gas");Object.defineProperty(this,qr,{value:O8}),ut(this,{payable:s,gas:o})}format(n){if(ge(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${j1(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(l0.isFragment(n))return n;if(typeof n=="string")try{return l0.from(_o(n))}catch{W(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof fs){m0(n,Mr(["constructor"]));const r=b0(n),i=!!m0(n,uT).has("payable"),s=Hy(n);return ka(n),new l0(An,"constructor",r,i,s)}return new l0(An,"constructor",n.inputs?n.inputs.map(ir.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[qr]===O8}}class Ks extends Ba{constructor(n,r,i){super(n,"fallback",r);Q(this,"payable");Object.defineProperty(this,qr,{value:L8}),ut(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Ks.isFragment(n))return n;if(typeof n=="string")try{return Ks.from(_o(n))}catch{W(!1,"invalid fallback fragment","obj",n)}else if(n instanceof fs){const r=n.toString(),i=n.peekKeyword(Mr(["fallback","receive"]));if(W(i,"type must be fallback or receive","obj",r),n.popKeyword(Mr(["fallback","receive"]))==="receive"){const c=b0(n);return W(c.length===0,"receive cannot have arguments","obj.inputs",c),m0(n,Mr(["payable"])),ka(n),new Ks(An,[],!0)}let o=b0(n);o.length?W(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[ir.from("bytes")];const a=Dy(n);if(W(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),m0(n,Mr(["returns"])).has("returns")){const c=b0(n);W(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(f=>f.format("minimal")).join(", "))}return ka(n),new Ks(An,o,a==="payable")}if(n.type==="receive")return new Ks(An,[],!0);if(n.type==="fallback"){const r=[ir.from("bytes")],i=n.stateMutability==="payable";return new Ks(An,r,i)}W(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[qr]===L8}}class Is extends m6{constructor(n,r,i,s,o,a){super(n,"function",r,s);Q(this,"constant");Q(this,"outputs");Q(this,"stateMutability");Q(this,"payable");Q(this,"gas");Object.defineProperty(this,qr,{value:F8}),o=Object.freeze(o.slice()),ut(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return Sa(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+j1(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(j1(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>ir.from(s)),new Is(An,n,"view",r,[],null).selector}static from(n){if(Is.isFragment(n))return n;if(typeof n=="string")try{return Is.from(_o(n))}catch{W(!1,"invalid function fragment","obj",n)}else if(n instanceof fs){const i=g6("function",n),s=b0(n),o=Dy(n);let a=[];m0(n,Mr(["returns"])).has("returns")&&(a=b0(n));const c=Hy(n);return ka(n),new Is(An,i,o,s,a,c)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Is(An,n.name,r,n.inputs?n.inputs.map(ir.from):[],n.outputs?n.outputs.map(ir.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[qr]===F8}}class wa extends m6{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,qr,{value:M8})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return wa.from(_o(e))}catch{W(!1,"invalid struct fragment","obj",e)}else if(e instanceof fs){const n=g6("struct",e),r=b0(e);return ka(e),new wa(An,n,r)}return new wa(An,e.name,e.inputs?e.inputs.map(ir.from):[])}static isFragment(e){return e&&e[qr]===M8}}const ls=new Map;ls.set(0,"GENERIC_PANIC");ls.set(1,"ASSERT_FALSE");ls.set(17,"OVERFLOW");ls.set(18,"DIVIDE_BY_ZERO");ls.set(33,"ENUM_RANGE_ERROR");ls.set(34,"BAD_STORAGE_DATA");ls.set(49,"STACK_UNDERFLOW");ls.set(50,"ARRAY_RANGE_ERROR");ls.set(65,"OUT_OF_MEMORY");ls.set(81,"UNINITIALIZED_FUNCTION_CALL");const ET=new RegExp(/^bytes([0-9]*)$/),AT=new RegExp(/^(u?int)([0-9]*)$/);let ah=null,U8=1024;function _T(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const f=nt(n);if(n=$e(n),f.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(f.length%32!==4)i+=" (could not decode reason; invalid data length)";else if($e(f.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],f.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if($e(f.slice(0,4))==="0x4e487b71")try{const l=Number(r.decode(["uint256"],f.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[l]},s=`Panic due to ${ls.get(l)||"UNKNOWN"}(${l})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?Wt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Wt(e.from)),Un(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:c,invocation:o,revert:a})}var J0,tc;const Nd=class Nd{constructor(){$(this,J0)}getDefaultValue(e){const n=e.map(i=>re(this,J0,tc).call(this,ir.from(i)));return new Xl(n,"_").defaultValue()}encode(e,n){hm(n.length,e.length,"types/values length mismatch");const r=e.map(o=>re(this,J0,tc).call(this,ir.from(o))),i=new Xl(r,"_"),s=new qh;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>re(this,J0,tc).call(this,ir.from(o)));return new Xl(i,"_").decode(new Zh(n,r,U8))}static _setDefaultMaxInflation(e){W(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),U8=e}static defaultAbiCoder(){return ah==null&&(ah=new Nd),ah}static getBuiltinCallException(e,n,r){return _T(e,n,r,Nd.defaultAbiCoder())}};J0=new WeakSet,tc=function(e){if(e.isArray())return new Q_(re(this,J0,tc).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Xl(e.components.map(r=>re(this,J0,tc).call(this,r)),e.name);switch(e.baseType){case"address":return new K_(e.name);case"bool":return new J_(e.name);case"string":return new iP(e.name);case"bytes":return new Y_(e.name);case"":return new X_(e.name)}let n=e.type.match(AT);if(n){let r=parseInt(n[2]||"256");return W(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new rP(r/8,n[1]==="int",e.name)}if(n=e.type.match(ET),n){let r=parseInt(n[1]);return W(r!==0&&r<=32,"invalid bytes length","param",e),new q_(r,e.name)}W(!1,"invalid type","type",e.type)};let Tf=Nd;class PT{constructor(e,n,r){Q(this,"fragment");Q(this,"name");Q(this,"signature");Q(this,"topic");Q(this,"args");const i=e.name,s=e.format();ut(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class TT{constructor(e,n,r,i){Q(this,"fragment");Q(this,"name");Q(this,"args");Q(this,"signature");Q(this,"selector");Q(this,"value");const s=e.name,o=e.format();ut(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class IT{constructor(e,n,r){Q(this,"fragment");Q(this,"name");Q(this,"args");Q(this,"signature");Q(this,"selector");const i=e.name,s=e.format();ut(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class D8{constructor(e){Q(this,"hash");Q(this,"_isIndexed");ut(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const H8={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},G8={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&H8[t.toString()]&&(e=H8[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var gs,ms,ys,dr,Gc,_u,Vc,Pu;const cc=class cc{constructor(e){$(this,Gc);$(this,Vc);Q(this,"fragments");Q(this,"deploy");Q(this,"fallback");Q(this,"receive");$(this,gs,void 0);$(this,ms,void 0);$(this,ys,void 0);$(this,dr,void 0);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,R(this,ys,new Map),R(this,gs,new Map),R(this,ms,new Map);const r=[];for(const o of n)try{r.push(Ba.from(o))}catch(a){console.log("EE",a)}ut(this,{fragments:Object.freeze(r)});let i=null,s=!1;R(this,dr,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ut(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(W(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":c=d(this,ys);break;case"event":c=d(this,ms);break;case"error":c=d(this,gs);break;default:return}const f=o.format();c.has(f)||c.set(f,o)}),this.deploy||ut(this,{deploy:l0.from("constructor()")}),ut(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Tf.defaultAbiCoder()}getFunctionName(e){const n=re(this,Gc,_u).call(this,e,null,!1);return W(n,"no matching function","key",e),n.name}hasFunction(e){return!!re(this,Gc,_u).call(this,e,null,!1)}getFunction(e,n){return re(this,Gc,_u).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(d(this,ys).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(d(this,ys).get(i),r)}}getEventName(e){const n=re(this,Vc,Pu).call(this,e,null,!1);return W(n,"no matching event","key",e),n.name}hasEvent(e){return!!re(this,Vc,Pu).call(this,e,null,!1)}getEvent(e,n){return re(this,Vc,Pu).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(d(this,ms).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(d(this,ms).get(i),r)}}getError(e,n){if(_n(e)){const i=e.toLowerCase();if(G8[i])return Wr.from(G8[i].signature);for(const s of d(this,gs).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of d(this,gs))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Wr.from("error Error(string)"):e==="Panic"?Wr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");W(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Wr.from(e).format(),e==="Error(string)")return Wr.from("error Error(string)");if(e==="Panic(uint256)")return Wr.from("error Panic(uint256)");const r=d(this,gs).get(e);return r||null}forEachError(e){const n=Array.from(d(this,gs).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(d(this,gs).get(i),r)}}_decodeParams(e,n){return d(this,dr).decode(e,n)}_encodeParams(e,n){return d(this,dr).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);W(r,"unknown error","fragment",e),e=r}return W(Sn(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Sn(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);W(r,"unknown error","fragment",e),e=r}return Rn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);W(r,"unknown function","fragment",e),e=r}return W(Sn(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Sn(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);W(r,"unknown function","fragment",e),e=r}return Rn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);W(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=rr(n);if(i.length%32===0)try{return d(this,dr).decode(e.outputs,i)}catch{r="could not decode result data"}ge(!1,r,"BAD_DATA",{value:$e(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=nt(e,"data"),i=Tf.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=$e(r.slice(0,4)),c=this.getError(a);if(c)try{const f=d(this,dr).decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:f},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);W(r,"unknown function","fragment",e),e=r}return $e(d(this,dr).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);W(s,"unknown event","eventFragment",e),e=s}ge(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?Sa(o):s.type==="bytes"?xn($e(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=cs(o):s.type.match(/^bytes/)?o=gm(o,32):s.type==="address"&&d(this,dr).encode(["address"],[o]),os($e(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){W(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?W(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(c=>i(a,c))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);W(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),W(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Sa(c));else if(o.type==="bytes")r.push(xn(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(d(this,dr).encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:d(this,dr).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const m=this.getEvent(e);W(m,"unknown event","eventFragment",e),e=m}if(r!=null&&!e.anonymous){const m=e.topicHash;W(_n(r[0],32)&&r[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((m,A)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(ir.from({type:"bytes32",name:m.name})),o.push(!0)):(i.push(m),o.push(!1)):(s.push(m),o.push(!1))});const a=r!=null?d(this,dr).decode(i,Rn(r)):null,c=d(this,dr).decode(s,n,!0),f=[],l=[];let u=0,p=0;return e.inputs.forEach((m,A)=>{let E=null;if(m.indexed)if(a==null)E=new D8(null);else if(o[A])E=new D8(a[p++]);else try{E=a[p++]}catch(I){E=I}else try{E=c[u++]}catch(I){E=I}f.push(E),l.push(m.name||null)}),ld.fromItems(f,l)}parseTransaction(e){const n=nt(e.data,"tx.data"),r=rt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction($e(n.slice(0,4)));if(!i)return null;const s=d(this,dr).decode(i.inputs,n.slice(4));return new TT(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new PT(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=$e(e),r=this.getError(Sn(n,0,4));if(!r)return null;const i=d(this,dr).decode(r.inputs,Sn(n,4));return new IT(r,r.selector,i)}static from(e){return e instanceof cc?e:typeof e=="string"?new cc(JSON.parse(e)):typeof e.format=="function"?new cc(e.format("json")):new cc(e)}};gs=new WeakMap,ms=new WeakMap,ys=new WeakMap,dr=new WeakMap,Gc=new WeakSet,_u=function(e,n,r){if(_n(e)){const s=e.toLowerCase();for(const o of d(this,ys).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of d(this,ys))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;Er.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let f=s.length-1;f>=0;f--){const l=s[f].inputs.length;l!==a&&(!c||l!==a-1)&&s.splice(f,1)}for(let f=s.length-1;f>=0;f--){const l=s[f].inputs;for(let u=0;u<n.length;u++)if(Er.isTyped(n[u])){if(u>=l.length){if(n[u].type==="overrides")continue;s.splice(f,1);break}if(n[u].type!==l[u].baseType){s.splice(f,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");W(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=d(this,ys).get(Is.from(e).format());return i||null},Vc=new WeakSet,Pu=function(e,n,r){if(_n(e)){const s=e.toLowerCase();for(const o of d(this,ms).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of d(this,ms))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let c=0;c<n.length;c++)if(Er.isTyped(n[c])&&n[c].type!==a[c].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");W(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=d(this,ms).get(Ts.from(e).format());return i||null};let or=cc;const Gy=BigInt(0);function x1(t){return t??null}function yr(t){return t==null?null:t.toString()}class V8{constructor(e,n,r){Q(this,"gasPrice");Q(this,"maxFeePerGas");Q(this,"maxPriorityFeePerGas");ut(this,{gasPrice:x1(e),maxFeePerGas:x1(n),maxPriorityFeePerGas:x1(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:yr(e),maxFeePerGas:yr(n),maxPriorityFeePerGas:yr(r)}}}function pd(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=$e(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=rt(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ft(t[i],`request.${i}`));return t.accessList&&(e.accessList=Da(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}var t0,z3;let CT=(z3=class{constructor(e,n){Q(this,"provider");Q(this,"number");Q(this,"hash");Q(this,"timestamp");Q(this,"parentHash");Q(this,"nonce");Q(this,"difficulty");Q(this,"gasLimit");Q(this,"gasUsed");Q(this,"miner");Q(this,"extraData");Q(this,"baseFeePerGas");$(this,t0,void 0);R(this,t0,e.transactions.map(r=>typeof r!="string"?new K1(r,n):r)),ut(this,{provider:n,hash:x1(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:x1(e.baseFeePerGas)})}get transactions(){return d(this,t0).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=d(this,t0).slice();return e.length===0?[]:(ge(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,nonce:c,number:f,parentHash:l,timestamp:u,transactions:p}=this;return{_type:"Block",baseFeePerGas:yr(e),difficulty:yr(n),extraData:r,gasLimit:yr(i),gasUsed:yr(s),hash:o,miner:a,nonce:c,number:f,parentHash:l,timestamp:u,transactions:p}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,t0).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=d(this,t0)[e];else{const r=e.toLowerCase();for(const i of d(this,t0))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash===r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;W(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return ST(this)}},t0=new WeakMap,z3);class Nl{constructor(e,n){Q(this,"provider");Q(this,"transactionHash");Q(this,"blockHash");Q(this,"blockNumber");Q(this,"removed");Q(this,"address");Q(this,"data");Q(this,"topics");Q(this,"index");Q(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());ut(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:f}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ge(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return kT(this)}}var cl;class Vy{constructor(e,n){Q(this,"provider");Q(this,"to");Q(this,"from");Q(this,"contractAddress");Q(this,"hash");Q(this,"index");Q(this,"blockHash");Q(this,"blockNumber");Q(this,"logsBloom");Q(this,"gasUsed");Q(this,"cumulativeGasUsed");Q(this,"gasPrice");Q(this,"type");Q(this,"status");Q(this,"root");$(this,cl,void 0);R(this,cl,Object.freeze(e.logs.map(i=>new Nl(i,n))));let r=Gy;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),ut(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,type:e.type,status:e.status,root:e.root})}get logs(){return d(this,cl)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:c,logs:f,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:yr(this.cumulativeGasUsed),from:n,gasPrice:yr(this.gasPrice),gasUsed:yr(this.gasUsed),hash:i,index:s,logs:f,logsBloom:c,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return zy(this)}reorderedEvent(e){return ge(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),$y(this,e)}}cl=new WeakMap;var Y0;const Mb=class Mb{constructor(e,n){Q(this,"provider");Q(this,"blockNumber");Q(this,"blockHash");Q(this,"index");Q(this,"hash");Q(this,"type");Q(this,"to");Q(this,"from");Q(this,"nonce");Q(this,"gasLimit");Q(this,"gasPrice");Q(this,"maxPriorityFeePerGas");Q(this,"maxFeePerGas");Q(this,"data");Q(this,"value");Q(this,"chainId");Q(this,"signature");Q(this,"accessList");$(this,Y0,void 0);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,R(this,Y0,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:c,data:f,signature:l,accessList:u}=this;return{_type:"TransactionReceipt",accessList:u,blockNumber:e,blockHash:n,chainId:yr(this.chainId),data:f,from:a,gasLimit:yr(this.gasLimit),gasPrice:yr(this.gasPrice),hash:i,maxFeePerGas:yr(this.maxFeePerGas),maxPriorityFeePerGas:yr(this.maxPriorityFeePerGas),nonce:c,signature:l,to:o,index:r,type:s,value:yr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Br({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=d(this,Y0),o=-1,a=s===-1;const c=async()=>{if(a)return null;const{blockNumber:p,nonce:m}=await Br({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){s=p;return}if(a)return null;const A=await this.getTransaction();if(!(A&&A.blockNumber!=null))for(o===-1&&(o=s-3,o<d(this,Y0)&&(o=d(this,Y0)));o<=p;){if(a)return null;const E=await this.provider.getBlock(o,!0);if(E==null)return;for(const I of E)if(I===this.hash)return;for(let I=0;I<E.length;I++){const w=await E.getTransaction(I);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const N=await this.provider.getTransactionReceipt(w.hash);if(N==null||p-N.blockNumber+1<r)return;let F="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?F="repriced":w.data==="0x"&&w.from===w.to&&w.value===Gy&&(F="cancelled"),ge(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:F==="replaced"||F==="cancelled",reason:F,replacement:w.replaceableTransaction(s),hash:w.hash,receipt:N})}}o++}},f=p=>{if(p==null||p.status!==0)return p;ge(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},l=await this.provider.getTransactionReceipt(this.hash);if(r===0)return f(l);if(l){if(await l.confirmations()>=r)return f(l)}else if(await c(),r===0)return null;return await new Promise((p,m)=>{const A=[],E=()=>{A.forEach(w=>w())};if(A.push(()=>{a=!0}),i>0){const w=setTimeout(()=>{E(),m(Un("wait for transaction timeout","TIMEOUT"))},i);A.push(()=>{clearTimeout(w)})}const I=async w=>{if(await w.confirmations()>=r){E();try{p(f(w))}catch(N){m(N)}}};if(A.push(()=>{this.provider.off(this.hash,I)}),this.provider.on(this.hash,I),s>=0){const w=async()=>{try{await c()}catch(N){if(vr(N,"TRANSACTION_REPLACED")){E(),m(N);return}}a||this.provider.once("block",w)};A.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),zy(this)}reorderedEvent(e){return ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ge(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$y(this,e)}replaceableTransaction(e){W(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Mb(this,this.provider);return R(n,Y0,e),n}};Y0=new WeakMap;let K1=Mb;function ST(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function $y(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function zy(t){return{orphan:"drop-transaction",tx:t}}function kT(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class tb extends Nl{constructor(n,r,i){super(n,n.provider);Q(this,"interface");Q(this,"fragment");Q(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);ut(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class jy extends Nl{constructor(n,r){super(n,n.provider);Q(this,"error");ut(this,{error:r})}}var $c;class BT extends Vy{constructor(n,r,i){super(i,r);$(this,$c,void 0);R(this,$c,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?d(this,$c).getEvent(n.topics[0]):null;if(r)try{return new tb(n,d(this,$c),r)}catch(i){return new jy(n,i)}return n})}}$c=new WeakMap;var fl;class nb extends K1{constructor(n,r,i){super(i,r);$(this,fl,void 0);R(this,fl,n)}async wait(n){const r=await super.wait(n);return r==null?null:new BT(d(this,fl),this.provider,r)}}fl=new WeakMap;class Ky extends mm{constructor(n,r,i,s){super(n,r,i);Q(this,"log");ut(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class RT extends Ky{constructor(e,n,r,i,s){super(e,n,r,new tb(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);ut(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const $8=BigInt(0);function Wy(t){return t&&typeof t.call=="function"}function Qy(t){return t&&typeof t.estimateGas=="function"}function y6(t){return t&&typeof t.resolveName=="function"}function Jy(t){return t&&typeof t.sendTransaction=="function"}function Yy(t){if(t!=null){if(y6(t))return t;if(t.provider)return t.provider}}var ll;class NT{constructor(e,n,r){$(this,ll,void 0);Q(this,"fragment");if(ut(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Ra(e.runner,"resolveName"),s=y6(i)?i:null;R(this,ll,async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(l,u)=>l==="address"?Array.isArray(u)?Promise.all(u.map(p=>Fr(p,s))):Fr(u,s):u)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return d(this,ll)}}ll=new WeakMap;function Ra(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Go(t){return t==null?null:t.provider||null}async function rb(t,e){const n=Er.dereference(t,"overrides");W(typeof n=="object","invalid overrides parameter","overrides",t);const r=pd(n);return W(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),W(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function qy(t,e,n){const r=Ra(t,"resolveName"),i=y6(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,c)=>(c=Er.dereference(c,a),a==="address"?Fr(c,i):c))))}function OT(t){const e=async function(o){const a=await rb(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Fr(a.from,Yy(t.runner)));const c=t.interface,f=rt(a.value||$8,"overrides.value")===$8,l=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!l&&!f&&W(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),W(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data);const u=c.receive||c.fallback&&c.fallback.payable;return W(u||f,"cannot send value to non-payable fallback","overrides.value",a.value),W(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Ra(t.runner,"call");ge(Wy(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(f){throw F2(f)&&f.data?t.interface.makeError(f.data,c):f}},r=async function(o){const a=t.runner;ge(Jy(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),f=Go(t.runner);return new nb(t.interface,f,c)},i=async function(o){const a=Ra(t.runner,"estimateGas");return ge(Qy(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return ut(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function LT(t,e){const n=function(...f){const l=t.interface.getFunction(e,f);return ge(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),l},r=async function(...f){const l=n(...f);let u={};if(l.inputs.length+1===f.length&&(u=await rb(f.pop()),u.from&&(u.from=await Fr(u.from,Yy(t.runner)))),l.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await qy(t.runner,l.inputs,f);return Object.assign({},u,await Br({to:t.getAddress(),data:t.interface.encodeFunctionData(l,p)}))},i=async function(...f){const l=await a(...f);return l.length===1?l[0]:l},s=async function(...f){const l=t.runner;ge(Jy(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const u=await l.sendTransaction(await r(...f)),p=Go(t.runner);return new nb(t.interface,p,u)},o=async function(...f){const l=Ra(t.runner,"estimateGas");return ge(Qy(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await r(...f))},a=async function(...f){const l=Ra(t.runner,"call");ge(Wy(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const u=await r(...f);let p="0x";try{p=await l.call(u)}catch(A){throw F2(A)&&A.data?t.interface.makeError(A.data,u):A}const m=n(...f);return t.interface.decodeFunctionResult(m,p)},c=async(...f)=>n(...f).constant?await i(...f):await s(...f);return ut(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const f=t.interface.getFunction(e);return ge(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),c}function FT(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return ge(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new NT(t,n(...i),i)};return ut(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return ge(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const gd=Symbol.for("_ethersInternal_contract"),Zy=new WeakMap;function MT(t,e){Zy.set(t[gd],e)}function Xr(t){return Zy.get(t[gd])}function UT(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function ib(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(_n(o,32))return o;const a=t.interface.getEvent(o);return W(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?_n(e,32)?n=[e]:(r=t.interface.getEvent(e),W(r,"unknown fragment","event",e),n=[r.topicHash]):UT(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):W(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function s1(t,e){const{subs:n}=Xr(t);return n.get((await ib(t,e)).tag)||null}async function z8(t,e,n){const r=Go(t.runner);ge(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await ib(t,n),{addr:a,subs:c}=Xr(t);let f=c.get(s);if(!f){const u={address:a||t,topics:o},p=I=>{let w=i;if(w==null)try{w=t.interface.getEvent(I.topics[0])}catch{}if(w){const N=w,F=i?t.interface.decodeEventLog(i,I.data,I.topics):[];g5(t,n,F,U=>new RT(t,U,n,N,I))}else g5(t,n,[],N=>new Ky(t,N,n,I))};let m=[];f={tag:s,listeners:[],start:()=>{m.length||m.push(r.on(u,p))},stop:async()=>{if(m.length==0)return;let I=m;m=[],await Promise.all(I),r.off(u,p)}},c.set(s,f)}return f}let p5=Promise.resolve();async function DT(t,e,n,r){await p5;const i=await s1(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Xr(t).subs.delete(i.tag)),s>0}async function g5(t,e,n,r){try{await p5}catch{}const i=DT(t,e,n,r);return p5=i,await i}const eu=["then"];var lF;const T1=class T1{constructor(e,n,r,i){Q(this,"target");Q(this,"interface");Q(this,"runner");Q(this,"filters");Q(this,lF);Q(this,"fallback");W(typeof e=="string"||Xm(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=or.from(n);ut(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,gd,{value:{}});let o,a=null,c=null;if(i){const u=Go(r);c=new nb(this.interface,u,i)}let f=new Map;if(typeof e=="string")if(_n(e))a=e,o=Promise.resolve(e);else{const u=Ra(r,"resolveName");if(!y6(u))throw Un("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=u.resolveName(e).then(p=>{if(p==null)throw Un("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Xr(this).addr=p,p})}else o=e.getAddress().then(u=>{if(u==null)throw new Error("TODO");return Xr(this).addr=u,u});MT(this,{addrPromise:o,addr:a,deployTx:c,subs:f});const l=new Proxy({},{get:(u,p,m)=>{if(typeof p=="symbol"||eu.indexOf(p)>=0)return Reflect.get(u,p,m);try{return this.getEvent(p)}catch(A){if(!vr(A,"INVALID_ARGUMENT")||A.argument!=="key")throw A}},has:(u,p)=>eu.indexOf(p)>=0?Reflect.has(u,p):Reflect.has(u,p)||this.interface.hasEvent(String(p))});return ut(this,{filters:l}),ut(this,{fallback:s.receive||s.fallback?OT(this):null}),new Proxy(this,{get:(u,p,m)=>{if(typeof p=="symbol"||p in u||eu.indexOf(p)>=0)return Reflect.get(u,p,m);try{return u.getFunction(p)}catch(A){if(!vr(A,"INVALID_ARGUMENT")||A.argument!=="key")throw A}},has:(u,p)=>typeof p=="symbol"||p in u||eu.indexOf(p)>=0?Reflect.has(u,p):u.interface.hasFunction(p)})}connect(e){return new T1(this.target,this.interface,e)}attach(e){return new T1(e,this.interface,this.runner)}async getAddress(){return await Xr(this).addrPromise}async getDeployedCode(){const e=Go(this.runner);ge(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Go(this.runner);return ge(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Xr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),LT(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),FT(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Xr(this),o=i||await s,{fragment:a,topics:c}=await ib(this,e),f={address:o,topics:c,fromBlock:n,toBlock:r},l=Go(this.runner);return ge(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(f)).map(u=>{let p=a;if(p==null)try{p=this.interface.getEvent(u.topics[0])}catch{}if(p)try{return new tb(u,this.interface,p)}catch(m){return new jy(u,m)}return new Nl(u,l)})}async on(e,n){const r=await z8(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await z8(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await g5(this,e,n,null)}async listenerCount(e){if(e){const i=await s1(this,e);return i?i.listeners.length:0}const{subs:n}=Xr(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await s1(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Xr(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await s1(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Xr(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await s1(this,e);if(!n)return this;n.stop(),Xr(this).subs.delete(n.tag)}else{const{subs:n}=Xr(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends T1{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};lF=gd;let W1=T1;function HT(){return W1}class Dn extends HT(){}class hi{constructor(e,n,r){Q(this,"interface");Q(this,"bytecode");Q(this,"runner");const i=or.from(e);n instanceof Uint8Array||(typeof n=="object"&&(n=n.object),n.startsWith("0x")||(n="0x"+n)),n=$e(nt(n)),ut(this,{bytecode:n,interface:i,runner:r||null})}attach(e){return new W1(e,this.interface,this.runner)}async getDeployTransaction(...e){let n={};const r=this.interface.deploy;if(r.inputs.length+1===e.length&&(n=await rb(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const i=await qy(this.runner,r.inputs,e),s=Rn([this.bytecode,this.interface.encodeDeploy(i)]);return Object.assign({},n,{data:s})}async deploy(...e){const n=await this.getDeployTransaction(...e);ge(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const r=await this.runner.sendTransaction(n),i=Zm(r);return new W1(i,this.interface,this.runner,r)}connect(e){return new hi(this.interface,this.bytecode,e)}static fromSolidity(e,n){W(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,n)}}function ch(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):W(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class GT{constructor(e){Q(this,"name");ut(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Xy=new RegExp("^(ipfs)://(.*)$","i"),j8=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Xy,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var q0,na,Z0,nc,Od,e9;const fc=class fc{constructor(e,n,r){$(this,Z0);Q(this,"provider");Q(this,"address");Q(this,"name");$(this,q0,void 0);$(this,na,void 0);ut(this,{provider:e,address:n,name:r}),R(this,q0,null),R(this,na,new Dn(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return d(this,q0)==null&&R(this,q0,(async()=>{try{return await d(this,na).supportsInterface("0x9061b923")}catch(e){if(vr(e,"CALL_EXCEPTION"))return!1;throw R(this,q0,null),e}})()),await d(this,q0)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await re(this,Z0,nc).call(this,"addr(bytes32)");return s==null||s===Ef?null:s}catch(s){if(vr(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await re(this,Z0,nc).call(this,"addr(bytes32,uint)",[s]);if(_n(o,20))return Wt(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof GT&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await re(this,Z0,nc).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;ge(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await re(this,Z0,nc).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await re(this,Z0,nc).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${XE("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;ge(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<j8.length;r++){const i=n.match(j8[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=ch(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const f=c[1],l=new Dn(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const E=await l.ownerOf(f);if(a!==E)return e.push({type:"!owner",value:E}),{url:null,linkage:e};e.push({type:"owner",value:E})}else if(s==="erc1155"){const E=await l.balanceOf(a,f);if(!E)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:E.toString()})}let u=await l[o](f);if(u==null||u==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),s==="erc1155"&&(u=u.replace("{id}",cs(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=ch(u)),e.push({type:"metadata-url",value:u});let p={};const m=await new g0(u).send();m.assertOk();try{p=m.bodyJson}catch{try{e.push({type:"!metadata",value:m.bodyText})}catch{const w=m.body;return w&&e.push({type:"!metadata",value:$e(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let A=p.image;if(typeof A!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!A.match(/^(https:\/\/|data:)/i)){if(A.match(Xy)==null)return e.push({type:"!imageUrl-ipfs",value:A}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:A}),A=ch(A)}return e.push({type:"url",value:A}),{linkage:e,url:A}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return ge(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await re(i=fc,Od,e9).call(i,e,r);if(s!=null){const o=new fc(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};q0=new WeakMap,na=new WeakMap,Z0=new WeakSet,nc=async function(e,n){n=(n||[]).slice();const r=d(this,na).interface;n.unshift(h5(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),ge(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[VP(this.name),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await d(this,na)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!vr(s,"CALL_EXCEPTION"))throw s}return null},Od=new WeakSet,e9=async function(e,n){const r=await fc.getEnsAddress(e);try{const s=await new Dn(r,["function resolver(bytes32) view returns (address)"],e).resolver(h5(n),{enableCcipRead:!0});return s===Ef?null:s}catch(i){throw i}return null},$(fc,Od);let md=fc;const K8=BigInt(0);function vn(t,e){return function(n){return n==null?e:t(n)}}function sb(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(n=>t(n))}}function Ol(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";ge(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function VT(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}W(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function If(t){return W(_n(t,!0),"invalid data","value",t),t}function Ci(t){return W(_n(t,32),"invalid hash","value",t),t}const $T=Ol({address:Wt,blockHash:Ci,blockNumber:Ft,data:If,index:Ft,removed:vn(VT,!1),topics:sb(Ci),transactionHash:Ci,transactionIndex:Ft},{index:["logIndex"]});function zT(t){return $T(t)}const jT=Ol({hash:vn(Ci),parentHash:Ci,number:Ft,timestamp:Ft,nonce:vn(If),difficulty:rt,gasLimit:rt,gasUsed:rt,miner:vn(Wt),extraData:If,baseFeePerGas:vn(rt)});function KT(t){const e=jT(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:t9(n)),e}const WT=Ol({transactionIndex:Ft,blockNumber:Ft,transactionHash:Ci,address:Wt,topics:sb(Ci),data:If,index:Ft,blockHash:Ci},{index:["logIndex"]});function QT(t){return WT(t)}const JT=Ol({to:vn(Wt,null),from:vn(Wt,null),contractAddress:vn(Wt,null),index:Ft,root:vn($e),gasUsed:rt,logsBloom:vn(If),blockHash:Ci,hash:Ci,logs:sb(QT),blockNumber:Ft,cumulativeGasUsed:rt,effectiveGasPrice:vn(rt),status:vn(Ft),type:vn(Ft,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function YT(t){return JT(t)}function t9(t){t.to&&rt(t.to)===K8&&(t.to="0x0000000000000000000000000000000000000000");const e=Ol({hash:Ci,type:n=>n==="0x"||n==null?0:Ft(n),accessList:vn(Da,null),blockHash:vn(Ci,null),blockNumber:vn(Ft,null),transactionIndex:vn(Ft,null),from:Wt,gasPrice:vn(rt),maxPriorityFeePerGas:vn(rt),maxFeePerGas:vn(rt),gasLimit:rt,to:vn(Wt,null),value:rt,nonce:Ft,data:If,creates:vn(Wt,null),chainId:vn(rt,null)},{data:["input"],gasLimit:["gas"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Zm(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Si.from(t.signature):e.signature=Si.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&rt(e.blockHash)===K8&&(e.blockHash=null),e}const qT="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Ll{constructor(e){Q(this,"name");ut(this,{name:e})}clone(){return new Ll(this.name)}}class x6 extends Ll{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);Q(this,"effectiveBlock");Q(this,"txBase");Q(this,"txCreate");Q(this,"txDataZero");Q(this,"txDataNonzero");Q(this,"txAccessListStorageKey");Q(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let c=(r||{})[o];c==null&&(c=a),W(typeof c=="number",`invalud value for ${o}`,"costs",r),i[o]=c}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),ut(this,i)}clone(){return new x6(this.effectiveBlock,this)}}class w6 extends Ll{constructor(n,r){super("org.ethers.plugins.network.Ens");Q(this,"address");Q(this,"targetNetwork");ut(this,{address:n||qT,targetNetwork:r??1})}clone(){return new w6(this.address,this.targetNetwork)}}var ul,dl;class ZT extends Ll{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");$(this,ul,void 0);$(this,dl,void 0);R(this,ul,n),R(this,dl,r)}get url(){return d(this,ul)}get processFunc(){return d(this,dl)}clone(){return this}}ul=new WeakMap,dl=new WeakMap;const fh=new Map;var zc,jc,X0,bo;let fo=(bo=class{constructor(e,n){$(this,zc,void 0);$(this,jc,void 0);$(this,X0,void 0);R(this,zc,e),R(this,jc,rt(n)),R(this,X0,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,zc)}set name(e){R(this,zc,e)}get chainId(){return d(this,jc)}set chainId(e){R(this,jc,rt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===rt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===rt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===rt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(d(this,X0).values())}attachPlugin(e){if(d(this,X0).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return d(this,X0).set(e.name,e.clone()),this}getPlugin(e){return d(this,X0).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new bo(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new x6;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Da(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(XT(),e==null)return bo.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=fh.get(e);if(n)return n();if(typeof e=="bigint")return new bo("unknown",e);W(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){W(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new bo(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new w6(e.ensAddress,e.ensNetwork)),n}W(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=fh.get(e);r&&W(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),fh.set(e,n)}},zc=new WeakMap,jc=new WeakMap,X0=new WeakMap,bo);function W8(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function Q8(t){return new ZT(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:W8(a.maxFee,9),maxPriorityFeePerGas:W8(a.maxPriorityFee,9)}}catch(s){ge(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let J8=!1;function XT(){if(J8)return;J8=!0;function t(e,n,r){const i=function(){const s=new fo(e,n);return r.ensNetwork!=null&&s.attachPlugin(new w6(null,r.ensNetwork)),s.attachPlugin(new x6),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};fo.register(e,i),fo.register(n,i),r.altNames&&r.altNames.forEach(s=>{fo.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[Q8("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Q8("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1})}function m5(t){return JSON.parse(JSON.stringify(t))}var n0,vi,eo,xs,Kc,Tu;class eI{constructor(e){$(this,Kc);$(this,n0,void 0);$(this,vi,void 0);$(this,eo,void 0);$(this,xs,void 0);R(this,n0,e),R(this,vi,null),R(this,eo,4e3),R(this,xs,-2)}get pollingInterval(){return d(this,eo)}set pollingInterval(e){R(this,eo,e)}start(){d(this,vi)||(R(this,vi,d(this,n0)._setTimeout(re(this,Kc,Tu).bind(this),d(this,eo))),re(this,Kc,Tu).call(this))}stop(){d(this,vi)&&(d(this,n0)._clearTimeout(d(this,vi)),R(this,vi,null))}pause(e){this.stop(),e&&R(this,xs,-2)}resume(){this.start()}}n0=new WeakMap,vi=new WeakMap,eo=new WeakMap,xs=new WeakMap,Kc=new WeakSet,Tu=async function(){try{const e=await d(this,n0).getBlockNumber();if(d(this,xs)===-2){R(this,xs,e);return}if(e!==d(this,xs)){for(let n=d(this,xs)+1;n<=e;n++){if(d(this,vi)==null)return;await d(this,n0).emit("block",n)}R(this,xs,e)}}catch{}d(this,vi)!=null&&R(this,vi,d(this,n0)._setTimeout(re(this,Kc,Tu).bind(this),d(this,eo)))};var ra,ia,to;class ob{constructor(e){$(this,ra,void 0);$(this,ia,void 0);$(this,to,void 0);R(this,ra,e),R(this,to,!1),R(this,ia,n=>{this._poll(n,d(this,ra))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){d(this,to)||(R(this,to,!0),d(this,ia).call(this,-2),d(this,ra).on("block",d(this,ia)))}stop(){d(this,to)&&(R(this,to,!1),d(this,ra).off("block",d(this,ia)))}pause(e){this.stop()}resume(){this.start()}}ra=new WeakMap,ia=new WeakMap,to=new WeakMap;var Wc,r0;class tI extends ob{constructor(n,r){super(n);$(this,Wc,void 0);$(this,r0,void 0);R(this,Wc,r),R(this,r0,-2)}pause(n){n&&R(this,r0,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(d(this,Wc));i!=null&&(d(this,r0)===-2?R(this,r0,i.number):i.number>d(this,r0)&&(r.emit(d(this,Wc),i.number),R(this,r0,i.number)))}}Wc=new WeakMap,r0=new WeakMap;var Ld;class nI extends ob{constructor(n,r){super(n);$(this,Ld,void 0);R(this,Ld,m5(r))}async _poll(n,r){throw new Error("@TODO")}}Ld=new WeakMap;var Qc;class rI extends ob{constructor(n,r){super(n);$(this,Qc,void 0);R(this,Qc,r)}async _poll(n,r){const i=await r.getTransactionReceipt(d(this,Qc));i&&r.emit(d(this,Qc),i)}}Qc=new WeakMap;var i0,Jc,Yc,no,Ei,Fd,n9;class ab{constructor(e,n){$(this,Fd);$(this,i0,void 0);$(this,Jc,void 0);$(this,Yc,void 0);$(this,no,void 0);$(this,Ei,void 0);R(this,i0,e),R(this,Jc,m5(n)),R(this,Yc,re(this,Fd,n9).bind(this)),R(this,no,!1),R(this,Ei,-2)}start(){d(this,no)||(R(this,no,!0),d(this,Ei)===-2&&d(this,i0).getBlockNumber().then(e=>{R(this,Ei,e)}),d(this,i0).on("block",d(this,Yc)))}stop(){d(this,no)&&(R(this,no,!1),d(this,i0).off("block",d(this,Yc)))}pause(e){this.stop(),e&&R(this,Ei,-2)}resume(){this.start()}}i0=new WeakMap,Jc=new WeakMap,Yc=new WeakMap,no=new WeakMap,Ei=new WeakMap,Fd=new WeakSet,n9=async function(e){if(d(this,Ei)===-2)return;const n=m5(d(this,Jc));n.fromBlock=d(this,Ei)+1,n.toBlock=e;const r=await d(this,i0).getLogs(n);if(r.length===0){d(this,Ei)<e-60&&R(this,Ei,e-60);return}for(const i of r)d(this,i0).emit(d(this,Jc),i),R(this,Ei,i.blockNumber)};const iI=BigInt(2),sI=10;function tu(t){return t&&typeof t.then=="function"}function Iu(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class r9{constructor(e){Q(this,"name");ut(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function oI(t){return JSON.parse(JSON.stringify(t))}function y5(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function lh(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(_n(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Iu("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Iu("orphan",n),filter:oI(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?y5(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{_n(a)?i.push(a):s.push((async()=>{i.push(await Fr(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=y5(i.map(a=>a.toLowerCase()))}return{filter:r,tag:Iu("event",r),type:"event"}}W(!1,"unknown ProviderEvent","event",t)}function uh(){return new Date().getTime()}const aI={cacheTimeout:250,pollingInterval:4e3};var hr,ro,br,qc,ni,sa,io,s0,hl,Ai,Zc,Xc,Cr,Zr,bl,x5,pl,w5,oa,o1,gl,v5,aa,a1,ef,Cu;class i9{constructor(e,n){$(this,Cr);$(this,bl);$(this,pl);$(this,oa);$(this,gl);$(this,aa);$(this,ef);$(this,hr,void 0);$(this,ro,void 0);$(this,br,void 0);$(this,qc,void 0);$(this,ni,void 0);$(this,sa,void 0);$(this,io,void 0);$(this,s0,void 0);$(this,hl,void 0);$(this,Ai,void 0);$(this,Zc,void 0);$(this,Xc,void 0);if(R(this,Xc,Object.assign({},aI,n||{})),e==="any")R(this,sa,!0),R(this,ni,null);else if(e){const r=fo.from(e);R(this,sa,!1),R(this,ni,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else R(this,sa,!1),R(this,ni,null);R(this,s0,-1),R(this,io,new Map),R(this,hr,new Map),R(this,ro,new Map),R(this,br,null),R(this,qc,!1),R(this,hl,1),R(this,Ai,new Map),R(this,Zc,!1)}get pollingInterval(){return d(this,Xc).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,ro).values())}attachPlugin(e){if(d(this,ro).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return d(this,ro).set(e.name,e.connect(this)),this}getPlugin(e){return d(this,ro).get(e)||null}get disableCcipRead(){return d(this,Zc)}set disableCcipRead(e){R(this,Zc,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],f=c.replace("{sender}",i).replace("{data}",s),l=new g0(f);c.indexOf("{data}")===-1&&(l.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:r});let u="unknown error";const p=await l.send();try{const m=p.bodyJson;if(m.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:m}),m.data;m.message&&(u=m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:m})}catch{}ge(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${u}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:u}}),o.push(u)}ge(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new CT(KT(e),this)}_wrapLog(e,n){return new Nl(zT(e),this)}_wrapTransactionReceipt(e,n){return new Vy(YT(e),this)}_wrapTransactionResponse(e,n){return new K1(t9(e),this)}_detectNetwork(){ge(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ge(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ft(await re(this,Cr,Zr).call(this,{method:"getBlockNumber"}),"%response");return d(this,s0)>=0&&R(this,s0,e),e}_getAddress(e){return Fr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(_n(e))return _n(e,32)?e:co(e);if(typeof e=="bigint"&&(e=Ft(e,"blockTag")),typeof e=="number")return e>=0?co(e):d(this,s0)>=0?co(d(this,s0)+e):this.getBlockNumber().then(n=>co(n+e));W(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?y5(c.map(f=>f.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,f,l)=>{let u;switch(c.length){case 0:break;case 1:u=c[0];break;default:c.sort(),u=c}if(r&&(f!=null||l!=null))throw new Error("invalid filter");const p={};return u&&(p.address=u),n.length&&(p.topics=n),f&&(p.fromBlock=f),l&&(p.toBlock=l),r&&(p.blockHash=r),p};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(c=>i(c[0],c[1],c[2])):i(s,o,a)}_getTransactionRequest(e){const n=pd(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=Fr(n[i],this);tu(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);tu(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(d(this,ni)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw d(this,ni)===i&&R(this,ni,null),s}})();return R(this,ni,i),(await i).clone()}const e=d(this,ni),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(d(this,sa)?(this.emit("network",r,n),d(this,ni)===e&&R(this,ni,Promise.resolve(r))):ge(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Br({_block:re(this,gl,v5).call(this,"latest",!1),gasPrice:(async()=>{try{const l=await re(this,Cr,Zr).call(this,{method:"getGasPrice"});return rt(l,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const l=await re(this,Cr,Zr).call(this,{method:"getPriorityFee"});return rt(l,"%response")}catch{}return null})()});let a=null,c=null;const f=this._wrapBlock(i,e);return f&&f.baseFeePerGas&&(c=o??BigInt("1000000000"),a=f.baseFeePerGas*iI+c),new V8(s,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new g0(r.url),s=await r.processFunc(n,this,i);return new V8(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return tu(n)&&(n=await n),rt(await re(this,Cr,Zr).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Br({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await re(this,pl,w5).call(this,re(this,bl,x5).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return rt(await re(this,oa,o1).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Ft(await re(this,oa,o1).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return $e(await re(this,oa,o1).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=rt(n,"position");return $e(await re(this,oa,o1).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Br({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Pf.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await Br({network:this.getNetwork(),params:re(this,gl,v5).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Br({network:this.getNetwork(),params:re(this,Cr,Zr).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Br({network:this.getNetwork(),params:re(this,Cr,Zr).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await re(this,Cr,Zr).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Br({network:this.getNetwork(),result:re(this,Cr,Zr).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:$e(n)}async getLogs(e){let n=this._getFilter(e);tu(n)&&(n=await n);const{network:r,params:i}=await Br({network:this.getNetwork(),params:re(this,Cr,Zr).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){ge(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await md.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Wt(e);const n=h5(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await md.getEnsAddress(this),s=await new Dn(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===Ef)return null;const a=await new Dn(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(vr(r,"BAD_DATA")&&r.value==="0x"||vr(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const c=async f=>{try{const l=await this.getTransactionReceipt(e);if(l!=null&&f-l.blockNumber+1>=i){s(l),a&&(clearTimeout(a),a=null);return}}catch(l){console.log("EEE",l)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Un("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){ge(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=d(this,Ai).get(e);n&&(n.timer&&clearTimeout(n.timer),d(this,Ai).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=P0(this,hl)._++,i=()=>{d(this,Ai).delete(r),e()};if(this.paused)d(this,Ai).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);d(this,Ai).set(r,{timer:s,func:i,time:uh()})}return r}_forEachSubscriber(e){for(const n of d(this,hr).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new r9(e.type);case"block":{const n=new eI(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new tI(this,e.type);case"event":return new ab(this,e.filter);case"transaction":return new rI(this,e.hash);case"orphan":return new nI(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of d(this,hr).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),d(this,br)!=null&&n.pause(d(this,br));break}}async on(e,n){const r=await re(this,ef,Cu).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,d(this,br)!=null&&r.subscriber.pause(d(this,br))),this}async once(e,n){const r=await re(this,ef,Cu).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,d(this,br)!=null&&r.subscriber.pause(d(this,br))),this}async emit(e,...n){const r=await re(this,aa,a1).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new mm(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),d(this,hr).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await re(this,aa,a1).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of d(this,hr).values())n+=r.length;return n}async listeners(e){if(e){const r=await re(this,aa,a1).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of d(this,hr).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await re(this,aa,a1).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),d(this,hr).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await re(this,ef,Cu).call(this,e);r&&i.stop(),d(this,hr).delete(n)}else for(const[n,{started:r,subscriber:i}]of d(this,hr))r&&i.stop(),d(this,hr).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return d(this,qc)}destroy(){this.removeAllListeners();for(const e of d(this,Ai).keys())this._clearTimeout(e);R(this,qc,!0)}get paused(){return d(this,br)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(R(this,s0,-1),d(this,br)!=null){if(d(this,br)==!!e)return;ge(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),R(this,br,!!e);for(const n of d(this,Ai).values())n.timer&&clearTimeout(n.timer),n.time=uh()-n.time}resume(){if(d(this,br)!=null){this._forEachSubscriber(e=>e.resume()),R(this,br,null);for(const e of d(this,Ai).values()){let n=e.time;n<0&&(n=0),e.time=uh(),setTimeout(e.func,n)}}}}hr=new WeakMap,ro=new WeakMap,br=new WeakMap,qc=new WeakMap,ni=new WeakMap,sa=new WeakMap,io=new WeakMap,s0=new WeakMap,hl=new WeakMap,Ai=new WeakMap,Zc=new WeakMap,Xc=new WeakMap,Cr=new WeakSet,Zr=async function(e){const n=d(this,Xc).cacheTimeout;if(n<0)return await this._perform(e);const r=Iu(e.method,e);let i=d(this,io).get(r);return i||(i=this._perform(e),d(this,io).set(r,i),setTimeout(()=>{d(this,io).get(r)===i&&d(this,io).delete(r)},n)),await i},bl=new WeakSet,x5=async function(e,n,r){ge(r<sI,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=pd(e);try{return $e(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&F2(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&Sn(s.data,0,4)==="0x556f1830"){const o=s.data,a=await Fr(i.to,this);let c;try{c=dI(Sn(s.data,4))}catch(u){ge(!1,u.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}ge(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const f=await this.ccipReadFetch(i,c.calldata,c.urls);ge(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const l={to:a,data:Rn([c.selector,uI([f,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const u=await re(this,bl,x5).call(this,l,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:u}),u}catch(u){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:u}),u}}throw s}},pl=new WeakSet,w5=async function(e){const{value:n}=await Br({network:this.getNetwork(),value:e});return n},oa=new WeakSet,o1=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await re(this,pl,w5).call(this,re(this,Cr,Zr).call(this,Object.assign(e,{address:i,blockTag:s})))},gl=new WeakSet,v5=async function(e,n){if(_n(e,32))return await re(this,Cr,Zr).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await re(this,Cr,Zr).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},aa=new WeakSet,a1=async function(e,n){let r=await lh(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await lh({orphan:"drop-log",log:n[0]},this)),d(this,hr).get(r.tag)||null},ef=new WeakSet,Cu=async function(e){const n=await lh(e,this),r=n.tag;let i=d(this,hr).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,hr).set(r,i)),i};function cI(t,e){try{const n=E5(t,e);if(n)return U2(n)}catch{}return null}function E5(t,e){if(t==="0x")return null;try{const n=Ft(Sn(t,e,e+32)),r=Ft(Sn(t,n,n+32));return Sn(t,n+32,n+32+r)}catch{}return null}function Y8(t){const e=Qr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function fI(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const lI=new Uint8Array([]);function uI(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(lI),n+=32;for(let r=0;r<t.length;r++){const i=nt(t[r]);e[r]=Y8(n),e.push(Y8(i.length)),e.push(fI(i)),n+=32+Math.ceil(i.length/32)*32}return Rn(e)}const q8="0x0000000000000000000000000000000000000000000000000000000000000000";function dI(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ge(ya(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Sn(t,0,32);ge(Sn(n,0,12)===Sn(q8,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Sn(n,12);try{const r=[],i=Ft(Sn(t,32,64)),s=Ft(Sn(t,i,i+32)),o=Sn(t,i+32);for(let a=0;a<s;a++){const c=cI(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{ge(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=E5(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{ge(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ge(Sn(t,100,128)===Sn(q8,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Sn(t,96,100);try{const r=E5(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{ge(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function ja(t,e){if(t.provider)return t.provider;ge(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Z8(t,e){let n=pd(e);if(n.to!=null&&(n.to=Fr(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Fr(r,t)]).then(([i,s])=>(W(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Br(n)}class s9{constructor(e){Q(this,"provider");ut(this,{provider:e||null})}async getNonce(e){return ja(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Z8(this,e)}async populateTransaction(e){const n=ja(this,"populateTransaction"),r=await Z8(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=rt(r.chainId);W(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?W(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&W(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();ge(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(ge(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):ge(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Br(r)}async estimateGas(e){return ja(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ja(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ja(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=ja(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Pf.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}}function hI(t){return JSON.parse(JSON.stringify(t))}var Vr,ws,ca,so,fa,tf,ml,A5,yl,_5;class o9{constructor(e){$(this,ml);$(this,yl);$(this,Vr,void 0);$(this,ws,void 0);$(this,ca,void 0);$(this,so,void 0);$(this,fa,void 0);$(this,tf,void 0);R(this,Vr,e),R(this,ws,null),R(this,ca,re(this,ml,A5).bind(this)),R(this,so,!1),R(this,fa,null),R(this,tf,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){d(this,so)||(R(this,so,!0),re(this,ml,A5).call(this,-2))}stop(){d(this,so)&&(R(this,so,!1),R(this,tf,!0),re(this,yl,_5).call(this),d(this,Vr).off("block",d(this,ca)))}pause(e){e&&re(this,yl,_5).call(this),d(this,Vr).off("block",d(this,ca))}resume(){this.start()}}Vr=new WeakMap,ws=new WeakMap,ca=new WeakMap,so=new WeakMap,fa=new WeakMap,tf=new WeakMap,ml=new WeakSet,A5=async function(e){try{d(this,ws)==null&&R(this,ws,this._subscribe(d(this,Vr)));let n=null;try{n=await d(this,ws)}catch(s){if(!vr(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){R(this,ws,null),d(this,Vr)._recoverSubscriber(this,this._recover(d(this,Vr)));return}const r=await d(this,Vr).getNetwork();if(d(this,fa)||R(this,fa,r),d(this,fa).chainId!==r.chainId)throw new Error("chaid changed");if(d(this,tf))return;const i=await d(this,Vr).send("eth_getFilterChanges",[n]);await this._emitResults(d(this,Vr),i)}catch(n){console.log("@TODO",n)}d(this,Vr).once("block",d(this,ca))},yl=new WeakSet,_5=function(){const e=d(this,ws);e&&(R(this,ws,null),e.then(n=>{d(this,Vr).send("eth_uninstallFilter",[n])}))};var la;class bI extends o9{constructor(n,r){super(n);$(this,la,void 0);R(this,la,hI(r))}_recover(n){return new ab(n,d(this,la))}async _subscribe(n){return await n.send("eth_newFilter",[d(this,la)])}async _emitResults(n,r){for(const i of r)n.emit(d(this,la),n._wrapLog(i,n._network))}}la=new WeakMap;class pI extends o9{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const gI="bigint,boolean,function,number,string,symbol".split(/,/g);function Su(t){if(t==null||gI.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Su);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function mI(t){return new Promise(e=>{setTimeout(e,t)})}function Ka(t){return t&&t.toLowerCase()}function X8(t){return t&&typeof t.pollingInterval=="number"}const yI={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class dh extends s9{constructor(n,r){super(n);Q(this,"address");r=Wt(r),ut(this,{address:r})}connect(n){ge(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=Su(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await Fr(o,this.provider);W(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await Fr(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let c=0;const f=async()=>{try{const l=await this.provider.getTransaction(i);if(l!=null){s(l.replaceableTransaction(r));return}}catch(l){if(vr(l,"CANCELLED")||vr(l,"BAD_DATA")||vr(l,"NETWORK_ERROR")){l.info==null&&(l.info={}),l.info.sendTransactionHash=i,o(l);return}if(vr(l,"INVALID_ARGUMENT")&&(c++,l.info==null&&(l.info={}),l.info.sendTransactionHash=i,c>10)){o(l);return}this.provider.emit("error",Un("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{f()},a.pop()||4e3)};f()})}async signTransaction(n){const r=Su(n);if(r.from){const s=await Fr(r.from,this.provider);W(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Ns(n):n;return await this.provider.send("personal_sign",[$e(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=Su(i),o=await z1.resolveNames(n,r,s,async a=>{const c=await Fr(a);return W(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(z1.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Ns(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),$e(r)])}}var ua,nf,o0,vs,ji,_i,$r,xl,P5;class xI extends i9{constructor(n,r){super(n,r);$(this,xl);$(this,ua,void 0);$(this,nf,void 0);$(this,o0,void 0);$(this,vs,void 0);$(this,ji,void 0);$(this,_i,void 0);$(this,$r,void 0);R(this,nf,1),R(this,ua,Object.assign({},yI,r||{})),R(this,o0,[]),R(this,vs,null),R(this,_i,null),R(this,$r,null);{let s=null;const o=new Promise(a=>{s=a});R(this,ji,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(W(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&R(this,_i,fo.from(n))):i&&(W(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),R(this,_i,i))}_getOption(n){return d(this,ua)[n]}get _network(){return ge(d(this,_i),"network is not available yet","NETWORK_ERROR"),d(this,_i)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&rt(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(d(this,_i))return d(this,_i)}else return n;return d(this,$r)?await d(this,$r):this.ready?(R(this,$r,(async()=>{try{const r=fo.from(rt(await this.send("eth_chainId",[])));return R(this,$r,null),r}catch(r){throw R(this,$r,null),r}})()),await d(this,$r)):(R(this,$r,(async()=>{const r={id:P0(this,nf)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],R(this,$r,null)}catch(s){throw R(this,$r,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return fo.from(rt(i.result));throw this.getRpcError(r,i)})()),await d(this,$r))}_start(){d(this,ji)==null||d(this,ji).resolve==null||(d(this,ji).resolve(),R(this,ji,null),(async()=>{for(;d(this,_i)==null&&!this.destroyed;)try{R(this,_i,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Un("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await mI(1e3)}re(this,xl,P5).call(this)})())}async _waitUntilReady(){if(d(this,ji)!=null)return await d(this,ji).promise}_getSubscriber(n){return n.type==="pending"?new pI(this):n.type==="event"?this._getOption("polling")?new ab(this,n.filter):new bI(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new r9("orphan"):super._getSubscriber(n)}get ready(){return d(this,ji)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=co(rt(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=$e(n[i]))}),n.accessList&&(r.accessList=Da(n.accessList)),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ka(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ka(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ka(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ka(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Ka):n.filter.address=Ka(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const c=s.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Un("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const c=T5(s),f=Tf.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return f.info={error:s,payload:n},f}const o=JSON.stringify(wI(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Un("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const c=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Un("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Un("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Un("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:s}});if(o.match(/only replay-protected/i))return Un("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:c,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Un("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Un("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Un("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=P0(this,nf)._++,s=new Promise((o,a)=>{d(this,o0).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return re(this,xl,P5).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new dh(this,s[n])}const{accounts:i}=await Br({network:this.getNetwork(),accounts:r});n=Wt(n);for(const s of i)if(Wt(s)===n)return new dh(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new dh(this,r))}destroy(){d(this,vs)&&(clearTimeout(d(this,vs)),R(this,vs,null));for(const{payload:n,reject:r}of d(this,o0))r(Un("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));R(this,o0,[]),super.destroy()}}ua=new WeakMap,nf=new WeakMap,o0=new WeakMap,vs=new WeakMap,ji=new WeakMap,_i=new WeakMap,$r=new WeakMap,xl=new WeakSet,P5=function(){if(d(this,vs))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");R(this,vs,setTimeout(()=>{R(this,vs,null);const r=d(this,o0);for(R(this,o0,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==d(this,ua).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>d(this,ua).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:f}of i){if(this.destroyed){c(Un("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}const l=o.filter(u=>u.id===f.id)[0];if(l==null){const u=Un("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",u),c(u);continue}if("error"in l){c(this.getRpcError(f,l));continue}a(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var oo;class a9 extends xI{constructor(n,r){super(n,r);$(this,oo,void 0);R(this,oo,4e3)}_getSubscriber(n){const r=super._getSubscriber(n);return X8(r)&&(r.pollingInterval=d(this,oo)),r}get pollingInterval(){return d(this,oo)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");R(this,oo,n),this._forEachSubscriber(r=>{X8(r)&&(r.pollingInterval=d(this,oo))})}}oo=new WeakMap;var rf;class cb extends a9{constructor(n,r,i){n==null&&(n="http://localhost:8545");super(r,i);$(this,rf,void 0);typeof n=="string"?R(this,rf,new g0(n)):R(this,rf,n.clone())}_getConnection(){return d(this,rf).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}rf=new WeakMap;function T5(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&_n(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=T5(t[e]);if(n)return n}return null}if(typeof t=="string")try{return T5(JSON.parse(t))}catch{}return null}function I5(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)I5(t[n],e);if(typeof t=="string")try{return I5(JSON.parse(t),e)}catch{}}}function wI(t){const e=[];return I5(t,e),e}var sf;class c9 extends a9{constructor(n,r){super(r,{batchMaxCount:1});$(this,sf,void 0);R(this,sf,async(i,s)=>{const o={method:i,params:s};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const a=await n.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:a}),a}catch(a){const c=new Error(a.message);throw c.code=a.code,c.data=a.data,c.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}})}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){W(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await d(this,sf).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await d(this,sf).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}}sf=new WeakMap;var f9={exports:{}};(function(t){/**
 * @license (c) Franz X Antesberger 2013
 */(function(e){var n=4294967296;e.fromBytesBigEndian=function(r,i,s,o){return(r<<24|i<<16|s<<8|o)>>>0},e.getByteBigEndian=function(r,i){return r>>>8*(3-i)&255},e.getBytesBigEndian=function(r){return[e.getByteBigEndian(r,0),e.getByteBigEndian(r,1),e.getByteBigEndian(r,2),e.getByteBigEndian(r,3)]},e.toHex=function(r,i){i=i||8;var s=r.toString(16);return s.length<i&&(s=new Array(i-s.length+1).join("0")+s),s},e.toUint32=function(r){return r>>>0},e.highPart=function(r){return e.toUint32(r/n)},e.or=function(r,i){for(var s=r,o=1;o<arguments.length;o+=1)s=s|arguments[o];return s>>>0},e.and=function(r,i){for(var s=r,o=1;o<arguments.length;o+=1)s=s&arguments[o];return s>>>0},e.xor=function(r,i){for(var s=r,o=1;o<arguments.length;o+=1)s=s^arguments[o];return s>>>0},e.not=function(r){return~r>>>0},e.shiftLeft=function(r,i){return r<<i>>>0},e.shiftRight=function(r,i){return r>>>i},e.rotateLeft=function(r,i){return(r<<i>>>0|r>>>32-i)>>>0},e.rotateRight=function(r,i){return(r>>>i|r<<32-i>>>0)>>>0},e.choose=function(r,i,s){return(r&(i^s)^s)>>>0},e.majority=function(r,i,s){return(r&(i|s)|i&s)>>>0},e.addMod32=function(r){for(var i=r,s=1;s<arguments.length;s+=1)i+=arguments[s];return i>>>0},e.log2=function(r){return Math.floor(Math.log(r)/Math.LN2)},e.mult=function(r,i,s){var o=((r&4294901760)>>>0)*i,a=(r&65535)*i,c=e.toUint32(o)+e.toUint32(a)>=n?1:0;s[0]=e.highPart(o)+e.highPart(a)+c>>>0,s[1]=(o>>>0)+(a>>>0)}})(t.exports={})})(f9);var fb=f9.exports,L=fb;const vI=[1,2,4,8,16,32,64,128,27,54],Cf=L.fromBytesBigEndian(85,85,85,85),Sf=L.fromBytesBigEndian(170,170,170,170),nu=L.fromBytesBigEndian(51,51,51,51),ru=L.fromBytesBigEndian(204,204,204,204),e3=L.fromBytesBigEndian(15,15,15,15),t3=L.fromBytesBigEndian(240,240,240,240),EI=L.fromBytesBigEndian(0,0,0,255),AI=L.fromBytesBigEndian(0,0,252,0),_I=L.fromBytesBigEndian(0,0,3,0),PI=L.fromBytesBigEndian(0,240,0,0),TI=L.fromBytesBigEndian(0,15,0,0),II=L.fromBytesBigEndian(192,0,0,0),CI=L.fromBytesBigEndian(63,0,0,0);function C5(){return new Uint32Array(8)}function ku(t,e){t[0]=L.xor(t[0],e[0]),t[1]=L.xor(t[1],e[1]),t[2]=L.xor(t[2],e[2]),t[3]=L.xor(t[3],e[3]),t[4]=L.xor(t[4],e[4]),t[5]=L.xor(t[5],e[5]),t[6]=L.xor(t[6],e[6]),t[7]=L.xor(t[7],e[7])}function yd(t){const e=t[7],n=t[6],r=t[5],i=t[4],s=t[3],o=t[2],a=t[1],c=t[0],f=L.xor(i,o),l=L.xor(e,a),u=L.xor(e,i),p=L.xor(e,o),m=L.xor(n,r),A=L.xor(m,c),E=L.xor(A,i),I=L.xor(l,f),w=L.xor(A,e),N=L.xor(A,a),F=L.xor(N,p),U=L.xor(s,I),H=L.xor(U,o),z=L.xor(U,n),ce=L.xor(H,c),ee=L.xor(H,m),ae=L.xor(z,u),Te=L.xor(c,ae),Ce=L.xor(ee,ae),lt=L.xor(ee,p),ot=L.xor(m,ae),Mt=L.xor(l,ot),me=L.xor(e,ot),xe=L.and(I,H),He=L.and(F,ce),tt=L.xor(He,xe),ze=L.and(E,c),Ke=L.xor(ze,xe),De=L.and(l,ot),Me=L.and(N,A),dt=L.xor(Me,De),it=L.and(w,Te),Se=L.xor(it,De),V=L.and(u,ae),O=L.and(f,Ce),j=L.xor(O,V),te=L.and(p,ee),oe=L.xor(te,V),C=L.xor(tt,j),k=L.xor(Ke,oe),x=L.xor(dt,j),_=L.xor(Se,oe),G=L.xor(C,z),Y=L.xor(k,lt),K=L.xor(x,Mt),ne=L.xor(_,me),we=L.xor(G,Y),ye=L.and(G,K),_e=L.xor(ne,ye),le=L.and(we,_e),Ie=L.xor(le,Y),Fe=L.xor(K,ne),Oe=L.xor(Y,ye),Xe=L.and(Oe,Fe),v=L.xor(Xe,ne),b=L.xor(K,v),g=L.xor(_e,v),B=L.and(ne,g),D=L.xor(B,b),X=L.xor(_e,B),fe=L.and(Ie,X),st=L.xor(we,fe),$t=L.xor(st,D),gt=L.xor(Ie,v),Nt=L.xor(Ie,st),Ut=L.xor(v,D),A0=L.xor(gt,$t),Wf=L.and(Ut,H),Ml=L.and(D,ce),Ul=L.and(v,c),Dl=L.and(Nt,ot),bi=L.and(st,A),us=L.and(Ie,Te),_0=L.and(gt,ae),Ga=L.and(A0,Ce),Qf=L.and($t,ee),Hl=L.and(Ut,I),Gl=L.and(D,F),_r=L.and(v,E),Jf=L.and(Nt,l),y=L.and(st,N),T=L.and(Ie,w),P=L.and(gt,u),h=L.and(A0,f),S=L.and($t,p),J=L.xor(P,h),Z=L.xor(Gl,_r),ue=L.xor(us,y),Pe=L.xor(Hl,Gl),Qe=L.xor(Ul,Jf),Ne=L.xor(Ul,us),jt=L.xor(Ga,Qf),Ue=L.xor(Wf,Dl),ht=L.xor(_0,Ga),mt=L.xor(h,S),At=L.xor(Jf,ue),wt=L.xor(Qe,Ue),bt=L.xor(bi,J),yt=L.xor(Dl,ht),xt=L.xor(J,wt),Ge=L.xor(T,wt),Ze=L.xor(jt,bt),Le=L.xor(Pe,bt),Ve=L.xor(bi,yt),We=L.xor(Ge,Ze),Re=L.xor(Ml,Le),ie=L.xor(yt,Le),se=L.xor(At,L.not(Ze)),ve=L.xor(ue,L.not(xt)),de=L.xor(Ve,We),he=L.xor(Ue,Re),Ee=L.xor(Ne,Re),at=L.xor(Z,We),_t=L.xor(Ve,L.not(he)),Ct=L.xor(mt,L.not(de));t[7]=ie,t[6]=_t,t[5]=Ct,t[4]=he,t[3]=Ee,t[2]=at,t[1]=se,t[0]=ve}function S5(t){for(let e=0;e<8;e++){const n=t[e];t[e]=L.or(L.and(n,EI),L.shiftRight(L.and(n,AI),2),L.shiftLeft(L.and(n,_I),6),L.shiftRight(L.and(n,PI),4),L.shiftLeft(L.and(n,TI),4),L.shiftRight(L.and(n,II),6),L.shiftLeft(L.and(n,CI),2))}}function l9(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],f=L.or(L.shiftRight(e,8),L.shiftLeft(e,24)),l=L.or(L.shiftRight(n,8),L.shiftLeft(n,24)),u=L.or(L.shiftRight(r,8),L.shiftLeft(r,24)),p=L.or(L.shiftRight(i,8),L.shiftLeft(i,24)),m=L.or(L.shiftRight(s,8),L.shiftLeft(s,24)),A=L.or(L.shiftRight(o,8),L.shiftLeft(o,24)),E=L.or(L.shiftRight(a,8),L.shiftLeft(a,24)),I=L.or(L.shiftRight(c,8),L.shiftLeft(c,24));t[0]=L.xor(c,I,f,L.rotateRight(L.xor(e,f),16)),t[1]=L.xor(e,f,c,I,l,L.rotateRight(L.xor(n,l),16)),t[2]=L.xor(n,l,u,L.rotateRight(L.xor(r,u),16)),t[3]=L.xor(r,u,c,I,p,L.rotateRight(L.xor(i,p),16)),t[4]=L.xor(i,p,c,I,m,L.rotateRight(L.xor(s,m),16)),t[5]=L.xor(s,m,A,L.rotateRight(L.xor(o,A),16)),t[6]=L.xor(o,A,E,L.rotateRight(L.xor(a,E),16)),t[7]=L.xor(a,E,I,L.rotateRight(L.xor(c,I),16))}function u9(t,e){const n=new DataView(e.buffer);t[0]=n.getUint32(0+e.byteOffset,!0),t[2]=n.getUint32(4+e.byteOffset,!0),t[4]=n.getUint32(8+e.byteOffset,!0),t[6]=n.getUint32(12+e.byteOffset,!0),t[1]=0,t[3]=0,t[5]=0,t[7]=0,y0(t)}function d9(t,e,n){const r=new DataView(e.buffer),i=new DataView(n.buffer);t[0]=r.getUint32(0+e.byteOffset,!0),t[2]=r.getUint32(4+e.byteOffset,!0),t[4]=r.getUint32(8+e.byteOffset,!0),t[6]=r.getUint32(12+e.byteOffset,!0),t[1]=i.getUint32(0+n.byteOffset,!0),t[3]=i.getUint32(4+n.byteOffset,!0),t[5]=i.getUint32(8+n.byteOffset,!0),t[7]=i.getUint32(12+n.byteOffset,!0),y0(t)}function h9(t,e){y0(e);const n=new DataView(t.buffer);n.setUint32(0+t.byteOffset,e[0],!0),n.setUint32(4+t.byteOffset,e[2],!0),n.setUint32(8+t.byteOffset,e[4],!0),n.setUint32(12+t.byteOffset,e[6],!0)}function b9(t,e,n){y0(n);const r=new DataView(t.buffer),i=new DataView(e.buffer);r.setUint32(0+t.byteOffset,n[0],!0),r.setUint32(4+t.byteOffset,n[2],!0),r.setUint32(8+t.byteOffset,n[4],!0),r.setUint32(12+t.byteOffset,n[6],!0),i.setUint32(0+e.byteOffset,n[1],!0),i.setUint32(4+e.byteOffset,n[3],!0),i.setUint32(8+e.byteOffset,n[5],!0),i.setUint32(12+e.byteOffset,n[7],!0)}function y0(t){for(let e=0;e<8;e+=2){const n=t[e],r=t[e+1];t[e]=L.or(L.and(n,Cf),L.shiftLeft(L.and(r,Cf),1)),t[e+1]=L.or(L.shiftRight(L.and(n,Sf),1),L.and(r,Sf))}for(let e=0;e<8;e+=4){const n=t[e],r=t[e+1],i=t[e+2],s=t[e+3];t[e]=L.or(L.and(n,nu),L.shiftLeft(L.and(i,nu),2)),t[e+2]=L.or(L.shiftRight(L.and(n,ru),2),L.and(i,ru)),t[e+1]=L.or(L.and(r,nu),L.shiftLeft(L.and(s,nu),2)),t[e+3]=L.or(L.shiftRight(L.and(r,ru),2),L.and(s,ru))}for(let e=0;e<4;e++){const n=t[e],r=t[e+4];t[e]=L.or(L.and(n,e3),L.shiftLeft(L.and(r,e3),4)),t[e+4]=L.or(L.shiftRight(L.and(n,t3),4),L.and(r,t3))}}function SI(t,e){const n=new DataView(e.buffer);for(let r=0;r<4;r++){const i=n.getUint32(r*4+e.byteOffset,!0);t[r*2]=i,t[r*2+1]=i}y0(t);for(let r=0,i=0;r<4;r=r+1,i=i+2){let s=L.or(L.and(t[i+0],Cf),L.and(t[i+1],Sf)),o=s;s=L.and(s,Cf),t[i]=L.or(s,L.shiftLeft(s,1)),o=L.and(o,Sf),t[i+1]=L.or(o,L.shiftRight(o,1))}}function p9(t,e,n){const r=(e+1)*4;for(let i=0,s=0;i<r;i=i+1,s=s+2){let o=n[i],a=n[i];o=L.and(o,Cf),t[s]=L.or(o,L.shiftLeft(o,1)),a=L.and(a,Sf),t[s+1]=L.or(a,L.shiftRight(a,1))}}function n3(t){let e=new Uint32Array([t,t,t,t,t,t,t,t]);return y0(e),yd(e),y0(e),e[0]}function g9(t,e){let n=0;const r=e.byteLength;switch(r){case 16:n=10;break;case 24:n=12;break;case 32:n=14;break;default:throw"aes: invalid key length"}let i=new Uint32Array(120),s=0;const o=r/4,a=(n+1)*4,c=new DataView(e.buffer);for(let f=0;f<o;f++)s=c.getUint32(f*4+e.byteOffset,!0),i[f*2]=s,i[f*2+1]=s;for(let f=o,l=0,u=0;f<a;f++)l==0?(s=L.or(L.shiftLeft(s,24),L.shiftRight(s,8)),s=L.xor(n3(s),L.fromBytesBigEndian(0,0,0,vI[u]))):o>6&&l==4&&(s=n3(s)),s=L.xor(s,i[(f-o)*2]),i[f*2]=s,i[f*2+1]=s,l++,l==o&&(l=0,u++);for(let f=0;f<a;f+=4){let l=i.slice(f*2,f*2+8);y0(l);for(let u=0;u<8;u++)i[f*2+u]=l[u]}for(let f=0,l=0;f<a;f=f+1,l=l+2)t[f]=L.or(L.and(i[l],Cf),L.and(i[l+1],Sf));return n}function r3(t,e,n){ku(n,e);for(let r=1;r<t;r++)yd(n),S5(n),l9(n),ku(n,e.slice(r*8,r*8+8));yd(n),S5(n),ku(n,e.slice(t*8,t*8+8))}class kI{constructor(e){let n=new Uint32Array(60);this.numRounds=g9(n,e),this.skeyExpanded=new Uint32Array(120),p9(this.skeyExpanded,this.numRounds,n)}encrypt(e,n){let r=C5();u9(r,n),r3(this.numRounds,this.skeyExpanded,r),h9(e,r)}encrypt2x(e,n,r,i){let s=C5();d9(s,r,i),r3(this.numRounds,this.skeyExpanded,s),b9(e,n,s)}}var BI={ECB:kI,newQ:C5,load4xU32:u9,load8xU32:d9,store4xU32:h9,store8xU32:b9,ortho:y0,rkeyOrtho:SI,addRoundKey:ku,subBytes:yd,shiftRows:S5,mixColumns:l9,skeyExpand:p9,keySched:g9},Xt=fb;const iu=new Uint32Array([3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986]),su=new Uint32Array([2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766]),ou=new Uint32Array([1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126]),au=new Uint32Array([1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436]),ur=Xt.fromBytesBigEndian(0,0,0,255);function RI(t,e,n,r,i){const s=new DataView(i.buffer),o=s.getUint32(0+i.byteOffset,!1),a=s.getUint32(4+i.byteOffset,!1),c=s.getUint32(8+i.byteOffset,!1),f=s.getUint32(12+i.byteOffset,!1),l=Xt.xor(iu[Xt.and(Xt.shiftRight(t,24),ur)],su[Xt.and(Xt.shiftRight(e,16),ur)],ou[Xt.and(Xt.shiftRight(n,8),ur)],au[Xt.and(r,ur)],o),u=Xt.xor(iu[Xt.and(Xt.shiftRight(e,24),ur)],su[Xt.and(Xt.shiftRight(n,16),ur)],ou[Xt.and(Xt.shiftRight(r,8),ur)],au[Xt.and(t,ur)],a),p=Xt.xor(iu[Xt.and(Xt.shiftRight(n,24),ur)],su[Xt.and(Xt.shiftRight(r,16),ur)],ou[Xt.and(Xt.shiftRight(t,8),ur)],au[Xt.and(e,ur)],c),m=Xt.xor(iu[Xt.and(Xt.shiftRight(r,24),ur)],su[Xt.and(Xt.shiftRight(t,16),ur)],ou[Xt.and(Xt.shiftRight(e,8),ur)],au[Xt.and(n,ur)],f);return[l,u,p,m]}var NI={aesencVartime:RI},Pt=BI,Ti=fb,OI=NI;const m9=32,k5=15,va=16,kf=16,lo=16,ke=16,LI=16,pc=2,y9=6,gc=0,x9=4,w9=1,lb=4;function Jr(t,e,n,r){for(let i=0;i<r;i++)t[i]=e[i]^n[i]}const cu=new Uint8Array([47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114]);function B5(t){const e=new Uint8Array([t[1],t[6],t[11],t[12],t[5],t[10],t[15],t[0],t[9],t[14],t[3],t[4],t[13],t[2],t[7],t[8]]);t.set(e)}function FI(t){for(let e=0;e<kf;e++){const n=t[e],r=n>>7,i=n>>5&1;t[e]=n<<1|r^i}}function MI(t){for(let e=0;e<kf;e++){const n=t[e],r=n&1,i=n>>6&1;t[e]=n>>1|(r^i)<<7}}function i3(t,e){t[0]^=1,t[1]^=2,t[2]^=4,t[3]^=8,t[4]^=cu[e],t[5]^=cu[e],t[6]^=cu[e],t[7]^=cu[e]}function UI(t,e){let n=t.subarray(16,32),r=t.subarray(0,16);Jr(e[0],n,r,kf),i3(e[0],0);for(let i=1;i<=lo;i++)FI(n),B5(n),MI(r),B5(r),Jr(e[i],n,r,kf),i3(e[i],i)}function c1(t,e,n){let r=new Uint8Array(n);Jr(t[0],e[0],r,kf);for(let i=1;i<=lo;i++)B5(r),Jr(t[i],e[i],r,kf)}function G0(){let t=[];for(let e=0;e<=lo;e++)t.push(new Uint8Array(16));return t}class DI{static bcEncrypt(e,n,r,i){let s=G0();c1(s,n,r);let o=Pt.newQ(),a=Pt.newQ();Pt.load4xU32(o,i),Pt.load4xU32(a,s[0]),Pt.addRoundKey(o,a);for(let c=1;c<=lo;c++)Pt.subBytes(o),Pt.shiftRows(o),Pt.mixColumns(o),Pt.load4xU32(a,s[c]),Pt.addRoundKey(o,a);Pt.store4xU32(e,o)}static bcKeystreamx2(e,n,r,i){let s=[G0(),G0()];for(let c=0;c<2;c++)c1(s[c],n,r[c]);let o=Pt.newQ(),a=Pt.newQ();Pt.rkeyOrtho(o,i),Pt.load8xU32(a,s[0][0],s[1][0]),Pt.addRoundKey(o,a);for(let c=1;c<=lo;c++)Pt.subBytes(o),Pt.shiftRows(o),Pt.mixColumns(o),Pt.load8xU32(a,s[0][c],s[1][c]),Pt.addRoundKey(o,a);Pt.store8xU32(e.subarray(0,16),e.subarray(16,32),o)}static bcTagx1(e,n,r,i){let s=G0();c1(s,n,r);let o=Pt.newQ(),a=Pt.newQ();Pt.load4xU32(o,i),Pt.load4xU32(a,s[0]),Pt.addRoundKey(o,a);for(let m=1;m<=lo;m++)Pt.subBytes(o),Pt.shiftRows(o),Pt.mixColumns(o),Pt.load4xU32(a,s[m]),Pt.addRoundKey(o,a);const c=new DataView(e.buffer);let f=c.getUint32(0,!0),l=c.getUint32(4,!0),u=c.getUint32(8,!0),p=c.getUint32(12,!0);Pt.ortho(o),f=Ti.xor(f,o[0]),l=Ti.xor(l,o[2]),u=Ti.xor(u,o[4]),p=Ti.xor(p,o[6]),c.setUint32(0,f,!0),c.setUint32(4,l,!0),c.setUint32(8,u,!0),c.setUint32(12,p,!0)}static bcTagx2(e,n,r,i){let s=[G0(),G0()];for(let m=0;m<2;m++)c1(s[m],n,r[m]);let o=Pt.newQ(),a=Pt.newQ();Pt.load8xU32(o,i.subarray(0,16),i.subarray(16,32)),Pt.load8xU32(a,s[0][0],s[1][0]),Pt.addRoundKey(o,a);for(let m=1;m<=lo;m++)Pt.subBytes(o),Pt.shiftRows(o),Pt.mixColumns(o),Pt.load8xU32(a,s[0][m],s[1][m]),Pt.addRoundKey(o,a);const c=new DataView(e.buffer);let f=c.getUint32(0,!0),l=c.getUint32(4,!0),u=c.getUint32(8,!0),p=c.getUint32(12,!0);Pt.ortho(o),f=Ti.xor(f,o[0],o[1]),l=Ti.xor(l,o[2],o[3]),u=Ti.xor(u,o[4],o[5]),p=Ti.xor(p,o[6],o[7]),c.setUint32(0,f,!0),c.setUint32(4,l,!0),c.setUint32(8,u,!0),c.setUint32(12,p,!0)}}class HI{static bcEncrypt(e,n,r,i){let s=G0();c1(s,n,r);const o=new DataView(i.buffer);let a=o.getUint32(0+i.byteOffset,!1),c=o.getUint32(4+i.byteOffset,!1),f=o.getUint32(8+i.byteOffset,!1),l=o.getUint32(12+i.byteOffset,!1);const u=new DataView(s[0].buffer);a=Ti.xor(a,u.getUint32(0+s[0].byteOffset,!1)),c=Ti.xor(c,u.getUint32(4+s[0].byteOffset,!1)),f=Ti.xor(f,u.getUint32(8+s[0].byteOffset,!1)),l=Ti.xor(l,u.getUint32(12+s[0].byteOffset,!1));for(let m=1;m<=lo;m++)[a,c,f,l]=OI.aesencVartime(a,c,f,l,s[m]);const p=new DataView(e.buffer);p.setUint32(0+e.byteOffset,a,!1),p.setUint32(4+e.byteOffset,c,!1),p.setUint32(8+e.byteOffset,f,!1),p.setUint32(12+e.byteOffset,l,!1)}static bcKeystreamx2(e,n,r,i){this.bcEncrypt(e.subarray(0,16),n,r[0],i),this.bcEncrypt(e.subarray(16,32),n,r[1],i)}static bcTagx1(e,n,r,i){let s=new Uint8Array(ke);this.bcEncrypt(s,n,r,i),Jr(e,e,s,ke)}static bcTagx2(e,n,r,i){let s=new Uint8Array(2*ke);this.bcEncrypt(s.subarray(0,16),n,r[0],i.subarray(0,16)),this.bcEncrypt(s.subarray(16,32),n,r[1],i.subarray(16,32)),Jr(e,e,s.subarray(0,16),ke),Jr(e,e,s.subarray(16,32),ke)}}function gr(t,e,n){t.set(new Uint8Array(12)),new DataView(t.buffer).setUint32(12+t.byteOffset,n,!1),t[0]=e<<lb}function uo(t,e,n){var r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n,!1),t.set(e),t[0]|=128,Jr(t.subarray(12,16),t.subarray(12,16),r,4)}function R5(){let t=[];for(let e=0;e<2;e++)t.push(new Uint8Array(LI));return t}function GI(t,e,n,r,i,s){let o=R5(),a=0,c=0,f=i.length,l=new Uint8Array(va);for(a=0;f>=2*ke;a+=2)gr(o[0],pc,a),gr(o[1],pc,a+1),t.bcTagx2(l,e,o,i.subarray(a*ke,(a+2)*ke)),f-=2*ke;for(;f>=ke;a++)gr(o[0],pc,a),t.bcTagx1(l,e,o[0],i.subarray(a*ke,(a+1)*ke)),f-=ke;if(f>0){gr(o[0],y9,a);let A=new Uint8Array(ke);A.set(i.subarray(i.length-f)),A[f]=128,t.bcTagx1(l,e,o[0],A)}let u=s.length;for(c=0;u>=2*ke;c+=2)gr(o[0],gc,c),gr(o[1],gc,c+1),t.bcTagx2(l,e,o,s.subarray(c*ke,(c+2)*ke)),u-=2*ke;for(;u>=ke;c++)gr(o[0],gc,c),t.bcTagx1(l,e,o[0],s.subarray(c*ke,(c+1)*ke)),u-=ke;if(u>0){gr(o[0],x9,c);let A=new Uint8Array(ke);A.set(s.subarray(s.length-u)),A[u]=128,t.bcTagx1(l,e,o[0],A)}let p=new Uint8Array(ke);p.set(n,1),p[0]=w9<<lb,t.bcEncrypt(l,e,p,l),p[0]=0,u=s.length;let m=new Uint8Array(2*ke);for(c=0;u>=2*ke;c+=2)uo(o[0],l,c),uo(o[1],l,c+1),t.bcKeystreamx2(m,e,o,p),Jr(r.subarray(c*ke,(c+2)*ke),s.subarray(c*ke,(c+2)*ke),m,2*ke),u-=2*ke;for(;u>=ke;c++)uo(o[0],l,c),t.bcEncrypt(m,e,o[0],p),Jr(r.subarray(c*ke,(c+1)*ke),s.subarray(c*ke,(c+1)*ke),m,ke),u-=ke;u>0&&(uo(o[0],l,c),t.bcEncrypt(m,e,o[0],p),Jr(r.subarray(c*ke,s.length),s.subarray(c*ke),m,u)),r.set(l,s.length)}function VI(t,e,n,r,i,s){let o=s.length-va;const a=s.subarray(0,o),c=s.subarray(o);let f=0,l=R5(),u=new Uint8Array(ke);u.set(n,1);let p=new Uint8Array(2*ke);for(f=0;o>=2*ke;f+=2)uo(l[0],c,f),uo(l[1],c,f+1),t.bcKeystreamx2(p,e,l,u),Jr(r.subarray(f*ke,(f+2)*ke),a.subarray(f*ke,(f+2)*ke),p,2*ke),o-=2*ke;for(;o>=ke;f++)uo(l[0],c,f),t.bcEncrypt(p,e,l[0],u),Jr(r.subarray(f*ke,(f+1)*ke),a.subarray(f*ke,(f+1)*ke),p,ke),o-=ke;o>0&&(uo(l[0],c,f),t.bcEncrypt(p,e,l[0],u),Jr(r.subarray(f*ke),a.subarray(f*ke),p,o));let m=0,A=i.length,E=R5(),I=new Uint8Array(va);for(m=0;A>=2*ke;m+=2)gr(E[0],pc,m),gr(E[1],pc,m+1),t.bcTagx2(I,e,E,i.subarray(m*ke,(m+2)*ke)),A-=2*ke;for(;A>=ke;m++)gr(E[0],pc,m),t.bcTagx1(I,e,E[0],i.subarray(m*ke,(m+1)*ke)),A-=ke;if(A>0){gr(E[0],y9,m);let F=new Uint8Array(ke);F.set(i.subarray(i.length-A)),F[A]=128,t.bcTagx1(I,e,E[0],F)}let w=r.length;for(f=0;w>=2*ke;f+=2)gr(E[0],gc,f),gr(E[1],gc,f+1),t.bcTagx2(I,e,E,r.subarray(f*ke,(f+2)*ke)),w-=2*ke;for(;w>=ke;f++)gr(E[0],gc,f),t.bcTagx1(I,e,E[0],r.subarray(f*ke,(f+1)*ke)),w-=ke;if(w>0){gr(E[0],x9,f);let F=new Uint8Array(ke);F.set(r.subarray(r.length-w)),F[w]=128,t.bcTagx1(I,e,E[0],F)}if(u[0]=w9<<lb,t.bcEncrypt(I,e,u,I),I.length!=c.length)return!1;let N=!0;for(m=0;m<I.length;m++)N&=!(I[m]^c[m]);return N}class $I{constructor(e,n=!1){if(e.length!=m9)throw v9;this.impl=n?HI:DI,this.derivedKs=G0(),UI(e,this.derivedKs)}encrypt(e,n=null,r=null){if(e.length!=k5)throw N5;n==null&&(n=hh),r==null&&(r=hh);let i=new Uint8Array(n.length+va);return GI(this.impl,this.derivedKs,e,i,r,n),i}decrypt(e,n,r=null){if(e.length!=k5)throw N5;if(n.length<va)throw O5;r==null&&(r=hh);let i=new Uint8Array(n.length-va);if(!VI(this.impl,this.derivedKs,e,i,r,n))throw i.set(new Uint8Array(i.length)),O5;return i}}const hh=new Uint8Array(0),v9="deoxysii: invalid key size",N5="deoxysii: invalid nonce size",O5="deoxysii: message authentication failure";var es={KeySize:m9,NonceSize:k5,TagSize:va,ErrNonceSize:N5,ErrKeySize:v9,ErrOpen:O5,AEAD:$I};const s3=Il(es);function zI(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var E9={exports:{}};const jI={},KI=Object.freeze(Object.defineProperty({__proto__:null,default:jI},Symbol.toStringTag,{value:"Module"})),ub=Cv(KI);(function(t){(function(e){var n=function(y){var T,P=new Float64Array(16);if(y)for(T=0;T<y.length;T++)P[T]=y[T];return P},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),c=n([56129,1]),f=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A(y,T,P,h){y[T]=P>>24&255,y[T+1]=P>>16&255,y[T+2]=P>>8&255,y[T+3]=P&255,y[T+4]=h>>24&255,y[T+5]=h>>16&255,y[T+6]=h>>8&255,y[T+7]=h&255}function E(y,T,P,h,S){var J,Z=0;for(J=0;J<S;J++)Z|=y[T+J]^P[h+J];return(1&Z-1>>>8)-1}function I(y,T,P,h){return E(y,T,P,h,16)}function w(y,T,P,h){return E(y,T,P,h,32)}function N(y,T,P,h){for(var S=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,J=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,Z=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,ue=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Pe=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Qe=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,Ne=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,jt=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,Ue=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,ht=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,mt=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,At=P[16]&255|(P[17]&255)<<8|(P[18]&255)<<16|(P[19]&255)<<24,wt=P[20]&255|(P[21]&255)<<8|(P[22]&255)<<16|(P[23]&255)<<24,bt=P[24]&255|(P[25]&255)<<8|(P[26]&255)<<16|(P[27]&255)<<24,yt=P[28]&255|(P[29]&255)<<8|(P[30]&255)<<16|(P[31]&255)<<24,xt=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,Ge=S,Ze=J,Le=Z,Ve=ue,We=Pe,Re=Qe,ie=Ne,se=jt,ve=Ue,de=ht,he=mt,Ee=At,at=wt,_t=bt,Ct=yt,kt=xt,M,Dt=0;Dt<20;Dt+=2)M=Ge+at|0,We^=M<<7|M>>>25,M=We+Ge|0,ve^=M<<9|M>>>23,M=ve+We|0,at^=M<<13|M>>>19,M=at+ve|0,Ge^=M<<18|M>>>14,M=Re+Ze|0,de^=M<<7|M>>>25,M=de+Re|0,_t^=M<<9|M>>>23,M=_t+de|0,Ze^=M<<13|M>>>19,M=Ze+_t|0,Re^=M<<18|M>>>14,M=he+ie|0,Ct^=M<<7|M>>>25,M=Ct+he|0,Le^=M<<9|M>>>23,M=Le+Ct|0,ie^=M<<13|M>>>19,M=ie+Le|0,he^=M<<18|M>>>14,M=kt+Ee|0,Ve^=M<<7|M>>>25,M=Ve+kt|0,se^=M<<9|M>>>23,M=se+Ve|0,Ee^=M<<13|M>>>19,M=Ee+se|0,kt^=M<<18|M>>>14,M=Ge+Ve|0,Ze^=M<<7|M>>>25,M=Ze+Ge|0,Le^=M<<9|M>>>23,M=Le+Ze|0,Ve^=M<<13|M>>>19,M=Ve+Le|0,Ge^=M<<18|M>>>14,M=Re+We|0,ie^=M<<7|M>>>25,M=ie+Re|0,se^=M<<9|M>>>23,M=se+ie|0,We^=M<<13|M>>>19,M=We+se|0,Re^=M<<18|M>>>14,M=he+de|0,Ee^=M<<7|M>>>25,M=Ee+he|0,ve^=M<<9|M>>>23,M=ve+Ee|0,de^=M<<13|M>>>19,M=de+ve|0,he^=M<<18|M>>>14,M=kt+Ct|0,at^=M<<7|M>>>25,M=at+kt|0,_t^=M<<9|M>>>23,M=_t+at|0,Ct^=M<<13|M>>>19,M=Ct+_t|0,kt^=M<<18|M>>>14;Ge=Ge+S|0,Ze=Ze+J|0,Le=Le+Z|0,Ve=Ve+ue|0,We=We+Pe|0,Re=Re+Qe|0,ie=ie+Ne|0,se=se+jt|0,ve=ve+Ue|0,de=de+ht|0,he=he+mt|0,Ee=Ee+At|0,at=at+wt|0,_t=_t+bt|0,Ct=Ct+yt|0,kt=kt+xt|0,y[0]=Ge>>>0&255,y[1]=Ge>>>8&255,y[2]=Ge>>>16&255,y[3]=Ge>>>24&255,y[4]=Ze>>>0&255,y[5]=Ze>>>8&255,y[6]=Ze>>>16&255,y[7]=Ze>>>24&255,y[8]=Le>>>0&255,y[9]=Le>>>8&255,y[10]=Le>>>16&255,y[11]=Le>>>24&255,y[12]=Ve>>>0&255,y[13]=Ve>>>8&255,y[14]=Ve>>>16&255,y[15]=Ve>>>24&255,y[16]=We>>>0&255,y[17]=We>>>8&255,y[18]=We>>>16&255,y[19]=We>>>24&255,y[20]=Re>>>0&255,y[21]=Re>>>8&255,y[22]=Re>>>16&255,y[23]=Re>>>24&255,y[24]=ie>>>0&255,y[25]=ie>>>8&255,y[26]=ie>>>16&255,y[27]=ie>>>24&255,y[28]=se>>>0&255,y[29]=se>>>8&255,y[30]=se>>>16&255,y[31]=se>>>24&255,y[32]=ve>>>0&255,y[33]=ve>>>8&255,y[34]=ve>>>16&255,y[35]=ve>>>24&255,y[36]=de>>>0&255,y[37]=de>>>8&255,y[38]=de>>>16&255,y[39]=de>>>24&255,y[40]=he>>>0&255,y[41]=he>>>8&255,y[42]=he>>>16&255,y[43]=he>>>24&255,y[44]=Ee>>>0&255,y[45]=Ee>>>8&255,y[46]=Ee>>>16&255,y[47]=Ee>>>24&255,y[48]=at>>>0&255,y[49]=at>>>8&255,y[50]=at>>>16&255,y[51]=at>>>24&255,y[52]=_t>>>0&255,y[53]=_t>>>8&255,y[54]=_t>>>16&255,y[55]=_t>>>24&255,y[56]=Ct>>>0&255,y[57]=Ct>>>8&255,y[58]=Ct>>>16&255,y[59]=Ct>>>24&255,y[60]=kt>>>0&255,y[61]=kt>>>8&255,y[62]=kt>>>16&255,y[63]=kt>>>24&255}function F(y,T,P,h){for(var S=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,J=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,Z=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,ue=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Pe=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Qe=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,Ne=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,jt=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,Ue=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,ht=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,mt=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,At=P[16]&255|(P[17]&255)<<8|(P[18]&255)<<16|(P[19]&255)<<24,wt=P[20]&255|(P[21]&255)<<8|(P[22]&255)<<16|(P[23]&255)<<24,bt=P[24]&255|(P[25]&255)<<8|(P[26]&255)<<16|(P[27]&255)<<24,yt=P[28]&255|(P[29]&255)<<8|(P[30]&255)<<16|(P[31]&255)<<24,xt=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,Ge=S,Ze=J,Le=Z,Ve=ue,We=Pe,Re=Qe,ie=Ne,se=jt,ve=Ue,de=ht,he=mt,Ee=At,at=wt,_t=bt,Ct=yt,kt=xt,M,Dt=0;Dt<20;Dt+=2)M=Ge+at|0,We^=M<<7|M>>>25,M=We+Ge|0,ve^=M<<9|M>>>23,M=ve+We|0,at^=M<<13|M>>>19,M=at+ve|0,Ge^=M<<18|M>>>14,M=Re+Ze|0,de^=M<<7|M>>>25,M=de+Re|0,_t^=M<<9|M>>>23,M=_t+de|0,Ze^=M<<13|M>>>19,M=Ze+_t|0,Re^=M<<18|M>>>14,M=he+ie|0,Ct^=M<<7|M>>>25,M=Ct+he|0,Le^=M<<9|M>>>23,M=Le+Ct|0,ie^=M<<13|M>>>19,M=ie+Le|0,he^=M<<18|M>>>14,M=kt+Ee|0,Ve^=M<<7|M>>>25,M=Ve+kt|0,se^=M<<9|M>>>23,M=se+Ve|0,Ee^=M<<13|M>>>19,M=Ee+se|0,kt^=M<<18|M>>>14,M=Ge+Ve|0,Ze^=M<<7|M>>>25,M=Ze+Ge|0,Le^=M<<9|M>>>23,M=Le+Ze|0,Ve^=M<<13|M>>>19,M=Ve+Le|0,Ge^=M<<18|M>>>14,M=Re+We|0,ie^=M<<7|M>>>25,M=ie+Re|0,se^=M<<9|M>>>23,M=se+ie|0,We^=M<<13|M>>>19,M=We+se|0,Re^=M<<18|M>>>14,M=he+de|0,Ee^=M<<7|M>>>25,M=Ee+he|0,ve^=M<<9|M>>>23,M=ve+Ee|0,de^=M<<13|M>>>19,M=de+ve|0,he^=M<<18|M>>>14,M=kt+Ct|0,at^=M<<7|M>>>25,M=at+kt|0,_t^=M<<9|M>>>23,M=_t+at|0,Ct^=M<<13|M>>>19,M=Ct+_t|0,kt^=M<<18|M>>>14;y[0]=Ge>>>0&255,y[1]=Ge>>>8&255,y[2]=Ge>>>16&255,y[3]=Ge>>>24&255,y[4]=Re>>>0&255,y[5]=Re>>>8&255,y[6]=Re>>>16&255,y[7]=Re>>>24&255,y[8]=he>>>0&255,y[9]=he>>>8&255,y[10]=he>>>16&255,y[11]=he>>>24&255,y[12]=kt>>>0&255,y[13]=kt>>>8&255,y[14]=kt>>>16&255,y[15]=kt>>>24&255,y[16]=ie>>>0&255,y[17]=ie>>>8&255,y[18]=ie>>>16&255,y[19]=ie>>>24&255,y[20]=se>>>0&255,y[21]=se>>>8&255,y[22]=se>>>16&255,y[23]=se>>>24&255,y[24]=ve>>>0&255,y[25]=ve>>>8&255,y[26]=ve>>>16&255,y[27]=ve>>>24&255,y[28]=de>>>0&255,y[29]=de>>>8&255,y[30]=de>>>16&255,y[31]=de>>>24&255}function U(y,T,P,h){N(y,T,P,h)}function H(y,T,P,h){F(y,T,P,h)}var z=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ce(y,T,P,h,S,J,Z){var ue=new Uint8Array(16),Pe=new Uint8Array(64),Qe,Ne;for(Ne=0;Ne<16;Ne++)ue[Ne]=0;for(Ne=0;Ne<8;Ne++)ue[Ne]=J[Ne];for(;S>=64;){for(U(Pe,ue,Z,z),Ne=0;Ne<64;Ne++)y[T+Ne]=P[h+Ne]^Pe[Ne];for(Qe=1,Ne=8;Ne<16;Ne++)Qe=Qe+(ue[Ne]&255)|0,ue[Ne]=Qe&255,Qe>>>=8;S-=64,T+=64,h+=64}if(S>0)for(U(Pe,ue,Z,z),Ne=0;Ne<S;Ne++)y[T+Ne]=P[h+Ne]^Pe[Ne];return 0}function ee(y,T,P,h,S){var J=new Uint8Array(16),Z=new Uint8Array(64),ue,Pe;for(Pe=0;Pe<16;Pe++)J[Pe]=0;for(Pe=0;Pe<8;Pe++)J[Pe]=h[Pe];for(;P>=64;){for(U(Z,J,S,z),Pe=0;Pe<64;Pe++)y[T+Pe]=Z[Pe];for(ue=1,Pe=8;Pe<16;Pe++)ue=ue+(J[Pe]&255)|0,J[Pe]=ue&255,ue>>>=8;P-=64,T+=64}if(P>0)for(U(Z,J,S,z),Pe=0;Pe<P;Pe++)y[T+Pe]=Z[Pe];return 0}function ae(y,T,P,h,S){var J=new Uint8Array(32);H(J,h,S,z);for(var Z=new Uint8Array(8),ue=0;ue<8;ue++)Z[ue]=h[ue+16];return ee(y,T,P,Z,J)}function Te(y,T,P,h,S,J,Z){var ue=new Uint8Array(32);H(ue,J,Z,z);for(var Pe=new Uint8Array(8),Qe=0;Qe<8;Qe++)Pe[Qe]=J[Qe+16];return ce(y,T,P,h,S,Pe,ue)}var Ce=function(y){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var T,P,h,S,J,Z,ue,Pe;T=y[0]&255|(y[1]&255)<<8,this.r[0]=T&8191,P=y[2]&255|(y[3]&255)<<8,this.r[1]=(T>>>13|P<<3)&8191,h=y[4]&255|(y[5]&255)<<8,this.r[2]=(P>>>10|h<<6)&7939,S=y[6]&255|(y[7]&255)<<8,this.r[3]=(h>>>7|S<<9)&8191,J=y[8]&255|(y[9]&255)<<8,this.r[4]=(S>>>4|J<<12)&255,this.r[5]=J>>>1&8190,Z=y[10]&255|(y[11]&255)<<8,this.r[6]=(J>>>14|Z<<2)&8191,ue=y[12]&255|(y[13]&255)<<8,this.r[7]=(Z>>>11|ue<<5)&8065,Pe=y[14]&255|(y[15]&255)<<8,this.r[8]=(ue>>>8|Pe<<8)&8191,this.r[9]=Pe>>>5&127,this.pad[0]=y[16]&255|(y[17]&255)<<8,this.pad[1]=y[18]&255|(y[19]&255)<<8,this.pad[2]=y[20]&255|(y[21]&255)<<8,this.pad[3]=y[22]&255|(y[23]&255)<<8,this.pad[4]=y[24]&255|(y[25]&255)<<8,this.pad[5]=y[26]&255|(y[27]&255)<<8,this.pad[6]=y[28]&255|(y[29]&255)<<8,this.pad[7]=y[30]&255|(y[31]&255)<<8};Ce.prototype.blocks=function(y,T,P){for(var h=this.fin?0:2048,S,J,Z,ue,Pe,Qe,Ne,jt,Ue,ht,mt,At,wt,bt,yt,xt,Ge,Ze,Le,Ve=this.h[0],We=this.h[1],Re=this.h[2],ie=this.h[3],se=this.h[4],ve=this.h[5],de=this.h[6],he=this.h[7],Ee=this.h[8],at=this.h[9],_t=this.r[0],Ct=this.r[1],kt=this.r[2],M=this.r[3],Dt=this.r[4],qt=this.r[5],Zt=this.r[6],Ot=this.r[7],Qt=this.r[8],Jt=this.r[9];P>=16;)S=y[T+0]&255|(y[T+1]&255)<<8,Ve+=S&8191,J=y[T+2]&255|(y[T+3]&255)<<8,We+=(S>>>13|J<<3)&8191,Z=y[T+4]&255|(y[T+5]&255)<<8,Re+=(J>>>10|Z<<6)&8191,ue=y[T+6]&255|(y[T+7]&255)<<8,ie+=(Z>>>7|ue<<9)&8191,Pe=y[T+8]&255|(y[T+9]&255)<<8,se+=(ue>>>4|Pe<<12)&8191,ve+=Pe>>>1&8191,Qe=y[T+10]&255|(y[T+11]&255)<<8,de+=(Pe>>>14|Qe<<2)&8191,Ne=y[T+12]&255|(y[T+13]&255)<<8,he+=(Qe>>>11|Ne<<5)&8191,jt=y[T+14]&255|(y[T+15]&255)<<8,Ee+=(Ne>>>8|jt<<8)&8191,at+=jt>>>5|h,Ue=0,ht=Ue,ht+=Ve*_t,ht+=We*(5*Jt),ht+=Re*(5*Qt),ht+=ie*(5*Ot),ht+=se*(5*Zt),Ue=ht>>>13,ht&=8191,ht+=ve*(5*qt),ht+=de*(5*Dt),ht+=he*(5*M),ht+=Ee*(5*kt),ht+=at*(5*Ct),Ue+=ht>>>13,ht&=8191,mt=Ue,mt+=Ve*Ct,mt+=We*_t,mt+=Re*(5*Jt),mt+=ie*(5*Qt),mt+=se*(5*Ot),Ue=mt>>>13,mt&=8191,mt+=ve*(5*Zt),mt+=de*(5*qt),mt+=he*(5*Dt),mt+=Ee*(5*M),mt+=at*(5*kt),Ue+=mt>>>13,mt&=8191,At=Ue,At+=Ve*kt,At+=We*Ct,At+=Re*_t,At+=ie*(5*Jt),At+=se*(5*Qt),Ue=At>>>13,At&=8191,At+=ve*(5*Ot),At+=de*(5*Zt),At+=he*(5*qt),At+=Ee*(5*Dt),At+=at*(5*M),Ue+=At>>>13,At&=8191,wt=Ue,wt+=Ve*M,wt+=We*kt,wt+=Re*Ct,wt+=ie*_t,wt+=se*(5*Jt),Ue=wt>>>13,wt&=8191,wt+=ve*(5*Qt),wt+=de*(5*Ot),wt+=he*(5*Zt),wt+=Ee*(5*qt),wt+=at*(5*Dt),Ue+=wt>>>13,wt&=8191,bt=Ue,bt+=Ve*Dt,bt+=We*M,bt+=Re*kt,bt+=ie*Ct,bt+=se*_t,Ue=bt>>>13,bt&=8191,bt+=ve*(5*Jt),bt+=de*(5*Qt),bt+=he*(5*Ot),bt+=Ee*(5*Zt),bt+=at*(5*qt),Ue+=bt>>>13,bt&=8191,yt=Ue,yt+=Ve*qt,yt+=We*Dt,yt+=Re*M,yt+=ie*kt,yt+=se*Ct,Ue=yt>>>13,yt&=8191,yt+=ve*_t,yt+=de*(5*Jt),yt+=he*(5*Qt),yt+=Ee*(5*Ot),yt+=at*(5*Zt),Ue+=yt>>>13,yt&=8191,xt=Ue,xt+=Ve*Zt,xt+=We*qt,xt+=Re*Dt,xt+=ie*M,xt+=se*kt,Ue=xt>>>13,xt&=8191,xt+=ve*Ct,xt+=de*_t,xt+=he*(5*Jt),xt+=Ee*(5*Qt),xt+=at*(5*Ot),Ue+=xt>>>13,xt&=8191,Ge=Ue,Ge+=Ve*Ot,Ge+=We*Zt,Ge+=Re*qt,Ge+=ie*Dt,Ge+=se*M,Ue=Ge>>>13,Ge&=8191,Ge+=ve*kt,Ge+=de*Ct,Ge+=he*_t,Ge+=Ee*(5*Jt),Ge+=at*(5*Qt),Ue+=Ge>>>13,Ge&=8191,Ze=Ue,Ze+=Ve*Qt,Ze+=We*Ot,Ze+=Re*Zt,Ze+=ie*qt,Ze+=se*Dt,Ue=Ze>>>13,Ze&=8191,Ze+=ve*M,Ze+=de*kt,Ze+=he*Ct,Ze+=Ee*_t,Ze+=at*(5*Jt),Ue+=Ze>>>13,Ze&=8191,Le=Ue,Le+=Ve*Jt,Le+=We*Qt,Le+=Re*Ot,Le+=ie*Zt,Le+=se*qt,Ue=Le>>>13,Le&=8191,Le+=ve*Dt,Le+=de*M,Le+=he*kt,Le+=Ee*Ct,Le+=at*_t,Ue+=Le>>>13,Le&=8191,Ue=(Ue<<2)+Ue|0,Ue=Ue+ht|0,ht=Ue&8191,Ue=Ue>>>13,mt+=Ue,Ve=ht,We=mt,Re=At,ie=wt,se=bt,ve=yt,de=xt,he=Ge,Ee=Ze,at=Le,T+=16,P-=16;this.h[0]=Ve,this.h[1]=We,this.h[2]=Re,this.h[3]=ie,this.h[4]=se,this.h[5]=ve,this.h[6]=de,this.h[7]=he,this.h[8]=Ee,this.h[9]=at},Ce.prototype.finish=function(y,T){var P=new Uint16Array(10),h,S,J,Z;if(this.leftover){for(Z=this.leftover,this.buffer[Z++]=1;Z<16;Z++)this.buffer[Z]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(h=this.h[1]>>>13,this.h[1]&=8191,Z=2;Z<10;Z++)this.h[Z]+=h,h=this.h[Z]>>>13,this.h[Z]&=8191;for(this.h[0]+=h*5,h=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=h,h=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=h,P[0]=this.h[0]+5,h=P[0]>>>13,P[0]&=8191,Z=1;Z<10;Z++)P[Z]=this.h[Z]+h,h=P[Z]>>>13,P[Z]&=8191;for(P[9]-=8192,S=(h^1)-1,Z=0;Z<10;Z++)P[Z]&=S;for(S=~S,Z=0;Z<10;Z++)this.h[Z]=this.h[Z]&S|P[Z];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,J=this.h[0]+this.pad[0],this.h[0]=J&65535,Z=1;Z<8;Z++)J=(this.h[Z]+this.pad[Z]|0)+(J>>>16)|0,this.h[Z]=J&65535;y[T+0]=this.h[0]>>>0&255,y[T+1]=this.h[0]>>>8&255,y[T+2]=this.h[1]>>>0&255,y[T+3]=this.h[1]>>>8&255,y[T+4]=this.h[2]>>>0&255,y[T+5]=this.h[2]>>>8&255,y[T+6]=this.h[3]>>>0&255,y[T+7]=this.h[3]>>>8&255,y[T+8]=this.h[4]>>>0&255,y[T+9]=this.h[4]>>>8&255,y[T+10]=this.h[5]>>>0&255,y[T+11]=this.h[5]>>>8&255,y[T+12]=this.h[6]>>>0&255,y[T+13]=this.h[6]>>>8&255,y[T+14]=this.h[7]>>>0&255,y[T+15]=this.h[7]>>>8&255},Ce.prototype.update=function(y,T,P){var h,S;if(this.leftover){for(S=16-this.leftover,S>P&&(S=P),h=0;h<S;h++)this.buffer[this.leftover+h]=y[T+h];if(P-=S,T+=S,this.leftover+=S,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(P>=16&&(S=P-P%16,this.blocks(y,T,S),T+=S,P-=S),P){for(h=0;h<P;h++)this.buffer[this.leftover+h]=y[T+h];this.leftover+=P}};function lt(y,T,P,h,S,J){var Z=new Ce(J);return Z.update(P,h,S),Z.finish(y,T),0}function ot(y,T,P,h,S,J){var Z=new Uint8Array(16);return lt(Z,0,P,h,S,J),I(y,T,Z,0)}function Mt(y,T,P,h,S){var J;if(P<32)return-1;for(Te(y,0,T,0,P,h,S),lt(y,16,y,32,P-32,y),J=0;J<16;J++)y[J]=0;return 0}function me(y,T,P,h,S){var J,Z=new Uint8Array(32);if(P<32||(ae(Z,0,32,h,S),ot(T,16,T,32,P-32,Z)!==0))return-1;for(Te(y,0,T,0,P,h,S),J=0;J<32;J++)y[J]=0;return 0}function xe(y,T){var P;for(P=0;P<16;P++)y[P]=T[P]|0}function He(y){var T,P,h=1;for(T=0;T<16;T++)P=y[T]+h+65535,h=Math.floor(P/65536),y[T]=P-h*65536;y[0]+=h-1+37*(h-1)}function tt(y,T,P){for(var h,S=~(P-1),J=0;J<16;J++)h=S&(y[J]^T[J]),y[J]^=h,T[J]^=h}function ze(y,T){var P,h,S,J=n(),Z=n();for(P=0;P<16;P++)Z[P]=T[P];for(He(Z),He(Z),He(Z),h=0;h<2;h++){for(J[0]=Z[0]-65517,P=1;P<15;P++)J[P]=Z[P]-65535-(J[P-1]>>16&1),J[P-1]&=65535;J[15]=Z[15]-32767-(J[14]>>16&1),S=J[15]>>16&1,J[14]&=65535,tt(Z,J,1-S)}for(P=0;P<16;P++)y[2*P]=Z[P]&255,y[2*P+1]=Z[P]>>8}function Ke(y,T){var P=new Uint8Array(32),h=new Uint8Array(32);return ze(P,y),ze(h,T),w(P,0,h,0)}function De(y){var T=new Uint8Array(32);return ze(T,y),T[0]&1}function Me(y,T){var P;for(P=0;P<16;P++)y[P]=T[2*P]+(T[2*P+1]<<8);y[15]&=32767}function dt(y,T,P){for(var h=0;h<16;h++)y[h]=T[h]+P[h]}function it(y,T,P){for(var h=0;h<16;h++)y[h]=T[h]-P[h]}function Se(y,T,P){var h,S,J=0,Z=0,ue=0,Pe=0,Qe=0,Ne=0,jt=0,Ue=0,ht=0,mt=0,At=0,wt=0,bt=0,yt=0,xt=0,Ge=0,Ze=0,Le=0,Ve=0,We=0,Re=0,ie=0,se=0,ve=0,de=0,he=0,Ee=0,at=0,_t=0,Ct=0,kt=0,M=P[0],Dt=P[1],qt=P[2],Zt=P[3],Ot=P[4],Qt=P[5],Jt=P[6],Nn=P[7],fn=P[8],Tn=P[9],In=P[10],Cn=P[11],Hn=P[12],ar=P[13],cr=P[14],fr=P[15];h=T[0],J+=h*M,Z+=h*Dt,ue+=h*qt,Pe+=h*Zt,Qe+=h*Ot,Ne+=h*Qt,jt+=h*Jt,Ue+=h*Nn,ht+=h*fn,mt+=h*Tn,At+=h*In,wt+=h*Cn,bt+=h*Hn,yt+=h*ar,xt+=h*cr,Ge+=h*fr,h=T[1],Z+=h*M,ue+=h*Dt,Pe+=h*qt,Qe+=h*Zt,Ne+=h*Ot,jt+=h*Qt,Ue+=h*Jt,ht+=h*Nn,mt+=h*fn,At+=h*Tn,wt+=h*In,bt+=h*Cn,yt+=h*Hn,xt+=h*ar,Ge+=h*cr,Ze+=h*fr,h=T[2],ue+=h*M,Pe+=h*Dt,Qe+=h*qt,Ne+=h*Zt,jt+=h*Ot,Ue+=h*Qt,ht+=h*Jt,mt+=h*Nn,At+=h*fn,wt+=h*Tn,bt+=h*In,yt+=h*Cn,xt+=h*Hn,Ge+=h*ar,Ze+=h*cr,Le+=h*fr,h=T[3],Pe+=h*M,Qe+=h*Dt,Ne+=h*qt,jt+=h*Zt,Ue+=h*Ot,ht+=h*Qt,mt+=h*Jt,At+=h*Nn,wt+=h*fn,bt+=h*Tn,yt+=h*In,xt+=h*Cn,Ge+=h*Hn,Ze+=h*ar,Le+=h*cr,Ve+=h*fr,h=T[4],Qe+=h*M,Ne+=h*Dt,jt+=h*qt,Ue+=h*Zt,ht+=h*Ot,mt+=h*Qt,At+=h*Jt,wt+=h*Nn,bt+=h*fn,yt+=h*Tn,xt+=h*In,Ge+=h*Cn,Ze+=h*Hn,Le+=h*ar,Ve+=h*cr,We+=h*fr,h=T[5],Ne+=h*M,jt+=h*Dt,Ue+=h*qt,ht+=h*Zt,mt+=h*Ot,At+=h*Qt,wt+=h*Jt,bt+=h*Nn,yt+=h*fn,xt+=h*Tn,Ge+=h*In,Ze+=h*Cn,Le+=h*Hn,Ve+=h*ar,We+=h*cr,Re+=h*fr,h=T[6],jt+=h*M,Ue+=h*Dt,ht+=h*qt,mt+=h*Zt,At+=h*Ot,wt+=h*Qt,bt+=h*Jt,yt+=h*Nn,xt+=h*fn,Ge+=h*Tn,Ze+=h*In,Le+=h*Cn,Ve+=h*Hn,We+=h*ar,Re+=h*cr,ie+=h*fr,h=T[7],Ue+=h*M,ht+=h*Dt,mt+=h*qt,At+=h*Zt,wt+=h*Ot,bt+=h*Qt,yt+=h*Jt,xt+=h*Nn,Ge+=h*fn,Ze+=h*Tn,Le+=h*In,Ve+=h*Cn,We+=h*Hn,Re+=h*ar,ie+=h*cr,se+=h*fr,h=T[8],ht+=h*M,mt+=h*Dt,At+=h*qt,wt+=h*Zt,bt+=h*Ot,yt+=h*Qt,xt+=h*Jt,Ge+=h*Nn,Ze+=h*fn,Le+=h*Tn,Ve+=h*In,We+=h*Cn,Re+=h*Hn,ie+=h*ar,se+=h*cr,ve+=h*fr,h=T[9],mt+=h*M,At+=h*Dt,wt+=h*qt,bt+=h*Zt,yt+=h*Ot,xt+=h*Qt,Ge+=h*Jt,Ze+=h*Nn,Le+=h*fn,Ve+=h*Tn,We+=h*In,Re+=h*Cn,ie+=h*Hn,se+=h*ar,ve+=h*cr,de+=h*fr,h=T[10],At+=h*M,wt+=h*Dt,bt+=h*qt,yt+=h*Zt,xt+=h*Ot,Ge+=h*Qt,Ze+=h*Jt,Le+=h*Nn,Ve+=h*fn,We+=h*Tn,Re+=h*In,ie+=h*Cn,se+=h*Hn,ve+=h*ar,de+=h*cr,he+=h*fr,h=T[11],wt+=h*M,bt+=h*Dt,yt+=h*qt,xt+=h*Zt,Ge+=h*Ot,Ze+=h*Qt,Le+=h*Jt,Ve+=h*Nn,We+=h*fn,Re+=h*Tn,ie+=h*In,se+=h*Cn,ve+=h*Hn,de+=h*ar,he+=h*cr,Ee+=h*fr,h=T[12],bt+=h*M,yt+=h*Dt,xt+=h*qt,Ge+=h*Zt,Ze+=h*Ot,Le+=h*Qt,Ve+=h*Jt,We+=h*Nn,Re+=h*fn,ie+=h*Tn,se+=h*In,ve+=h*Cn,de+=h*Hn,he+=h*ar,Ee+=h*cr,at+=h*fr,h=T[13],yt+=h*M,xt+=h*Dt,Ge+=h*qt,Ze+=h*Zt,Le+=h*Ot,Ve+=h*Qt,We+=h*Jt,Re+=h*Nn,ie+=h*fn,se+=h*Tn,ve+=h*In,de+=h*Cn,he+=h*Hn,Ee+=h*ar,at+=h*cr,_t+=h*fr,h=T[14],xt+=h*M,Ge+=h*Dt,Ze+=h*qt,Le+=h*Zt,Ve+=h*Ot,We+=h*Qt,Re+=h*Jt,ie+=h*Nn,se+=h*fn,ve+=h*Tn,de+=h*In,he+=h*Cn,Ee+=h*Hn,at+=h*ar,_t+=h*cr,Ct+=h*fr,h=T[15],Ge+=h*M,Ze+=h*Dt,Le+=h*qt,Ve+=h*Zt,We+=h*Ot,Re+=h*Qt,ie+=h*Jt,se+=h*Nn,ve+=h*fn,de+=h*Tn,he+=h*In,Ee+=h*Cn,at+=h*Hn,_t+=h*ar,Ct+=h*cr,kt+=h*fr,J+=38*Ze,Z+=38*Le,ue+=38*Ve,Pe+=38*We,Qe+=38*Re,Ne+=38*ie,jt+=38*se,Ue+=38*ve,ht+=38*de,mt+=38*he,At+=38*Ee,wt+=38*at,bt+=38*_t,yt+=38*Ct,xt+=38*kt,S=1,h=J+S+65535,S=Math.floor(h/65536),J=h-S*65536,h=Z+S+65535,S=Math.floor(h/65536),Z=h-S*65536,h=ue+S+65535,S=Math.floor(h/65536),ue=h-S*65536,h=Pe+S+65535,S=Math.floor(h/65536),Pe=h-S*65536,h=Qe+S+65535,S=Math.floor(h/65536),Qe=h-S*65536,h=Ne+S+65535,S=Math.floor(h/65536),Ne=h-S*65536,h=jt+S+65535,S=Math.floor(h/65536),jt=h-S*65536,h=Ue+S+65535,S=Math.floor(h/65536),Ue=h-S*65536,h=ht+S+65535,S=Math.floor(h/65536),ht=h-S*65536,h=mt+S+65535,S=Math.floor(h/65536),mt=h-S*65536,h=At+S+65535,S=Math.floor(h/65536),At=h-S*65536,h=wt+S+65535,S=Math.floor(h/65536),wt=h-S*65536,h=bt+S+65535,S=Math.floor(h/65536),bt=h-S*65536,h=yt+S+65535,S=Math.floor(h/65536),yt=h-S*65536,h=xt+S+65535,S=Math.floor(h/65536),xt=h-S*65536,h=Ge+S+65535,S=Math.floor(h/65536),Ge=h-S*65536,J+=S-1+37*(S-1),S=1,h=J+S+65535,S=Math.floor(h/65536),J=h-S*65536,h=Z+S+65535,S=Math.floor(h/65536),Z=h-S*65536,h=ue+S+65535,S=Math.floor(h/65536),ue=h-S*65536,h=Pe+S+65535,S=Math.floor(h/65536),Pe=h-S*65536,h=Qe+S+65535,S=Math.floor(h/65536),Qe=h-S*65536,h=Ne+S+65535,S=Math.floor(h/65536),Ne=h-S*65536,h=jt+S+65535,S=Math.floor(h/65536),jt=h-S*65536,h=Ue+S+65535,S=Math.floor(h/65536),Ue=h-S*65536,h=ht+S+65535,S=Math.floor(h/65536),ht=h-S*65536,h=mt+S+65535,S=Math.floor(h/65536),mt=h-S*65536,h=At+S+65535,S=Math.floor(h/65536),At=h-S*65536,h=wt+S+65535,S=Math.floor(h/65536),wt=h-S*65536,h=bt+S+65535,S=Math.floor(h/65536),bt=h-S*65536,h=yt+S+65535,S=Math.floor(h/65536),yt=h-S*65536,h=xt+S+65535,S=Math.floor(h/65536),xt=h-S*65536,h=Ge+S+65535,S=Math.floor(h/65536),Ge=h-S*65536,J+=S-1+37*(S-1),y[0]=J,y[1]=Z,y[2]=ue,y[3]=Pe,y[4]=Qe,y[5]=Ne,y[6]=jt,y[7]=Ue,y[8]=ht,y[9]=mt,y[10]=At,y[11]=wt,y[12]=bt,y[13]=yt,y[14]=xt,y[15]=Ge}function V(y,T){Se(y,T,T)}function O(y,T){var P=n(),h;for(h=0;h<16;h++)P[h]=T[h];for(h=253;h>=0;h--)V(P,P),h!==2&&h!==4&&Se(P,P,T);for(h=0;h<16;h++)y[h]=P[h]}function j(y,T){var P=n(),h;for(h=0;h<16;h++)P[h]=T[h];for(h=250;h>=0;h--)V(P,P),h!==1&&Se(P,P,T);for(h=0;h<16;h++)y[h]=P[h]}function te(y,T,P){var h=new Uint8Array(32),S=new Float64Array(80),J,Z,ue=n(),Pe=n(),Qe=n(),Ne=n(),jt=n(),Ue=n();for(Z=0;Z<31;Z++)h[Z]=T[Z];for(h[31]=T[31]&127|64,h[0]&=248,Me(S,P),Z=0;Z<16;Z++)Pe[Z]=S[Z],Ne[Z]=ue[Z]=Qe[Z]=0;for(ue[0]=Ne[0]=1,Z=254;Z>=0;--Z)J=h[Z>>>3]>>>(Z&7)&1,tt(ue,Pe,J),tt(Qe,Ne,J),dt(jt,ue,Qe),it(ue,ue,Qe),dt(Qe,Pe,Ne),it(Pe,Pe,Ne),V(Ne,jt),V(Ue,ue),Se(ue,Qe,ue),Se(Qe,Pe,jt),dt(jt,ue,Qe),it(ue,ue,Qe),V(Pe,ue),it(Qe,Ne,Ue),Se(ue,Qe,c),dt(ue,ue,Ne),Se(Qe,Qe,ue),Se(ue,Ne,Ue),Se(Ne,Pe,S),V(Pe,jt),tt(ue,Pe,J),tt(Qe,Ne,J);for(Z=0;Z<16;Z++)S[Z+16]=ue[Z],S[Z+32]=Qe[Z],S[Z+48]=Pe[Z],S[Z+64]=Ne[Z];var ht=S.subarray(32),mt=S.subarray(16);return O(ht,ht),Se(mt,mt,ht),ze(y,mt),0}function oe(y,T){return te(y,T,s)}function C(y,T){return r(T,32),oe(y,T)}function k(y,T,P){var h=new Uint8Array(32);return te(h,P,T),H(y,i,h,z)}var x=Mt,_=me;function G(y,T,P,h,S,J){var Z=new Uint8Array(32);return k(Z,S,J),x(y,T,P,h,Z)}function Y(y,T,P,h,S,J){var Z=new Uint8Array(32);return k(Z,S,J),_(y,T,P,h,Z)}var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ne(y,T,P,h){for(var S=new Int32Array(16),J=new Int32Array(16),Z,ue,Pe,Qe,Ne,jt,Ue,ht,mt,At,wt,bt,yt,xt,Ge,Ze,Le,Ve,We,Re,ie,se,ve,de,he,Ee,at=y[0],_t=y[1],Ct=y[2],kt=y[3],M=y[4],Dt=y[5],qt=y[6],Zt=y[7],Ot=T[0],Qt=T[1],Jt=T[2],Nn=T[3],fn=T[4],Tn=T[5],In=T[6],Cn=T[7],Hn=0;h>=128;){for(We=0;We<16;We++)Re=8*We+Hn,S[We]=P[Re+0]<<24|P[Re+1]<<16|P[Re+2]<<8|P[Re+3],J[We]=P[Re+4]<<24|P[Re+5]<<16|P[Re+6]<<8|P[Re+7];for(We=0;We<80;We++)if(Z=at,ue=_t,Pe=Ct,Qe=kt,Ne=M,jt=Dt,Ue=qt,ht=Zt,mt=Ot,At=Qt,wt=Jt,bt=Nn,yt=fn,xt=Tn,Ge=In,Ze=Cn,ie=Zt,se=Cn,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=(M>>>14|fn<<18)^(M>>>18|fn<<14)^(fn>>>9|M<<23),se=(fn>>>14|M<<18)^(fn>>>18|M<<14)^(M>>>9|fn<<23),ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,ie=M&Dt^~M&qt,se=fn&Tn^~fn&In,ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,ie=K[We*2],se=K[We*2+1],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,ie=S[We%16],se=J[We%16],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,Le=he&65535|Ee<<16,Ve=ve&65535|de<<16,ie=Le,se=Ve,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=(at>>>28|Ot<<4)^(Ot>>>2|at<<30)^(Ot>>>7|at<<25),se=(Ot>>>28|at<<4)^(at>>>2|Ot<<30)^(at>>>7|Ot<<25),ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,ie=at&_t^at&Ct^_t&Ct,se=Ot&Qt^Ot&Jt^Qt&Jt,ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,ht=he&65535|Ee<<16,Ze=ve&65535|de<<16,ie=Qe,se=bt,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=Le,se=Ve,ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,Qe=he&65535|Ee<<16,bt=ve&65535|de<<16,_t=Z,Ct=ue,kt=Pe,M=Qe,Dt=Ne,qt=jt,Zt=Ue,at=ht,Qt=mt,Jt=At,Nn=wt,fn=bt,Tn=yt,In=xt,Cn=Ge,Ot=Ze,We%16===15)for(Re=0;Re<16;Re++)ie=S[Re],se=J[Re],ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=S[(Re+9)%16],se=J[(Re+9)%16],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,Le=S[(Re+1)%16],Ve=J[(Re+1)%16],ie=(Le>>>1|Ve<<31)^(Le>>>8|Ve<<24)^Le>>>7,se=(Ve>>>1|Le<<31)^(Ve>>>8|Le<<24)^(Ve>>>7|Le<<25),ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,Le=S[(Re+14)%16],Ve=J[(Re+14)%16],ie=(Le>>>19|Ve<<13)^(Ve>>>29|Le<<3)^Le>>>6,se=(Ve>>>19|Le<<13)^(Le>>>29|Ve<<3)^(Ve>>>6|Le<<26),ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,S[Re]=he&65535|Ee<<16,J[Re]=ve&65535|de<<16;ie=at,se=Ot,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[0],se=T[0],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[0]=at=he&65535|Ee<<16,T[0]=Ot=ve&65535|de<<16,ie=_t,se=Qt,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[1],se=T[1],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[1]=_t=he&65535|Ee<<16,T[1]=Qt=ve&65535|de<<16,ie=Ct,se=Jt,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[2],se=T[2],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[2]=Ct=he&65535|Ee<<16,T[2]=Jt=ve&65535|de<<16,ie=kt,se=Nn,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[3],se=T[3],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[3]=kt=he&65535|Ee<<16,T[3]=Nn=ve&65535|de<<16,ie=M,se=fn,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[4],se=T[4],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[4]=M=he&65535|Ee<<16,T[4]=fn=ve&65535|de<<16,ie=Dt,se=Tn,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[5],se=T[5],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[5]=Dt=he&65535|Ee<<16,T[5]=Tn=ve&65535|de<<16,ie=qt,se=In,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[6],se=T[6],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[6]=qt=he&65535|Ee<<16,T[6]=In=ve&65535|de<<16,ie=Zt,se=Cn,ve=se&65535,de=se>>>16,he=ie&65535,Ee=ie>>>16,ie=y[7],se=T[7],ve+=se&65535,de+=se>>>16,he+=ie&65535,Ee+=ie>>>16,de+=ve>>>16,he+=de>>>16,Ee+=he>>>16,y[7]=Zt=he&65535|Ee<<16,T[7]=Cn=ve&65535|de<<16,Hn+=128,h-=128}return h}function we(y,T,P){var h=new Int32Array(8),S=new Int32Array(8),J=new Uint8Array(256),Z,ue=P;for(h[0]=1779033703,h[1]=3144134277,h[2]=1013904242,h[3]=2773480762,h[4]=1359893119,h[5]=2600822924,h[6]=528734635,h[7]=1541459225,S[0]=4089235720,S[1]=2227873595,S[2]=4271175723,S[3]=1595750129,S[4]=2917565137,S[5]=725511199,S[6]=4215389547,S[7]=327033209,ne(h,S,T,P),P%=128,Z=0;Z<P;Z++)J[Z]=T[ue-P+Z];for(J[P]=128,P=256-128*(P<112?1:0),J[P-9]=0,A(J,P-8,ue/536870912|0,ue<<3),ne(h,S,J,P),Z=0;Z<8;Z++)A(y,8*Z,h[Z],S[Z]);return 0}function ye(y,T){var P=n(),h=n(),S=n(),J=n(),Z=n(),ue=n(),Pe=n(),Qe=n(),Ne=n();it(P,y[1],y[0]),it(Ne,T[1],T[0]),Se(P,P,Ne),dt(h,y[0],y[1]),dt(Ne,T[0],T[1]),Se(h,h,Ne),Se(S,y[3],T[3]),Se(S,S,l),Se(J,y[2],T[2]),dt(J,J,J),it(Z,h,P),it(ue,J,S),dt(Pe,J,S),dt(Qe,h,P),Se(y[0],Z,ue),Se(y[1],Qe,Pe),Se(y[2],Pe,ue),Se(y[3],Z,Qe)}function _e(y,T,P){var h;for(h=0;h<4;h++)tt(y[h],T[h],P)}function le(y,T){var P=n(),h=n(),S=n();O(S,T[2]),Se(P,T[0],S),Se(h,T[1],S),ze(y,h),y[31]^=De(P)<<7}function Ie(y,T,P){var h,S;for(xe(y[0],o),xe(y[1],a),xe(y[2],a),xe(y[3],o),S=255;S>=0;--S)h=P[S/8|0]>>(S&7)&1,_e(y,T,h),ye(T,y),ye(y,y),_e(y,T,h)}function Fe(y,T){var P=[n(),n(),n(),n()];xe(P[0],u),xe(P[1],p),xe(P[2],a),Se(P[3],u,p),Ie(y,P,T)}function Oe(y,T,P){var h=new Uint8Array(64),S=[n(),n(),n(),n()],J;for(P||r(T,32),we(h,T,32),h[0]&=248,h[31]&=127,h[31]|=64,Fe(S,h),le(y,S),J=0;J<32;J++)T[J+32]=y[J];return 0}var Xe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function v(y,T){var P,h,S,J;for(h=63;h>=32;--h){for(P=0,S=h-32,J=h-12;S<J;++S)T[S]+=P-16*T[h]*Xe[S-(h-32)],P=Math.floor((T[S]+128)/256),T[S]-=P*256;T[S]+=P,T[h]=0}for(P=0,S=0;S<32;S++)T[S]+=P-(T[31]>>4)*Xe[S],P=T[S]>>8,T[S]&=255;for(S=0;S<32;S++)T[S]-=P*Xe[S];for(h=0;h<32;h++)T[h+1]+=T[h]>>8,y[h]=T[h]&255}function b(y){var T=new Float64Array(64),P;for(P=0;P<64;P++)T[P]=y[P];for(P=0;P<64;P++)y[P]=0;v(y,T)}function g(y,T,P,h){var S=new Uint8Array(64),J=new Uint8Array(64),Z=new Uint8Array(64),ue,Pe,Qe=new Float64Array(64),Ne=[n(),n(),n(),n()];we(S,h,32),S[0]&=248,S[31]&=127,S[31]|=64;var jt=P+64;for(ue=0;ue<P;ue++)y[64+ue]=T[ue];for(ue=0;ue<32;ue++)y[32+ue]=S[32+ue];for(we(Z,y.subarray(32),P+32),b(Z),Fe(Ne,Z),le(y,Ne),ue=32;ue<64;ue++)y[ue]=h[ue];for(we(J,y,P+64),b(J),ue=0;ue<64;ue++)Qe[ue]=0;for(ue=0;ue<32;ue++)Qe[ue]=Z[ue];for(ue=0;ue<32;ue++)for(Pe=0;Pe<32;Pe++)Qe[ue+Pe]+=J[ue]*S[Pe];return v(y.subarray(32),Qe),jt}function B(y,T){var P=n(),h=n(),S=n(),J=n(),Z=n(),ue=n(),Pe=n();return xe(y[2],a),Me(y[1],T),V(S,y[1]),Se(J,S,f),it(S,S,y[2]),dt(J,y[2],J),V(Z,J),V(ue,Z),Se(Pe,ue,Z),Se(P,Pe,S),Se(P,P,J),j(P,P),Se(P,P,S),Se(P,P,J),Se(P,P,J),Se(y[0],P,J),V(h,y[0]),Se(h,h,J),Ke(h,S)&&Se(y[0],y[0],m),V(h,y[0]),Se(h,h,J),Ke(h,S)?-1:(De(y[0])===T[31]>>7&&it(y[0],o,y[0]),Se(y[3],y[0],y[1]),0)}function D(y,T,P,h){var S,J=new Uint8Array(32),Z=new Uint8Array(64),ue=[n(),n(),n(),n()],Pe=[n(),n(),n(),n()];if(P<64||B(Pe,h))return-1;for(S=0;S<P;S++)y[S]=T[S];for(S=0;S<32;S++)y[S+32]=h[S];if(we(Z,y,P),b(Z),Ie(ue,Pe,Z),Fe(Pe,T.subarray(32)),ye(ue,Pe),le(J,ue),P-=64,w(T,0,J,0)){for(S=0;S<P;S++)y[S]=0;return-1}for(S=0;S<P;S++)y[S]=T[S+64];return P}var X=32,fe=24,st=32,$t=16,gt=32,Nt=32,Ut=32,A0=32,Wf=32,Ml=fe,Ul=st,Dl=$t,bi=64,us=32,_0=64,Ga=32,Qf=64;e.lowlevel={crypto_core_hsalsa20:H,crypto_stream_xor:Te,crypto_stream:ae,crypto_stream_salsa20_xor:ce,crypto_stream_salsa20:ee,crypto_onetimeauth:lt,crypto_onetimeauth_verify:ot,crypto_verify_16:I,crypto_verify_32:w,crypto_secretbox:Mt,crypto_secretbox_open:me,crypto_scalarmult:te,crypto_scalarmult_base:oe,crypto_box_beforenm:k,crypto_box_afternm:x,crypto_box:G,crypto_box_open:Y,crypto_box_keypair:C,crypto_hash:we,crypto_sign:g,crypto_sign_keypair:Oe,crypto_sign_open:D,crypto_secretbox_KEYBYTES:X,crypto_secretbox_NONCEBYTES:fe,crypto_secretbox_ZEROBYTES:st,crypto_secretbox_BOXZEROBYTES:$t,crypto_scalarmult_BYTES:gt,crypto_scalarmult_SCALARBYTES:Nt,crypto_box_PUBLICKEYBYTES:Ut,crypto_box_SECRETKEYBYTES:A0,crypto_box_BEFORENMBYTES:Wf,crypto_box_NONCEBYTES:Ml,crypto_box_ZEROBYTES:Ul,crypto_box_BOXZEROBYTES:Dl,crypto_sign_BYTES:bi,crypto_sign_PUBLICKEYBYTES:us,crypto_sign_SECRETKEYBYTES:_0,crypto_sign_SEEDBYTES:Ga,crypto_hash_BYTES:Qf,gf:n,D:f,L:Xe,pack25519:ze,unpack25519:Me,M:Se,A:dt,S:V,Z:it,pow2523:j,add:ye,set25519:xe,modL:v,scalarmult:Ie,scalarbase:Fe};function Hl(y,T){if(y.length!==X)throw new Error("bad key size");if(T.length!==fe)throw new Error("bad nonce size")}function Gl(y,T){if(y.length!==Ut)throw new Error("bad public key size");if(T.length!==A0)throw new Error("bad secret key size")}function _r(){for(var y=0;y<arguments.length;y++)if(!(arguments[y]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Jf(y){for(var T=0;T<y.length;T++)y[T]=0}e.randomBytes=function(y){var T=new Uint8Array(y);return r(T,y),T},e.secretbox=function(y,T,P){_r(y,T,P),Hl(P,T);for(var h=new Uint8Array(st+y.length),S=new Uint8Array(h.length),J=0;J<y.length;J++)h[J+st]=y[J];return Mt(S,h,h.length,T,P),S.subarray($t)},e.secretbox.open=function(y,T,P){_r(y,T,P),Hl(P,T);for(var h=new Uint8Array($t+y.length),S=new Uint8Array(h.length),J=0;J<y.length;J++)h[J+$t]=y[J];return h.length<32||me(S,h,h.length,T,P)!==0?null:S.subarray(st)},e.secretbox.keyLength=X,e.secretbox.nonceLength=fe,e.secretbox.overheadLength=$t,e.scalarMult=function(y,T){if(_r(y,T),y.length!==Nt)throw new Error("bad n size");if(T.length!==gt)throw new Error("bad p size");var P=new Uint8Array(gt);return te(P,y,T),P},e.scalarMult.base=function(y){if(_r(y),y.length!==Nt)throw new Error("bad n size");var T=new Uint8Array(gt);return oe(T,y),T},e.scalarMult.scalarLength=Nt,e.scalarMult.groupElementLength=gt,e.box=function(y,T,P,h){var S=e.box.before(P,h);return e.secretbox(y,T,S)},e.box.before=function(y,T){_r(y,T),Gl(y,T);var P=new Uint8Array(Wf);return k(P,y,T),P},e.box.after=e.secretbox,e.box.open=function(y,T,P,h){var S=e.box.before(P,h);return e.secretbox.open(y,T,S)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var y=new Uint8Array(Ut),T=new Uint8Array(A0);return C(y,T),{publicKey:y,secretKey:T}},e.box.keyPair.fromSecretKey=function(y){if(_r(y),y.length!==A0)throw new Error("bad secret key size");var T=new Uint8Array(Ut);return oe(T,y),{publicKey:T,secretKey:new Uint8Array(y)}},e.box.publicKeyLength=Ut,e.box.secretKeyLength=A0,e.box.sharedKeyLength=Wf,e.box.nonceLength=Ml,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(y,T){if(_r(y,T),T.length!==_0)throw new Error("bad secret key size");var P=new Uint8Array(bi+y.length);return g(P,y,y.length,T),P},e.sign.open=function(y,T){if(_r(y,T),T.length!==us)throw new Error("bad public key size");var P=new Uint8Array(y.length),h=D(P,y,y.length,T);if(h<0)return null;for(var S=new Uint8Array(h),J=0;J<S.length;J++)S[J]=P[J];return S},e.sign.detached=function(y,T){for(var P=e.sign(y,T),h=new Uint8Array(bi),S=0;S<h.length;S++)h[S]=P[S];return h},e.sign.detached.verify=function(y,T,P){if(_r(y,T,P),T.length!==bi)throw new Error("bad signature size");if(P.length!==us)throw new Error("bad public key size");var h=new Uint8Array(bi+y.length),S=new Uint8Array(bi+y.length),J;for(J=0;J<bi;J++)h[J]=T[J];for(J=0;J<y.length;J++)h[J+bi]=y[J];return D(S,h,h.length,P)>=0},e.sign.keyPair=function(){var y=new Uint8Array(us),T=new Uint8Array(_0);return Oe(y,T),{publicKey:y,secretKey:T}},e.sign.keyPair.fromSecretKey=function(y){if(_r(y),y.length!==_0)throw new Error("bad secret key size");for(var T=new Uint8Array(us),P=0;P<T.length;P++)T[P]=y[32+P];return{publicKey:T,secretKey:new Uint8Array(y)}},e.sign.keyPair.fromSeed=function(y){if(_r(y),y.length!==Ga)throw new Error("bad seed size");for(var T=new Uint8Array(us),P=new Uint8Array(_0),h=0;h<32;h++)P[h]=y[h];return Oe(T,P,!0),{publicKey:T,secretKey:P}},e.sign.publicKeyLength=us,e.sign.secretKeyLength=_0,e.sign.seedLength=Ga,e.sign.signatureLength=bi,e.hash=function(y){_r(y);var T=new Uint8Array(Qf);return we(T,y,y.length),T},e.hash.hashLength=Qf,e.verify=function(y,T){return _r(y,T),y.length===0||T.length===0||y.length!==T.length?!1:E(y,0,T,0,y.length)===0},e.setPRNG=function(y){r=y},function(){var y=typeof self<"u"?self.crypto||self.msCrypto:null;if(y&&y.getRandomValues){var T=65536;e.setPRNG(function(P,h){var S,J=new Uint8Array(h);for(S=0;S<h;S+=T)y.getRandomValues(J.subarray(S,S+Math.min(h-S,T)));for(S=0;S<h;S++)P[S]=J[S];Jf(J)})}else typeof zI<"u"&&(y=ub,y&&y.randomBytes&&e.setPRNG(function(P,h){var S,J=y.randomBytes(h);for(S=0;S<h;S++)P[S]=J[S];Jf(J)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(E9);var WI=E9.exports;const fu=Il(WI);var ts=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{f(r.next(l))}catch(u){o(u)}}function c(l){try{f(r.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((r=r.apply(t,e||[])).next())})},Bf;(function(t){t[t.Plain=0]="Plain",t[t.X25519DeoxysII=1]="X25519DeoxysII",t[t.Mock=Number.MAX_SAFE_INTEGER]="Mock"})(Bf||(Bf={}));class A9{encryptEncode(e){return ts(this,void 0,void 0,function*(){const n=yield this.encryptEnvelope(e);return n?$e(Xa(n)):""})}encryptEnvelope(e){return ts(this,void 0,void 0,function*(){if(e===void 0)return;if(!ad(e))throw new Error("Attempted to sign tx having non-byteslike data.");if(e.length===0)return;const{data:n,nonce:r}=yield this.encryptCallData(nt(e)),i=this.publicKey,s=this.epoch,o=i.length&&r.length?{pk:i,nonce:r,data:n,epoch:s}:n;return this.kind===Bf.Plain?{body:o}:{format:this.kind,body:o}})}encryptCallData(e){return ts(this,void 0,void 0,function*(){const n=Xa({body:e}),{ciphertext:r,nonce:i}=yield this.encrypt(n);return{data:r,nonce:i}})}decryptCallData(e,n){return ts(this,void 0,void 0,function*(){return wu(yield this.decrypt(e,n)).body})}encryptCallResult(e,n=!1){return ts(this,void 0,void 0,function*(){if(e.fail)return Xa(e);const r=Xa(e),{ciphertext:i,nonce:s}=yield this.encrypt(r);return Xa({[n?"unknown":"ok"]:{nonce:s,data:i}})})}decryptEncoded(e){return ts(this,void 0,void 0,function*(){return $e(yield this.decryptCallResult(wu(nt(e))))})}decryptCallResult(e){var n;return ts(this,void 0,void 0,function*(){function r(a){return a.message?a.message:`Call failed in module '${a.module}' with code '${a.code}'`}if(e.fail)throw new v1(r(e.fail),e.fail);if(e.ok&&(typeof e.ok=="string"||e.ok instanceof Uint8Array))return nt(e.ok);const{nonce:i,data:s}=(n=e.ok)!==null&&n!==void 0?n:e.unknown,o=wu(yield this.decrypt(i,s));if(o.ok)return nt(o.ok);throw o.fail?new v1(r(o.fail),o.fail):new v1(`Unexpected inner call result: ${JSON.stringify(o)}`,o)})}}class xd extends A9{static ephemeral(e,n){const r=fu.box.keyPair();return new xd(r,nt(e),n)}static fromSecretKey(e,n,r){const i=fu.box.keyPair.fromSecretKey(nt(e));return new xd(i,nt(n),r)}constructor(e,n,r){super(),this.kind=Bf.X25519DeoxysII,this.publicKey=e.publicKey,this.epoch=r;const i=z2.create(XA,new TextEncoder().encode("MRAE_Box_Deoxys-II-256-128")).update(fu.scalarMult(e.secretKey,n)).digest().buffer;this.key=new Uint8Array(i),this.cipher=new s3.AEAD(new Uint8Array(this.key))}encrypt(e){return ts(this,void 0,void 0,function*(){const n=fu.randomBytes(s3.NonceSize),r=this.cipher.encrypt(n,e);return{nonce:n,ciphertext:r}})}decrypt(e,n){return ts(this,void 0,void 0,function*(){return this.cipher.decrypt(e,n)})}}class wd extends A9{constructor(){super(...arguments),this.kind=Bf.Mock,this.publicKey=new Uint8Array([1,2,3]),this.epoch=void 0}encrypt(e){return ts(this,void 0,void 0,function*(){return{nonce:wd.NONCE,ciphertext:e}})}decrypt(e,n){return ts(this,void 0,void 0,function*(){if($e(e)!==$e(wd.NONCE))throw new Error("incorrect nonce");return n})}}wd.NONCE=new Uint8Array([10,20,30,40]);var vd=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{f(r.next(l))}catch(u){o(u)}}function c(l){try{f(r.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((r=r.apply(t,e||[])).next())})},o3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Bu,L5;const QI=1,JI=3e7,YI=0,qI=20,ZI=4e3,XI="0x",eC=()=>`0x${"0".repeat(40)}`;class tC{constructor(){this.cachedSignatures=new Map,this.cachedLeashes=new Map}clear(){this.cachedSignatures.clear(),this.cachedLeashes.clear()}cache(e,n,r,i,s){this.cachedSignatures.has(e)||this.cachedSignatures.set(e,new Map),this.cachedSignatures.get(e).set(i,s),this.cachedLeashes.set(n,{nonce:r.leash.nonce,block_number:r.leash.blockNumber,block_hash:r.leash.blockHash,block_range:r.leash.blockRange})}get(e,n){var r;return(r=this.cachedSignatures.get(e))===null||r===void 0?void 0:r.get(n)}getLeash(e){return this.cachedLeashes.get(e)}}const w1=new tC;function nC(t){return{domain:{name:"oasis-runtime-sdk/evm: signed query",version:"1.0.0",chainId:t},types:{Call:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"gasLimit",type:"uint64"},{name:"gasPrice",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"leash",type:"Leash"}],Leash:[{name:"nonce",type:"uint64"},{name:"blockNumber",type:"uint64"},{name:"blockHash",type:"bytes32"},{name:"blockRange",type:"uint64"}]}}}class v6{static make(e,n,r){return vd(this,void 0,void 0,function*(){const i=yield iC(n,r==null?void 0:r.leash);return new v6(i,yield oC(sC(e,i),n,{chainId:r==null?void 0:r.chainId}),e.data?_9(e.data):void 0)})}constructor(e,n,r){this.leash=e,this.signature=n,this.data=r,Bu.add(this)}encode(){return o3(this,Bu,"m",L5).call(this,this.data?{body:this.data}:void 0)}encryptEncode(e){return vd(this,void 0,void 0,function*(){return this.data?o3(this,Bu,"m",L5).call(this,yield e.encryptEnvelope(this.data)):this.encode()})}}Bu=new WeakSet,L5=function(e){return $e(Xa({data:e||void 0,leash:this.leash,signature:this.signature}))};function _9(t){return Array.isArray(t)?new Uint8Array(t):rr(t)}function rC(t){return Array.isArray(t)?$e(new Uint8Array(t)):$e(t)}function iC(t,e){var n;return vd(this,void 0,void 0,function*(){((e==null?void 0:e.nonce)!==void 0||(e==null?void 0:e.block)!==void 0)&&w1.clear();let r;if(e!=null&&e.nonce)r=e.nonce;else if("getNonce"in t)r=t.getNonce("pending");else{const c=yield t.getAddress();r=t.provider.getTransactionCount(c,"pending")}let i;if((e==null?void 0:e.block)!==void 0)i=e.block;else{if(!t.provider)throw new Error("`sapphire.wrap`ped signer was not connected to a provider");const c=yield t.provider.getBlock("latest");if(!c)throw new Error("unable to get latest block");i=t.provider.getBlock(c.number-2)}const[s,o]=yield Promise.all([r,i]),a=(n=e==null?void 0:e.blockRange)!==null&&n!==void 0?n:ZI;if((e==null?void 0:e.nonce)===void 0&&(e==null?void 0:e.block)===void 0){if(!t.provider)throw new Error("`sapphire.wrap`ped signer was not connected to a provider");const{chainId:c}=yield t.provider.getNetwork(),f=w1.getLeash(BigInt(c));if(f!==void 0){if(f.nonce>s&&f.block_number+a>o.number+2)return f;w1.clear()}}return{nonce:e!=null&&e.nonce?e.nonce:s+qI,block_number:o.number,block_hash:rr(o.hash),block_range:a}})}function sC(t,e){var n,r,i,s,o;return{from:t.from,to:(n=t.to)!==null&&n!==void 0?n:eC(),gasLimit:Number(BigInt((i=(r=t.gasLimit)!==null&&r!==void 0?r:t.gasLimit)!==null&&i!==void 0?i:JI)),gasPrice:BigInt((s=t.gasPrice)!==null&&s!==void 0?s:QI),value:BigInt((o=t.value)!==null&&o!==void 0?o:YI),data:t.data?rC(t.data):XI,leash:{nonce:e.nonce,blockNumber:e.block_number,blockHash:e.block_hash,blockRange:e.block_range}}}function oC(t,e,n){return vd(this,void 0,void 0,function*(){const r=yield e.getAddress();let i;if(n!=null&&n.chainId)i=BigInt(n.chainId);else if(e.provider)({chainId:i}=yield e.provider.getNetwork());else throw new Error("must either connect provider or provide manual chainId override");const{domain:s,types:o}=nC(Number(i)),a=aC(s),c=cC(t),f=z1.hash(a,o,c);let l=w1.get(r,f);return l!==void 0||(l=nt("_signTypedData"in e?yield e._signTypedData(a,o,c):yield e.signTypedData(a,o,c)),w1.cache(r,BigInt(i),t,f,l)),l})}function aC(t){const e=Object.assign(Object.assign({},t),{chainId:t.chainId?cs(t.chainId):void 0});return t.salt&&(e.salt=_9(t.salt)),e}function cC(t){const e=n=>{if(n!=null)return typeof n=="string"?n:n instanceof BigInt?cs(n.toString()):co(n)};return Object.assign(Object.assign({},t),{gasPrice:e(t.gasPrice),value:e(t.value),data:t.data?nt(t.data):void 0})}const fC="modulepreload",lC=function(t){return"/"+t},a3={},uC=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=lC(o),o in a3)return;a3[o]=!0;const a=o.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const p=s[u];if(p.href===o&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":fC,a||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),a)return new Promise((u,p)=>{l.addEventListener("load",u),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},bh={chainId:23294,defaultGateway:"https://sapphire.oasis.io/",runtimeId:"0x000000000000000000000000000000000000000000000000f80306c9858e7279"},ph={chainId:23295,defaultGateway:"https://testnet.sapphire.oasis.dev/",runtimeId:"0x000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c"},gh={chainId:23293,defaultGateway:"http://localhost:8545/",runtimeId:"0x8000000000000000000000000000000000000000000000000000000000000000"},P9={mainnet:bh,testnet:ph,localnet:gh,[bh.chainId]:bh,[ph.chainId]:ph,[gh.chainId]:gh};var Rf=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{f(r.next(l))}catch(u){o(u)}}function c(l){try{f(r.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((r=r.apply(t,e||[])).next())})};const dC=60*5*1e3;function T9(t,e){return{key:nt(t.key),checksum:nt(t.checksum),signature:nt(t.signature),epoch:t.epoch,chainId:e,fetched:new Date}}function hC(t){return Rf(this,void 0,void 0,function*(){const e=yield uC(()=>import(t.split(":")[0]),void 0),n=I9();return new Promise((r,i)=>{const s={method:"POST",headers:{"content-type":"application/json","content-length":n.length}},o=e.request(t,s,a=>{const c=[];a.on("error",f=>i(f)),a.on("data",f=>c.push(f)),a.on("end",()=>{r(JSON.parse(Buffer.concat(c).toString()))})});o.on("error",a=>i(a)),o.write(n),o.end()})})}function bC(t,e){return Rf(this,void 0,void 0,function*(){const n=yield e(t,{method:"POST",headers:{"content-type":"application/json"},body:I9()});if(!n.ok)throw new v1("Failed to fetch runtime public key.",n);return yield n.json()})}function I9(){return JSON.stringify({jsonrpc:"2.0",id:Math.floor(Math.random()*1e9),method:M5,params:[]})}function pC(t,e){var n;return Rf(this,void 0,void 0,function*(){const{defaultGateway:r}=P9[t];if(!r)throw new Error(`Unable to fetch runtime public key for network with unknown ID: ${t}.`);const i=(n=e==null?void 0:e.fetch)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.fetch,s=yield i?bC(r,i):hC(r);return T9(s.result,t)})}function c3(t){return typeof t=="string"?t.startsWith("0x")?parseInt(t,16):parseInt(t):t}function gC(t){return Rf(this,void 0,void 0,function*(){const e="provider"in t?t.provider:t;let n;if(e){let r;if("request"in e){const i=e;n=c3(yield i.request({method:"eth_chainId"}));try{r=yield i.request({method:M5,params:[]})}catch{}}else if("send"in e){const i=e;n=c3(yield i.send("eth_chainId",[]));try{r=yield i.send(M5,[])}catch{}}else throw new Error("fetchRuntimePublicKey does not support non-request non-send provier!");if(r&&"key"in r)return T9(r,n)}if(!n)throw new Error("fetchRuntimePublicKey failed to retrieve chainId from provider");return pC(n)})}class mC{}class yC extends mC{constructor(e){super(),e||(e=dC),this.timeoutMilliseconds=e}fetch(e){return Rf(this,void 0,void 0,function*(){if(this.pubkey){const n=this.pubkey,r=Date.now()-this.timeoutMilliseconds;if(n.fetched&&n.fetched.valueOf()>r)return n}return this.pubkey=yield gC(e)})}cipher(e){return Rf(this,void 0,void 0,function*(){const n=yield this.fetch(e);return xd.ephemeral(n.key,n.epoch)})}}var Us=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{f(r.next(l))}catch(u){o(u)}}function c(l){try{f(r.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((r=r.apply(t,e||[])).next())})},xC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const db="sapphire";function E6(t){return t||(t={}),t.fetcher||(t.fetcher=new yC),t}function f3(t,e){if(typeof t!="string"&&Reflect.get(t,db)!==void 0)return t;typeof t=="string"&&(t=new cb(t));const n=E6(e);if(k9(t))return C9(t,n);if(IC(t))return S9(t,n);if(wC(t))return vC(t,n);throw new TypeError("Unable to wrap unsupported provider.")}function wC(t){return"request"in t}function vC(t,e){const n=E6(e),r=new c9(t),i=EC(r,n),s={request:i};return"send"in t&&(s.send=(...o)=>Us(this,void 0,void 0,function*(){return yield i({method:o[0],params:o[1]})})),"sendAsync"in t&&(s.sendAsync=()=>{throw new Error("sendAsync not supported by Sapphire wrapper!")}),hb(t,n,s)}function EC(t,e){return n=>Us(this,void 0,void 0,function*(){const r=yield t.getSigner(),i=yield e.fetcher.cipher(t),{method:s,params:o}=yield CC(n,r,i),a=yield r.provider.send(s,o??[]);return s==="eth_call"?yield i.decryptEncoded(a):a})}function hb(t,e,n){return new Proxy(t,{get(r,i){if(i===db)return e;if(i in n)return Reflect.get(n,i);const s=Reflect.get(r,i);return typeof s=="function"?s.bind(r):s}})}function C9(t,e){const n=E6(e);let r;if(t.provider)try{const s=S9(t.provider,n,t);r=t.connect(s)}catch(s){if(s.code!=="UNSUPPORTED_OPERATION")throw s;r=t}else r=t;const i={sendTransaction:l3(r.sendTransaction.bind(r),n,r),signTransaction:l3(r.signTransaction.bind(r),n,r),call:Ed(r,"call",n),estimateGas:Ed(r,"estimateGas",n),connect(s){const o=r.connect(s);return C9(o,n)}};return hb(r,n,i)}function S9(t,e,n){const r=E6(e);if(Reflect.get(t,db)!==void 0)return t;const i={call:Ed(t,"call",r),estimateGas:Ed(t,"estimateGas",r)};return n&&("broadcastTransaction"in t?i.broadcastTransaction=s=>Us(this,void 0,void 0,function*(){const o=yield r.fetcher.cipher(t),a=yield F5(s,o,n);return t.broadcastTransaction(a)}):i.sendTransaction=s=>Us(this,void 0,void 0,function*(){const o=yield r.fetcher.cipher(t),a=yield F5(s,o,n);return t.sendTransaction(a)})),hb(t,r,i)}function AC(t){return Reflect.get(t,"_isSigner")===!0}function _C(t){return t instanceof s9||Reflect.get(t,"signTypedData")!==void 0&&Reflect.get(t,"signTransaction")!==void 0}function k9(t){return AC(t)||_C(t)}function PC(t){return Reflect.get(t,"_isProvider")===!0}function TC(t){return t instanceof i9||Reflect.get(t,"waitForBlock")&&Reflect.get(t,"destroy")&&Reflect.get(t,"broadcastTransaction")}function IC(t){return PC(t)||TC(t)}function Ed(t,e,n){const r=(i,s,o,a)=>Us(this,void 0,void 0,function*(){var c;let f=s.data;return o||(f=yield a.encryptEncode((c=s.data)!==null&&c!==void 0?c:new Uint8Array)),yield i[e](Object.assign(Object.assign({},s),{data:$e(f)}))});return i=>Us(this,void 0,void 0,function*(){const s=Reflect.get(t,"populateCall");s!==void 0&&(i=yield s.bind(t)(i));let o;const a=R9(i.data,!0),c=yield n.fetcher.cipher(t);if(!a&&k9(t)){const f=t;if(!f.provider)throw new Error("signer not connected to a provider");const l=f.provider;if(yield B9(i)){const u=yield v6.make(i,f);o=yield l[e](Object.assign(Object.assign({},i),{data:yield u.encryptEncode(c)}))}else o=yield r(l,i,a,c)}else o=yield r(t,i,a,c);return!a&&typeof o=="string"?yield c.decryptEncoded(o):o})}function l3(t,e,n){return(r,...i)=>Us(this,void 0,void 0,function*(){if(r.data){const s=yield e.fetcher.cipher(n);r.data=yield s.encryptEncode(r.data)}return t(r,...i)})}function B9(t){return Us(this,void 0,void 0,function*(){const[e,n]=yield Promise.all([t.from,t.to]);return!!n&&!!e&&typeof e=="string"&&!/^(0x)?0{40}$/.test(e)})}function CC({method:t,params:e},n,r){return Us(this,void 0,void 0,function*(){if(!Array.isArray(e))return{method:t,params:e};if(t==="eth_sendRawTransaction")return{method:t,params:[yield F5(e[0],r,n)]};if((t==="eth_call"||t==="eth_estimateGas")&&(yield B9(e[0]))){const i=yield v6.make(e[0],n),s=Object.assign(Object.assign({},e[0]),{data:yield i.encryptEncode(r)});return{method:t,params:[s,...e.slice(1)]}}return/^eth_((send|sign)Transaction|call|estimateGas)$/.test(t)&&e[0].data?(e[0].data=yield r.encryptEncode(e[0].data),{method:t,params:e}):{method:t,params:e}})}class mh extends Error{}const SC="Un-enveloped data was passed to sendRawTransaction, which is likely incorrect. Is the dapp using the Sapphire compat lib correctly?";function F5(t,e,n){return Us(this,void 0,void 0,function*(){const r=Pf.from(t);if(R9(r.data,!1)||r.isSigned()&&(!n||(yield n.getAddress())!==r.from))return t;r.data=yield e.encryptEncode(r.data);try{return n.signTransaction(r)}catch(i){throw new v1(SC,i)}})}function kC(t){return"data"in t&&"leash"in t&&"signature"in t}function R9(t,e){try{const n=wu(nt(t));let r;if(kC(n)){if(!e)throw new mh("Got unexpected signed query!");r=n.data}else r=n;if(!BC(r))throw new mh("Bogus Sapphire enveloped data found in transaction!");return!0}catch(n){if(n instanceof mh)throw n}return!1}function BC(t){const{format:e,body:n}=t,r=xC(t,["format","body"]);return!(Object.keys(r).length>0||!n||e!==null&&e!==Bf.Plain&&(ad(n)||!ad(n.data)))}const M5="oasis_callDataPublicKey";class v1 extends Error{constructor(e,n){super(e),this.response=n}}var ns=(t=>(t[t.Unknown=0]="Unknown",t[t.Ethereum=1]="Ethereum",t[t.Goerli=10]="Goerli",t[t.BscMainnet=56]="BscMainnet",t[t.BscTestnet=97]="BscTestnet",t[t.EmeraldTestnet=42261]="EmeraldTestnet",t[t.EmeraldMainnet=42262]="EmeraldMainnet",t[t.SapphireTestnet=23295]="SapphireTestnet",t[t.SapphireMainnet=23294]="SapphireMainnet",t[t.SapphireLocalnet=23293]="SapphireLocalnet",t[t.PolygonMumbai=78721]="PolygonMumbai",t[t.Local=1337]="Local",t[t.FromConfig=parseInt("23295")]="FromConfig",t))(ns||{});const yh={0:"Unknown Network",1:"Ethereum",1337:"Local Network",10:"Goerli",42261:"Emerald Testnet",42262:"Emerald Mainnet",23295:"Sapphire Testnet",23294:"Sapphire Mainnet",23293:"Sapphire Localnet",78721:"Polygon Mumbai",56:"BSC",97:"BSC Testnet"};function u3(t){const e=typeof t=="string"?parseInt(t,16):t;return ns[e]?e:0}function RC(t){return t&&yh[t]?yh[t]:yh[0]}const Po=E7("ethereum",()=>{const t=Zu(void 0),e=f3(new cb("https://testnet.sapphire.oasis.dev","any")),n=Ye(ns.FromConfig),r=Ye(),i=Ye(0),s=Ye(!1),o=Kt(()=>ct(n)==ns.FromConfig);async function a(p){p.length?i.value=2:(i.value=1,t.value=void 0,n.value=0,r.value=void 0)}yu().then(async p=>{if(!p){console.log("No EIP-1193 provider discovered using detectEthereumProvider");return}await c(!1,!1),p.on("accountsChanged",async m=>{console.log("Accounts changed!",m),await a(m)}),p.on("chainChanged",async m=>{console.log("Chain Changed!",m),await c(),console.log("chainChanged",m)}),p.on("connect",m=>{n.value=u3(m.chainId),i.value=2,console.log("connect")}),p.on("disconnect",()=>{console.log("disconnect"),a([])}),a(await p.request({method:"eth_accounts"}))});async function c(p,m,A){let E,I;if(!t.value||A&&await t.value.getAddress()!=A){const U=await yu();if(!U){console.log("getSigner, detectEthereumProvider empty!!");return}I=new c9(U)}else E=t.value,E&&(I=t.value.provider);if(!I){console.log("getSigner, no provider!");return}let w=await I.send("eth_accounts",[]);p&&(w.length||(w=await I.send("eth_requestAccounts",[]),await a(w))),w.length&&(E=await I.getSigner(A));let N=u3(await I.send("eth_chainId",[]));if(m&&(N!=n.value||N!=ns.FromConfig))try{await I.send("wallet_switchEthereumChain",[{chainId:co(ns.FromConfig)}]),N=ns.FromConfig}catch(U){throw U.code!==4902||l(N),U}const F=N in P9;return F&&E&&(E=f3(E)),t.value=E,n.value=N,s.value=F,w.length&&(r.value=w[0],i.value=2),E}async function f(){await c(!0,!0)}async function l(p=ns.FromConfig){const m=await yu();if(!m)throw new Error("addNetwork detectEthereumProvider = null");p==23295?await m.request({method:"wallet_addEthereumChain",params:[{chainId:"0x5aff",chainName:"Sapphire Testnet",nativeCurrency:{name:"TEST",symbol:"TEST",decimals:18},rpcUrls:["https://testnet.sapphire.oasis.dev/","wss://testnet.sapphire.oasis.dev/ws"],blockExplorerUrls:["https://explorer.stg.oasis.io/testnet/sapphire"]}]}):p===23294?await m.request({method:"wallet_addEthereumChain",params:[{chainId:"0x5afe",chainName:"Sapphire Mainnet",nativeCurrency:{name:"ROSE",symbol:"ROSE",decimals:18},rpcUrls:["https://sapphire.oasis.io/","wss://sapphire.oasis.io/ws"],blockExplorerUrls:["https://explorer.oasis.io/mainnet/sapphire"]}]}):p===23293&&await m.request({method:"wallet_addEthereumChain",params:[{chainId:"0x5afd",chainName:"Sapphire Localnet",rpcUrls:["http://localhost:8545"]}]})}async function u(p=ns.FromConfig){await c(!0,!0)}return{signer:t,provider:e,address:r,network:n,connect:f,addNetwork:l,switchNetwork:u,isSapphire:s,isHomeChain:o}});var E0=function(t){t==null&&(t=new Date().getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,t.constructor==Array?this.init_by_array(t,t.length):this.init_seed(t)};E0.prototype.init_seed=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++){var t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(((t&4294901760)>>>16)*1812433253<<16)+(t&65535)*1812433253+this.mti,this.mt[this.mti]>>>=0}};E0.prototype.init_by_array=function(t,e){var n,r,i;for(this.init_seed(19650218),n=1,r=0,i=this.N>e?this.N:e;i;i--){var s=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(((s&4294901760)>>>16)*1664525<<16)+(s&65535)*1664525)+t[r]+r,this.mt[n]>>>=0,n++,r++,n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),r>=e&&(r=0)}for(i=this.N-1;i;i--){var s=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(((s&4294901760)>>>16)*1566083941<<16)+(s&65535)*1566083941)-n,this.mt[n]>>>=0,n++,n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1)}this.mt[0]=2147483648};E0.prototype.random_int=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_seed(5489),n=0;n<this.N-this.M;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^t>>>1^e[t&1];for(;n<this.N-1;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^t>>>1^e[t&1];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[t&1],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^=t>>>18,t>>>0};E0.prototype.random_int31=function(){return this.random_int()>>>1};E0.prototype.random_incl=function(){return this.random_int()*(1/4294967295)};E0.prototype.random=function(){return this.random_int()*(1/4294967296)};E0.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)};E0.prototype.random_long=function(){var t=this.random_int()>>>5,e=this.random_int()>>>6;return(t*67108864+e)*(1/9007199254740992)};var NC=E0;function OC(t,e){var n=document.createElement("div");return n.style.borderRadius="50px",n.style.overflow="hidden",n.style.padding="0px",n.style.margin="0px",n.style.width=""+t+"px",n.style.height=""+t+"px",n.style.display="inline-block",n.style.background=e,{container:n}}var LC=OC,FC=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"],MC=NC,UC=LC,DC=FC,d3=4,N9="http://www.w3.org/2000/svg",HC=GC,Ea;function GC(t,e){Ea=new MC(e);var n=zC(DC.slice(),Ea),r=UC(t,O9(n)),i=r.container,s=document.createElementNS(N9,"svg");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",t),s.setAttributeNS(null,"height",t),i.appendChild(s);for(var o=0;o<d3-1;o++)VC(n,t,o,d3-1,s);return i}function VC(t,e,n,r,i){var s=e/2,o=document.createElementNS(N9,"rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",e),o.setAttributeNS(null,"height",e);var a=Ea.random(),c=Math.PI*2*a,f=e/r*Ea.random()+n*e/r,l=Math.cos(c)*f,u=Math.sin(c)*f,p="translate("+l+" "+u+")",m=Ea.random(),A=a*360+m*180,E="rotate("+A.toFixed(1)+" "+s+" "+s+")",I=p+" "+E;o.setAttributeNS(null,"transform",I);var w=O9(t);o.setAttributeNS(null,"fill",w),i.appendChild(o)}function O9(t){Ea.random();var e=Math.floor(t.length*Ea.random()),n=t.splice(e,1)[0];return n}var $C=30;function zC(t,e){var n=e.random()*30-$C/2,r=i=>jC(i,n);return t.map(r)}function jC(t,e){var n=KC(t),r=n.h;return r=(r+e)%360,r=r<0?360+r:r,n.h=r,WC(n)}function KC(t){var e="0x"+t[1]+t[2],n="0x"+t[3]+t[4],r="0x"+t[5]+t[6];e/=255,n/=255,r/=255;var i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i,a=0,c=0,f=0;return o==0?a=0:s==e?a=(n-r)/o%6:s==n?a=(r-e)/o+2:a=(e-n)/o+4,a=Math.round(a*60),a<0&&(a+=360),f=(s+i)/2,c=o==0?0:o/(1-Math.abs(2*f-1)),c=+(c*100).toFixed(1),f=+(f*100).toFixed(1),{h:a,s:c,l:f}}function WC(t){var{h:e,s:n,l:r}=t;n/=100,r/=100;let i=(1-Math.abs(2*r-1))*n,s=i*(1-Math.abs(e/60%2-1)),o=r-i/2,a=0,c=0,f=0;return 0<=e&&e<60?(a=i,c=s,f=0):60<=e&&e<120?(a=s,c=i,f=0):120<=e&&e<180?(a=0,c=i,f=s):180<=e&&e<240?(a=0,c=s,f=i):240<=e&&e<300?(a=s,c=0,f=i):300<=e&&e<360&&(a=i,c=0,f=s),a=Math.round((a+o)*255).toString(16),c=Math.round((c+o)*255).toString(16),f=Math.round((f+o)*255).toString(16),a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+a+c+f}const QC=Il(HC),L9=Ar({__name:"JazzIcon",props:{address:{},size:{}},setup(t){const e=t,n=Kt(()=>Number.parseInt(e.address.slice(2,10),16)),r=Ye(document.createElement("div"));return hf([r,n,e],([i,s,o])=>{const a=QC(o.size??35,s);i.innerHTML="",i.appendChild(a),i.style.width=a.style.width,i.style.height=a.style.height}),(i,s)=>(be(),Ae("div",{ref_key:"icon",ref:r,class:"inline-block"},null,512))}}),Wa=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,F9=new Set,U5=typeof process=="object"&&process?process:{},M9=(t,e,n,r)=>{typeof U5.emitWarning=="function"?U5.emitWarning(t,e,n,r):console.error(`[${n}] ${e}: ${t}`)};let Ad=globalThis.AbortController,h3=globalThis.AbortSignal;var j3;if(typeof Ad>"u"){h3=class{constructor(){Q(this,"onabort");Q(this,"_onabort",[]);Q(this,"reason");Q(this,"aborted",!1)}addEventListener(r,i){this._onabort.push(i)}},Ad=class{constructor(){Q(this,"signal",new h3);e()}abort(r){var i,s;if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(const o of this.signal._onabort)o(r);(s=(i=this.signal).onabort)==null||s.call(i,r)}}};let t=((j3=U5.env)==null?void 0:j3.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,M9("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const JC=t=>!F9.has(t),O0=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),U9=t=>O0(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Ru:null:null;class Ru extends Array{constructor(e){super(e),this.fill(0)}}var of;const Fo=class Fo{constructor(e,n){Q(this,"heap");Q(this,"length");if(!d(Fo,of))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}static create(e){const n=U9(e);if(!n)return[];R(Fo,of,!0);const r=new Fo(e,n);return R(Fo,of,!1),r}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};of=new WeakMap,$(Fo,of,!1);let D5=Fo;var Ki,ri,Wi,Qi,af,Gn,Ji,Mn,mn,Tt,Sr,ii,pr,zn,Yi,jn,qi,Zi,si,Xi,ao,kr,wl,H5,da,a0,vl,oi,Md,D9,ha,cf,El,Es,L0,As,F0,Al,G5,ff,Nu,lf,Ou,bn,gn,_l,V5,ba,f1;const Ub=class Ub{constructor(e){$(this,wl);$(this,Md);$(this,Es);$(this,As);$(this,Al);$(this,ff);$(this,lf);$(this,bn);$(this,_l);$(this,ba);$(this,Ki,void 0);$(this,ri,void 0);$(this,Wi,void 0);$(this,Qi,void 0);$(this,af,void 0);Q(this,"ttl");Q(this,"ttlResolution");Q(this,"ttlAutopurge");Q(this,"updateAgeOnGet");Q(this,"updateAgeOnHas");Q(this,"allowStale");Q(this,"noDisposeOnSet");Q(this,"noUpdateTTL");Q(this,"maxEntrySize");Q(this,"sizeCalculation");Q(this,"noDeleteOnFetchRejection");Q(this,"noDeleteOnStaleGet");Q(this,"allowStaleOnFetchAbort");Q(this,"allowStaleOnFetchRejection");Q(this,"ignoreFetchAbort");$(this,Gn,void 0);$(this,Ji,void 0);$(this,Mn,void 0);$(this,mn,void 0);$(this,Tt,void 0);$(this,Sr,void 0);$(this,ii,void 0);$(this,pr,void 0);$(this,zn,void 0);$(this,Yi,void 0);$(this,jn,void 0);$(this,qi,void 0);$(this,Zi,void 0);$(this,si,void 0);$(this,Xi,void 0);$(this,ao,void 0);$(this,kr,void 0);$(this,da,()=>{});$(this,a0,()=>{});$(this,vl,()=>{});$(this,oi,()=>!1);$(this,ha,e=>{});$(this,cf,(e,n,r)=>{});$(this,El,(e,n,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:n=0,ttl:r,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:f,disposeAfter:l,noDisposeOnSet:u,noUpdateTTL:p,maxSize:m=0,maxEntrySize:A=0,sizeCalculation:E,fetchMethod:I,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:N,allowStaleOnFetchRejection:F,allowStaleOnFetchAbort:U,ignoreFetchAbort:H}=e;if(n!==0&&!O0(n))throw new TypeError("max option must be a nonnegative integer");const z=n?U9(n):Array;if(!z)throw new Error("invalid max value: "+n);if(R(this,Ki,n),R(this,ri,m),this.maxEntrySize=A||d(this,ri),this.sizeCalculation=E,this.sizeCalculation){if(!d(this,ri)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(I!==void 0&&typeof I!="function")throw new TypeError("fetchMethod must be a function if specified");if(R(this,af,I),R(this,ao,!!I),R(this,Mn,new Map),R(this,mn,new Array(n).fill(void 0)),R(this,Tt,new Array(n).fill(void 0)),R(this,Sr,new z(n)),R(this,ii,new z(n)),R(this,pr,0),R(this,zn,0),R(this,Yi,D5.create(n)),R(this,Gn,0),R(this,Ji,0),typeof f=="function"&&R(this,Wi,f),typeof l=="function"?(R(this,Qi,l),R(this,jn,[])):(R(this,Qi,void 0),R(this,jn,void 0)),R(this,Xi,!!d(this,Wi)),R(this,kr,!!d(this,Qi)),this.noDisposeOnSet=!!u,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!F,this.allowStaleOnFetchAbort=!!U,this.ignoreFetchAbort=!!H,this.maxEntrySize!==0){if(d(this,ri)!==0&&!O0(d(this,ri)))throw new TypeError("maxSize must be a positive integer if specified");if(!O0(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");re(this,Md,D9).call(this)}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!N,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=O0(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!O0(this.ttl))throw new TypeError("ttl must be a positive integer if specified");re(this,wl,H5).call(this)}if(d(this,Ki)===0&&this.ttl===0&&d(this,ri)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!d(this,Ki)&&!d(this,ri)){const ce="LRU_CACHE_UNBOUNDED";JC(ce)&&(F9.add(ce),M9("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ce,Ub))}}static unsafeExposeInternals(e){return{starts:d(e,Zi),ttls:d(e,si),sizes:d(e,qi),keyMap:d(e,Mn),keyList:d(e,mn),valList:d(e,Tt),next:d(e,Sr),prev:d(e,ii),get head(){return d(e,pr)},get tail(){return d(e,zn)},free:d(e,Yi),isBackgroundFetch:n=>{var r;return re(r=e,bn,gn).call(r,n)},backgroundFetch:(n,r,i,s)=>{var o;return re(o=e,lf,Ou).call(o,n,r,i,s)},moveToTail:n=>{var r;return re(r=e,ba,f1).call(r,n)},indexes:n=>{var r;return re(r=e,Es,L0).call(r,n)},rindexes:n=>{var r;return re(r=e,As,F0).call(r,n)},isStale:n=>{var r;return d(r=e,oi).call(r,n)}}}get max(){return d(this,Ki)}get maxSize(){return d(this,ri)}get calculatedSize(){return d(this,Ji)}get size(){return d(this,Gn)}get fetchMethod(){return d(this,af)}get dispose(){return d(this,Wi)}get disposeAfter(){return d(this,Qi)}getRemainingTTL(e){return d(this,Mn).has(e)?1/0:0}*entries(){for(const e of re(this,Es,L0).call(this))d(this,Tt)[e]!==void 0&&d(this,mn)[e]!==void 0&&!re(this,bn,gn).call(this,d(this,Tt)[e])&&(yield[d(this,mn)[e],d(this,Tt)[e]])}*rentries(){for(const e of re(this,As,F0).call(this))d(this,Tt)[e]!==void 0&&d(this,mn)[e]!==void 0&&!re(this,bn,gn).call(this,d(this,Tt)[e])&&(yield[d(this,mn)[e],d(this,Tt)[e]])}*keys(){for(const e of re(this,Es,L0).call(this)){const n=d(this,mn)[e];n!==void 0&&!re(this,bn,gn).call(this,d(this,Tt)[e])&&(yield n)}}*rkeys(){for(const e of re(this,As,F0).call(this)){const n=d(this,mn)[e];n!==void 0&&!re(this,bn,gn).call(this,d(this,Tt)[e])&&(yield n)}}*values(){for(const e of re(this,Es,L0).call(this))d(this,Tt)[e]!==void 0&&!re(this,bn,gn).call(this,d(this,Tt)[e])&&(yield d(this,Tt)[e])}*rvalues(){for(const e of re(this,As,F0).call(this))d(this,Tt)[e]!==void 0&&!re(this,bn,gn).call(this,d(this,Tt)[e])&&(yield d(this,Tt)[e])}[Symbol.iterator](){return this.entries()}find(e,n={}){for(const r of re(this,Es,L0).call(this)){const i=d(this,Tt)[r],s=re(this,bn,gn).call(this,i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,d(this,mn)[r],this))return this.get(d(this,mn)[r],n)}}forEach(e,n=this){for(const r of re(this,Es,L0).call(this)){const i=d(this,Tt)[r],s=re(this,bn,gn).call(this,i)?i.__staleWhileFetching:i;s!==void 0&&e.call(n,s,d(this,mn)[r],this)}}rforEach(e,n=this){for(const r of re(this,As,F0).call(this)){const i=d(this,Tt)[r],s=re(this,bn,gn).call(this,i)?i.__staleWhileFetching:i;s!==void 0&&e.call(n,s,d(this,mn)[r],this)}}purgeStale(){let e=!1;for(const n of re(this,As,F0).call(this,{allowStale:!0}))d(this,oi).call(this,n)&&(this.delete(d(this,mn)[n]),e=!0);return e}info(e){const n=d(this,Mn).get(e);if(n===void 0)return;const r=d(this,Tt)[n],i=re(this,bn,gn).call(this,r)?r.__staleWhileFetching:r;if(i===void 0)return;const s={value:i};if(d(this,si)&&d(this,Zi)){const o=d(this,si)[n],a=d(this,Zi)[n];if(o&&a){const c=o-(Wa.now()-a);s.ttl=c,s.start=Date.now()}}return d(this,qi)&&(s.size=d(this,qi)[n]),s}dump(){const e=[];for(const n of re(this,Es,L0).call(this,{allowStale:!0})){const r=d(this,mn)[n],i=d(this,Tt)[n],s=re(this,bn,gn).call(this,i)?i.__staleWhileFetching:i;if(s===void 0||r===void 0)continue;const o={value:s};if(d(this,si)&&d(this,Zi)){o.ttl=d(this,si)[n];const a=Wa.now()-d(this,Zi)[n];o.start=Math.floor(Date.now()-a)}d(this,qi)&&(o.size=d(this,qi)[n]),e.unshift([r,o])}return e}load(e){this.clear();for(const[n,r]of e){if(r.start){const i=Date.now()-r.start;r.start=Wa.now()-i}this.set(n,r.value,r)}}set(e,n,r={}){var p,m,A,E,I;if(n===void 0)return this.delete(e),this;const{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=r;let{noUpdateTTL:f=this.noUpdateTTL}=r;const l=d(this,El).call(this,e,n,r.size||0,a);if(this.maxEntrySize&&l>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(e),this;let u=d(this,Gn)===0?void 0:d(this,Mn).get(e);if(u===void 0)u=d(this,Gn)===0?d(this,zn):d(this,Yi).length!==0?d(this,Yi).pop():d(this,Gn)===d(this,Ki)?re(this,ff,Nu).call(this,!1):d(this,Gn),d(this,mn)[u]=e,d(this,Tt)[u]=n,d(this,Mn).set(e,u),d(this,Sr)[d(this,zn)]=u,d(this,ii)[u]=d(this,zn),R(this,zn,u),P0(this,Gn)._++,d(this,cf).call(this,u,l,c),c&&(c.set="add"),f=!1;else{re(this,ba,f1).call(this,u);const w=d(this,Tt)[u];if(n!==w){if(d(this,ao)&&re(this,bn,gn).call(this,w)){w.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:N}=w;N!==void 0&&!o&&(d(this,Xi)&&((p=d(this,Wi))==null||p.call(this,N,e,"set")),d(this,kr)&&((m=d(this,jn))==null||m.push([N,e,"set"])))}else o||(d(this,Xi)&&((A=d(this,Wi))==null||A.call(this,w,e,"set")),d(this,kr)&&((E=d(this,jn))==null||E.push([w,e,"set"])));if(d(this,ha).call(this,u),d(this,cf).call(this,u,l,c),d(this,Tt)[u]=n,c){c.set="replace";const N=w&&re(this,bn,gn).call(this,w)?w.__staleWhileFetching:w;N!==void 0&&(c.oldValue=N)}}else c&&(c.set="update")}if(i!==0&&!d(this,si)&&re(this,wl,H5).call(this),d(this,si)&&(f||d(this,vl).call(this,u,i,s),c&&d(this,a0).call(this,c,u)),!o&&d(this,kr)&&d(this,jn)){const w=d(this,jn);let N;for(;N=w==null?void 0:w.shift();)(I=d(this,Qi))==null||I.call(this,...N)}return this}pop(){var e;try{for(;d(this,Gn);){const n=d(this,Tt)[d(this,pr)];if(re(this,ff,Nu).call(this,!0),re(this,bn,gn).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(d(this,kr)&&d(this,jn)){const n=d(this,jn);let r;for(;r=n==null?void 0:n.shift();)(e=d(this,Qi))==null||e.call(this,...r)}}}has(e,n={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=n,s=d(this,Mn).get(e);if(s!==void 0){const o=d(this,Tt)[s];if(re(this,bn,gn).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(d(this,oi).call(this,s))i&&(i.has="stale",d(this,a0).call(this,i,s));else return r&&d(this,da).call(this,s),i&&(i.has="hit",d(this,a0).call(this,i,s)),!0}else i&&(i.has="miss");return!1}peek(e,n={}){const{allowStale:r=this.allowStale}=n,i=d(this,Mn).get(e);if(i===void 0||!r&&d(this,oi).call(this,i))return;const s=d(this,Tt)[i];return re(this,bn,gn).call(this,s)?s.__staleWhileFetching:s}async fetch(e,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:A=this.allowStaleOnFetchAbort,context:E,forceRefresh:I=!1,status:w,signal:N}=n;if(!d(this,ao))return w&&(w.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:w});const F={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:c,sizeCalculation:f,noUpdateTTL:l,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:A,ignoreFetchAbort:m,status:w,signal:N};let U=d(this,Mn).get(e);if(U===void 0){w&&(w.fetch="miss");const H=re(this,lf,Ou).call(this,e,U,F,E);return H.__returned=H}else{const H=d(this,Tt)[U];if(re(this,bn,gn).call(this,H)){const Te=r&&H.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",Te&&(w.returnedStale=!0)),Te?H.__staleWhileFetching:H.__returned=H}const z=d(this,oi).call(this,U);if(!I&&!z)return w&&(w.fetch="hit"),re(this,ba,f1).call(this,U),i&&d(this,da).call(this,U),w&&d(this,a0).call(this,w,U),H;const ce=re(this,lf,Ou).call(this,e,U,F,E),ae=ce.__staleWhileFetching!==void 0&&r;return w&&(w.fetch=z?"stale":"refresh",ae&&z&&(w.returnedStale=!0)),ae?ce.__staleWhileFetching:ce.__returned=ce}}get(e,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=n,a=d(this,Mn).get(e);if(a!==void 0){const c=d(this,Tt)[a],f=re(this,bn,gn).call(this,c);return o&&d(this,a0).call(this,o,a),d(this,oi).call(this,a)?(o&&(o.get="stale"),f?(o&&r&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?c.__staleWhileFetching:void 0):(s||this.delete(e),o&&r&&(o.returnedStale=!0),r?c:void 0)):(o&&(o.get="hit"),f?c.__staleWhileFetching:(re(this,ba,f1).call(this,a),i&&d(this,da).call(this,a),c))}else o&&(o.get="miss")}delete(e){var r,i,s,o;let n=!1;if(d(this,Gn)!==0){const a=d(this,Mn).get(e);if(a!==void 0)if(n=!0,d(this,Gn)===1)this.clear();else{d(this,ha).call(this,a);const c=d(this,Tt)[a];if(re(this,bn,gn).call(this,c)?c.__abortController.abort(new Error("deleted")):(d(this,Xi)||d(this,kr))&&(d(this,Xi)&&((r=d(this,Wi))==null||r.call(this,c,e,"delete")),d(this,kr)&&((i=d(this,jn))==null||i.push([c,e,"delete"]))),d(this,Mn).delete(e),d(this,mn)[a]=void 0,d(this,Tt)[a]=void 0,a===d(this,zn))R(this,zn,d(this,ii)[a]);else if(a===d(this,pr))R(this,pr,d(this,Sr)[a]);else{const f=d(this,ii)[a];d(this,Sr)[f]=d(this,Sr)[a];const l=d(this,Sr)[a];d(this,ii)[l]=d(this,ii)[a]}P0(this,Gn)._--,d(this,Yi).push(a)}}if(d(this,kr)&&((s=d(this,jn))!=null&&s.length)){const a=d(this,jn);let c;for(;c=a==null?void 0:a.shift();)(o=d(this,Qi))==null||o.call(this,...c)}return n}clear(){var e,n,r;for(const i of re(this,As,F0).call(this,{allowStale:!0})){const s=d(this,Tt)[i];if(re(this,bn,gn).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=d(this,mn)[i];d(this,Xi)&&((e=d(this,Wi))==null||e.call(this,s,o,"delete")),d(this,kr)&&((n=d(this,jn))==null||n.push([s,o,"delete"]))}}if(d(this,Mn).clear(),d(this,Tt).fill(void 0),d(this,mn).fill(void 0),d(this,si)&&d(this,Zi)&&(d(this,si).fill(0),d(this,Zi).fill(0)),d(this,qi)&&d(this,qi).fill(0),R(this,pr,0),R(this,zn,0),d(this,Yi).length=0,R(this,Ji,0),R(this,Gn,0),d(this,kr)&&d(this,jn)){const i=d(this,jn);let s;for(;s=i==null?void 0:i.shift();)(r=d(this,Qi))==null||r.call(this,...s)}}};Ki=new WeakMap,ri=new WeakMap,Wi=new WeakMap,Qi=new WeakMap,af=new WeakMap,Gn=new WeakMap,Ji=new WeakMap,Mn=new WeakMap,mn=new WeakMap,Tt=new WeakMap,Sr=new WeakMap,ii=new WeakMap,pr=new WeakMap,zn=new WeakMap,Yi=new WeakMap,jn=new WeakMap,qi=new WeakMap,Zi=new WeakMap,si=new WeakMap,Xi=new WeakMap,ao=new WeakMap,kr=new WeakMap,wl=new WeakSet,H5=function(){const e=new Ru(d(this,Ki)),n=new Ru(d(this,Ki));R(this,si,e),R(this,Zi,n),R(this,vl,(s,o,a=Wa.now())=>{if(n[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){const c=setTimeout(()=>{d(this,oi).call(this,s)&&this.delete(d(this,mn)[s])},o+1);c.unref&&c.unref()}}),R(this,da,s=>{n[s]=e[s]!==0?Wa.now():0}),R(this,a0,(s,o)=>{if(e[o]){const a=e[o],c=n[o];if(!a||!c)return;s.ttl=a,s.start=c,s.now=r||i();const f=s.now-c;s.remainingTTL=a-f}});let r=0;const i=()=>{const s=Wa.now();if(this.ttlResolution>0){r=s;const o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=d(this,Mn).get(s);if(o===void 0)return 0;const a=e[o],c=n[o];if(!a||!c)return 1/0;const f=(r||i())-c;return a-f},R(this,oi,s=>{const o=n[s],a=e[s];return!!a&&!!o&&(r||i())-o>a})},da=new WeakMap,a0=new WeakMap,vl=new WeakMap,oi=new WeakMap,Md=new WeakSet,D9=function(){const e=new Ru(d(this,Ki));R(this,Ji,0),R(this,qi,e),R(this,ha,n=>{R(this,Ji,d(this,Ji)-e[n]),e[n]=0}),R(this,El,(n,r,i,s)=>{if(re(this,bn,gn).call(this,r))return 0;if(!O0(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(r,n),!O0(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),R(this,cf,(n,r,i)=>{if(e[n]=r,d(this,ri)){const s=d(this,ri)-e[n];for(;d(this,Ji)>s;)re(this,ff,Nu).call(this,!0)}R(this,Ji,d(this,Ji)+e[n]),i&&(i.entrySize=r,i.totalCalculatedSize=d(this,Ji))})},ha=new WeakMap,cf=new WeakMap,El=new WeakMap,Es=new WeakSet,L0=function*({allowStale:e=this.allowStale}={}){if(d(this,Gn))for(let n=d(this,zn);!(!re(this,Al,G5).call(this,n)||((e||!d(this,oi).call(this,n))&&(yield n),n===d(this,pr)));)n=d(this,ii)[n]},As=new WeakSet,F0=function*({allowStale:e=this.allowStale}={}){if(d(this,Gn))for(let n=d(this,pr);!(!re(this,Al,G5).call(this,n)||((e||!d(this,oi).call(this,n))&&(yield n),n===d(this,zn)));)n=d(this,Sr)[n]},Al=new WeakSet,G5=function(e){return e!==void 0&&d(this,Mn).get(d(this,mn)[e])===e},ff=new WeakSet,Nu=function(e){var s,o;const n=d(this,pr),r=d(this,mn)[n],i=d(this,Tt)[n];return d(this,ao)&&re(this,bn,gn).call(this,i)?i.__abortController.abort(new Error("evicted")):(d(this,Xi)||d(this,kr))&&(d(this,Xi)&&((s=d(this,Wi))==null||s.call(this,i,r,"evict")),d(this,kr)&&((o=d(this,jn))==null||o.push([i,r,"evict"]))),d(this,ha).call(this,n),e&&(d(this,mn)[n]=void 0,d(this,Tt)[n]=void 0,d(this,Yi).push(n)),d(this,Gn)===1?(R(this,pr,R(this,zn,0)),d(this,Yi).length=0):R(this,pr,d(this,Sr)[n]),d(this,Mn).delete(r),P0(this,Gn)._--,n},lf=new WeakSet,Ou=function(e,n,r,i){const s=n===void 0?void 0:d(this,Tt)[n];if(re(this,bn,gn).call(this,s))return s;const o=new Ad,{signal:a}=r;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const c={signal:o.signal,options:r,context:i},f=(E,I=!1)=>{const{aborted:w}=o.signal,N=r.ignoreFetchAbort&&E!==void 0;if(r.status&&(w&&!I?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,N&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),w&&!N&&!I)return u(o.signal.reason);const F=m;return d(this,Tt)[n]===m&&(E===void 0?F.__staleWhileFetching?d(this,Tt)[n]=F.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,E,c.options))),E},l=E=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=E),u(E)),u=E=>{const{aborted:I}=o.signal,w=I&&r.allowStaleOnFetchAbort,N=w||r.allowStaleOnFetchRejection,F=N||r.noDeleteOnFetchRejection,U=m;if(d(this,Tt)[n]===m&&(!F||U.__staleWhileFetching===void 0?this.delete(e):w||(d(this,Tt)[n]=U.__staleWhileFetching)),N)return r.status&&U.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),U.__staleWhileFetching;if(U.__returned===U)throw E},p=(E,I)=>{var N;const w=(N=d(this,af))==null?void 0:N.call(this,e,s,c);w&&w instanceof Promise&&w.then(F=>E(F===void 0?void 0:F),I),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(E(void 0),r.allowStaleOnFetchAbort&&(E=F=>f(F,!0)))})};r.status&&(r.status.fetchDispatched=!0);const m=new Promise(p).then(f,l),A=Object.assign(m,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(e,A,{...c.options,status:void 0}),n=d(this,Mn).get(e)):d(this,Tt)[n]=A,A},bn=new WeakSet,gn=function(e){if(!d(this,ao))return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Ad},_l=new WeakSet,V5=function(e,n){d(this,ii)[n]=e,d(this,Sr)[e]=n},ba=new WeakSet,f1=function(e){e!==d(this,zn)&&(e===d(this,pr)?R(this,pr,d(this,Sr)[e]):re(this,_l,V5).call(this,d(this,ii)[e],d(this,Sr)[e]),re(this,_l,V5).call(this,d(this,zn),e),R(this,zn,e))};let _d=Ub;var YC={VITE_NETWORK:"23295",VITE_WEB3_GATEWAY:"https://testnet.sapphire.oasis.dev",VITE_PINATA_JWT:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiIxMzhlMDQ4ZC1hOTM5LTQxNjAtOWUyOC0xZmYzMjY2OTFlZmIiLCJlbWFpbCI6InhpemhhbmdAb2FzaXNsYWJzLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiRlJBMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfSx7ImlkIjoiTllDMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiI2MjdkNmFiY2JmMzQ1ZGI0MDdmNiIsInNjb3BlZEtleVNlY3JldCI6ImI1ZjQzZmYwYjY3NWYzZDZjZWNhNjgyNmQ1OGFiNjQ1ZmM5YmQ1ZTJiYmMwM2E2Nzk4Yjc1NTc3NzI0ODZjZjYiLCJpYXQiOjE2ODE3MDUxODl9.5XgGrUPWBi9EVRUG-fYII-4GuewYgJ6sKsAnu2NWRco",VITE_CONTRACT_XCHAIN_HEADERCACHE:"0x846AcCBA28BcA031cDc9e33f1D5CD639a5a01856",VITE_CONTRACT_XCHAIN_ACCOUNTCACHE:"0x6747E7fa511AF2c1A382b9C59A72b8A07a641223",VITE_CONTRACT_XCHAIN_STORAGEPROOF:"0x7e16A7eB89B44707734BD05079d03178517a4A18",VITE_CONTRACT_ACL_STORAGEPROOF:"0x3C6fcaDdd95987F0ca46f9cc068b38217eF559aD",VITE_CONTRACT_ACL_ALLOWALL:"0xFb7a614328c7DCe710A45B41ca64D61296bb100c",VITE_CONTRACT_ACL_VOTERALLOWLIST:"0x32F4691143c406a3A533bCA4C51641da3C996A79",VITE_CONTRACT_ACL_TOKENHOLDER:"0xb36b982303f5b3D9A1fBC2DA3d297DE4692Bb563",VITE_CONTRACT_TESTTOKEN:"0xa8a9c42B1d7b659E9FfAb1503ca71ae5a5e0940e",VITE_CONTRACT_GASLESSVOTING:"0x0830c58d0ad1fC80f34ba245c8023dEF27AFDc77",VITE_CONTRACT_POLLMANAGER:"0x3b6421460FcFe43441906062A0eE8A879d2A2Efa",VITE_CONTRACT_POLLMANAGER_ACL:"0xFb7a614328c7DCe710A45B41ca64D61296bb100c",VITE_PACKAGE_VERSION:"1.0.0",VITE_PACKAGE_NAME:"@oasisprotocol/demo-voting-frontend",VITE_GIT_COMMIT_DATE:"2024-02-25",VITE_GIT_COMMIT_HASH:"5bc07b2b78723a9bbc1c370558d68f4a662f1e01",VITE_GIT_COMMIT_SHORT_HASH:"5bc07b2b",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function H9(t){return t[Math.floor(Math.random()*t.length)]}var pa;const Mi=class Mi{static async pinData(e){const n=new FormData;n.append("file",new Blob([e],{type:"application/octet-stream"}),"file.bin");const r=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{authorization:`Bearer ${Mi.JWT_TOKEN}`},body:n}),i=await r.json();if(r.status!==200)throw console.log(r,i),new Error("pinData: failed to pin");return d(Mi,pa).set(i.IpfsHash,e),i.IpfsHash}static async fetchData(e){if(d(Mi,pa).has(e))return d(Mi,pa).get(e);const r=`${Mi.GATEWAY_URL??"https://w3s.link/ipfs"}/${e}`,i=await fetch(r),s=new Uint8Array(await i.arrayBuffer());return d(Mi,pa).set(e,s),s}};pa=new WeakMap,Q(Mi,"JWT_TOKEN","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiIxMzhlMDQ4ZC1hOTM5LTQxNjAtOWUyOC0xZmYzMjY2OTFlZmIiLCJlbWFpbCI6InhpemhhbmdAb2FzaXNsYWJzLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiRlJBMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfSx7ImlkIjoiTllDMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiI2MjdkNmFiY2JmMzQ1ZGI0MDdmNiIsInNjb3BlZEtleVNlY3JldCI6ImI1ZjQzZmYwYjY3NWYzZDZjZWNhNjgyNmQ1OGFiNjQ1ZmM5YmQ1ZTJiYmMwM2E2Nzk4Yjc1NTc3NzI0ODZjZjYiLCJpYXQiOjE2ODE3MDUxODl9.5XgGrUPWBi9EVRUG-fYII-4GuewYgJ6sKsAnu2NWRco"),Q(Mi,"GATEWAY_URL",YC.VITE_IPFS_GATEWAY),$(Mi,pa,new _d({ttl:60*60*5,max:100}));let Q1=Mi;function qC(t){const e=Ye(),n=Kt(t);return hf(n,async()=>e.value=await n.value,{immediate:!0}),e}function ZC(t,e){return indexedDB.cmp(t,e)===0}function XC(t,e){if(e.length<=es.NonceSize+es.TagSize)throw new Error("decrypt: invalid cipherbytes length");if(t.length!=es.KeySize)throw new Error("decrypt: invalid key length");const n=e.slice(0,es.NonceSize),r=new es.AEAD(new Uint8Array(t)).decrypt(n,e.slice(es.NonceSize)),i=d6.create().update(t).update(r).digest();if(!ZC(i.slice(0,es.NonceSize),n))throw new Error("decrypt: invalid nonce");return new TextDecoder().decode(r)}function G9(t,e){const n=XC(t,e);return JSON.parse(n)}function eS(t){const e=new TextEncoder().encode(t),n=window.crypto.getRandomValues(new Uint8Array(es.KeySize)),r=d6.create().update(n).update(e).digest().slice(0,es.NonceSize),i=new Uint8Array([...r,...new es.AEAD(new Uint8Array(n)).encrypt(r,e)]);return{key:n,cipherbytes:i}}function tS(t){return eS(JSON.stringify(t))}const bb=t=>{if(!t)return"";const e=t.replace("0x","");return`${e.slice(0,5)}${e.slice(-5)}`};function nS(t){return new Promise(function(e,n){setTimeout(n.bind(null,t),5e3)})}async function rS(t,e=()=>{},n=10){let r=Promise.reject();for(let i=0;i<n;i++)r=r.catch(()=>t).then(s=>e(s)).catch(nS);return r}function iS(t){let e;const n=Ye(e?e.matches:!1);function r(i){n.value=i.matches}return Yd(()=>{e||(e=window.matchMedia(t)),n.value=e.matches,e.addEventListener("change",r,{capture:!1})}),aw(()=>{e.removeEventListener("change",r)}),n}const sS=t=>(Qd("data-v-8ab7489c"),t=t(),Jd(),t),oS={key:0,class:"account-picker-content"},aS={class:"font-mono font-bold"},cS=["title"],fS={key:1,class:"account-picker-content"},lS=sS(()=>q("span",null,[q("span",null,"Install MetaMask")],-1)),uS=[lS],dS={key:2,class:"account-picker-content"},hS={key:0},bS={key:1},pS=Ar({__name:"AccountPicker",setup(t){const e=Po(),n=Kt(()=>RC(e.network)),r=Kt(()=>e.network===ns.Unknown),i=Ye(!1),s=Ye(!1);async function o(){if(!s.value){window.open("https://metamask.io/download/");return}if(!i.value){i.value=!0;try{await e.connect()}catch(c){console.error(c),s.value=!1}finally{i.value=!1}}}const a=iS("(min-width: 1280px)");return Yd(async()=>{try{await yu()&&(s.value=!0)}catch(c){console.error(c),s.value=!1}}),(c,f)=>(be(),Ae("button",{class:Fs([{"cursor-default":!!Et(e).address,"cursor-pointer":!Et(e).address||!s.value},"account-picker"]),onClick:o},[!i.value&&Et(e).address?(be(),Ae("span",oS,[qe(L9,{size:Et(a)?60:30,address:Et(e).address},null,8,["size","address"]),q("span",aS,[q("abbr",{title:Et(e).address,class:"block no-underline"},Yt(Et(bb)(Et(e).address)),9,cS),Et(a)?(be(),Ae("span",{key:0,class:Fs(["font-normal",{"unk-net":r.value}])},Yt(n.value),3)):St("",!0)])])):s.value?(be(),Ae("span",dS,[q("span",null,[i.value?(be(),Ae("span",hS,"Connecting")):(be(),Ae("span",bS,"Connect Wallet"))])])):(be(),Ae("span",fS,uS))],2))}}),Dr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},gS=Dr(pS,[["__scopeId","data-v-8ab7489c"]]),mS={class:"sticky top-0"},yS={class:"bg-white border-gray-200 p-2 xl:py-4 xl:px-0"},xS={class:"flex flex-wrap justify-between items-center mx-auto max-w-screen-md"},wS=q("img",{src:Iv,class:"h-6 sm:h-9",alt:"Oasis logo"},null,-1),vS=Ar({__name:"AppHeader",setup(t){return(e,n)=>{const r=Tl("RouterLink");return be(),Ae("header",mS,[q("nav",yS,[q("div",xS,[qe(r,{to:"/"},{default:dn(()=>[wS]),_:1}),qe(gS)])])])}}}),ES={class:"py-5 px-2 m-auto max-w-screen-md lg:px-0"},AS=Ar({__name:"App",setup(t){return(e,n)=>(be(),Ae(kn,null,[qe(vS),q("main",ES,[qe(Et(nm),{el:"main"})])],64))}}),Lu=[{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_user",type:"address"}],name:"canManagePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_user",type:"address"},{internalType:"bytes",name:"in_data",type:"bytes"}],name:"canVoteOnPoll",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"onPollClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_creator",type:"address"},{internalType:"bytes",name:"in_data",type:"bytes"}],name:"onPollCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"}],V9="",_S=t=>t.length>1;class $9 extends hi{constructor(...e){_S(e)?super(...e):super(Lu,V9,e[0])}getDeployTransaction(e){return super.getDeployTransaction(e||{})}deploy(e){return super.deploy(e||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Lu)}static connect(e,n){return new Dn(e,Lu,n)}}$9.bytecode=V9;$9.abi=Lu;const Fu=[{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_user",type:"address"}],name:"canManagePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_user",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],name:"canVoteOnPoll",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"onPollClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_creator",type:"address"},{internalType:"bytes",name:"in_data",type:"bytes"}],name:"onPollCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"}],z9="",PS=t=>t.length>1;class j9 extends hi{constructor(...e){PS(e)?super(...e):super(Fu,z9,e[0])}getDeployTransaction(e){return super.getDeployTransaction(e||{})}deploy(e){return super.deploy(e||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Fu)}static connect(e,n){return new Dn(e,Fu,n)}}j9.bytecode=z9;j9.abi=Fu;const Mu=[{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"canCreatePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"canManagePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],name:"canVoteOnPoll",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"onPollClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],name:"onPollCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"}],K9="",TS=t=>t.length>1;class W9 extends hi{constructor(...e){TS(e)?super(...e):super(Mu,K9,e[0])}getDeployTransaction(e){return super.getDeployTransaction(e||{})}deploy(e){return super.deploy(e||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Mu)}static connect(e,n){return new Dn(e,Mu,n)}}W9.bytecode=K9;W9.abi=Mu;const Uu=[{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"canManagePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"in_password",type:"bytes"}],name:"canVoteOnPoll",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"onPollClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"in_password",type:"bytes"}],name:"onPollCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"}],Q9="",IS=t=>t.length>1;class J9 extends hi{constructor(...e){IS(e)?super(...e):super(Uu,Q9,e[0])}getDeployTransaction(e){return super.getDeployTransaction(e||{})}deploy(e){return super.deploy(e||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Uu)}static connect(e,n){return new Dn(e,Uu,n)}}J9.bytecode=Q9;J9.abi=Uu;const Du=[{inputs:[{internalType:"contract StorageProof",name:"in_storageProof",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"canManagePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_user",type:"address"},{internalType:"bytes",name:"in_rlpStorageProof",type:"bytes"}],name:"canVoteOnPoll",outputs:[{internalType:"uint256",name:"out_weight",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"onPollClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"in_data",type:"bytes"}],name:"onPollCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"}],Y9="",CS=t=>t.length>1;class q9 extends hi{constructor(...e){CS(e)?super(...e):super(Du,Y9,e[0])}getDeployTransaction(e,n){return super.getDeployTransaction(e,n||{})}deploy(e,n){return super.deploy(e,n||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Du)}static connect(e,n){return new Dn(e,Du,n)}}q9.bytecode=Y9;q9.abi=Du;const Hu=[{inputs:[{internalType:"contract HeaderCache",name:"in_headerCache",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes32",name:"headerHash",type:"bytes32"},{internalType:"address",name:"accountAddress",type:"address"}],name:"AccountNotFound",type:"error"},{inputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"},{internalType:"address",name:"accountAddress",type:"address"},{internalType:"bytes",name:"rlpAccountProof",type:"bytes"}],name:"add",outputs:[{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"bytes32",name:"storageRoot",type:"bytes32"},{internalType:"bytes32",name:"codeHash",type:"bytes32"}],internalType:"struct AccountCache.Account",name:"account",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"},{internalType:"address",name:"accountAddress",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"},{internalType:"address",name:"accountAddress",type:"address"}],name:"get",outputs:[{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"bytes32",name:"storageRoot",type:"bytes32"},{internalType:"bytes32",name:"codeHash",type:"bytes32"}],internalType:"struct AccountCache.Account",name:"account",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"headerCache",outputs:[{internalType:"contract HeaderCache",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"address",name:"accountAddress",type:"address"},{internalType:"bytes",name:"rlpAccountProof",type:"bytes"}],name:"verifyAccount",outputs:[{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"bytes32",name:"storageRoot",type:"bytes32"},{internalType:"bytes32",name:"codeHash",type:"bytes32"}],internalType:"struct AccountCache.Account",name:"account",type:"tuple"}],stateMutability:"pure",type:"function"}],Z9="",SS=t=>t.length>1;class X9 extends hi{constructor(...e){SS(e)?super(...e):super(Hu,Z9,e[0])}getDeployTransaction(e,n){return super.getDeployTransaction(e,n||{})}deploy(e,n){return super.deploy(e,n||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Hu)}static connect(e,n){return new Dn(e,Hu,n)}}X9.bytecode=Z9;X9.abi=Hu;const Gu=[{inputs:[{internalType:"bytes32",name:"headerHash",type:"bytes32"}],name:"HeaderDataInvalid",type:"error"},{inputs:[{internalType:"bytes32",name:"headerHash",type:"bytes32"}],name:"HeaderNotFound",type:"error"},{inputs:[{internalType:"bytes",name:"headerRlpBytes",type:"bytes"}],name:"add",outputs:[{components:[{internalType:"bytes32",name:"transactionRoot",type:"bytes32"},{internalType:"bytes32",name:"receiptsRoot",type:"bytes32"},{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"uint256",name:"blockTimestamp",type:"uint256"}],internalType:"struct HeaderCache.Header",name:"header",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"headerHash",type:"bytes32"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"rlpBytes",type:"bytes"}],name:"extractHeader",outputs:[{components:[{internalType:"bytes32",name:"transactionRoot",type:"bytes32"},{internalType:"bytes32",name:"receiptsRoot",type:"bytes32"},{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"uint256",name:"blockTimestamp",type:"uint256"}],internalType:"struct HeaderCache.Header",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"headerHash",type:"bytes32"}],name:"get",outputs:[{components:[{internalType:"bytes32",name:"transactionRoot",type:"bytes32"},{internalType:"bytes32",name:"receiptsRoot",type:"bytes32"},{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"uint256",name:"blockTimestamp",type:"uint256"}],internalType:"struct HeaderCache.Header",name:"header",type:"tuple"}],stateMutability:"view",type:"function"}],e4="",kS=t=>t.length>1;class t4 extends hi{constructor(...e){kS(e)?super(...e):super(Gu,e4,e[0])}getDeployTransaction(e){return super.getDeployTransaction(e||{})}deploy(e){return super.deploy(e||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Gu)}static connect(e,n){return new Dn(e,Gu,n)}}t4.bytecode=e4;t4.abi=Gu;const Vu=[{inputs:[{internalType:"contract AccountCache",name:"in_accountCache",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"accountCache",outputs:[{internalType:"contract AccountCache",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"},{internalType:"address",name:"accountAddress",type:"address"},{internalType:"uint256",name:"slot",type:"uint256"},{internalType:"bytes32",name:"key",type:"bytes32"},{internalType:"bytes",name:"rlpStorageProof",type:"bytes"}],name:"verifyStorage",outputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"},{internalType:"address",name:"accountAddress",type:"address"},{internalType:"uint256",name:"slot",type:"uint256"},{internalType:"address",name:"key",type:"address"},{internalType:"bytes",name:"rlpStorageProof",type:"bytes"}],name:"verifyStorage",outputs:[{internalType:"bytes32",name:"data",type:"bytes32"}],stateMutability:"view",type:"function"}],n4="",BS=t=>t.length>1;class r4 extends hi{constructor(...e){BS(e)?super(...e):super(Vu,n4,e[0])}getDeployTransaction(e,n){return super.getDeployTransaction(e,n||{})}deploy(e,n){return super.deploy(e,n||{})}connect(e){return super.connect(e)}static createInterface(){return new or(Vu)}static connect(e,n){return new Dn(e,Vu,n)}}r4.bytecode=n4;r4.abi=Vu;const $u=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DER_Split_Error",type:"error"},{inputs:[],name:"addKeypair_403",type:"error"},{inputs:[],name:"expmod_Error",type:"error"},{inputs:[],name:"internal_keypairByAddress_404",type:"error"},{inputs:[],name:"internal_keypairForGvidByAddress_403",type:"error"},{inputs:[],name:"internal_keypairForGvidByAddress_404",type:"error"},{inputs:[],name:"internal_randomKeypair_404",type:"error"},{inputs:[],name:"k256Decompress_Invalid_Length_Error",type:"error"},{inputs:[],name:"k256DeriveY_Invalid_Prefix_Error",type:"error"},{inputs:[],name:"makeVoteTransaction_401",type:"error"},{inputs:[],name:"makeVoteTransaction_403",type:"error"},{inputs:[],name:"makeVoteTransaction_404",type:"error"},{inputs:[],name:"onPollClosed_404",type:"error"},{inputs:[],name:"onPollCreated_409",type:"error"},{inputs:[],name:"proxy_403",type:"error"},{inputs:[],name:"proxy_500",type:"error"},{inputs:[],name:"recoverV_Error",type:"error"},{inputs:[],name:"withdraw_401",type:"error"},{inputs:[],name:"withdraw_403",type:"error"},{inputs:[],name:"withdraw_404",type:"error"},{inputs:[],name:"withdraw_412",type:"error"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"EIP712_DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTINGREQUEST_TYPE",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTINGREQUEST_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"addKeypair",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"listAddresses",outputs:[{internalType:"address[]",name:"out_addrs",type:"address[]"},{internalType:"uint256[]",name:"out_balances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"in_addr",type:"address"},{internalType:"uint64",name:"in_nonce",type:"uint64"},{internalType:"uint256",name:"in_gasPrice",type:"uint256"},{components:[{internalType:"address",name:"voter",type:"address"},{internalType:"address",name:"dao",type:"address"},{internalType:"bytes32",name:"proposalId",type:"bytes32"},{internalType:"uint256",name:"choiceId",type:"uint256"}],internalType:"struct VotingRequest",name:"in_request",type:"tuple"},{internalType:"bytes",name:"in_data",type:"bytes"},{components:[{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"v",type:"uint256"}],internalType:"struct SignatureRSV",name:"in_rsv",type:"tuple"}],name:"makeVoteTransaction",outputs:[{internalType:"bytes",name:"output",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"onPollClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_creator",type:"address"}],name:"onPollCreated",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"ciphertextNonce",type:"bytes32"},{internalType:"bytes",name:"ciphertext",type:"bytes"}],name:"proxy",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_keypairAddress",type:"address"},{internalType:"uint64",name:"in_nonce",type:"uint64"},{internalType:"uint256",name:"in_amount",type:"uint256"},{internalType:"uint256",name:"in_gasPrice",type:"uint256"},{components:[{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"v",type:"uint256"}],internalType:"struct SignatureRSV",name:"rsv",type:"tuple"}],name:"withdraw",outputs:[{internalType:"bytes",name:"transaction",type:"bytes"}],stateMutability:"view",type:"function"}],i4="0x60c0346200025057602090818101917f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f83526040907f84970449d770bce523626a1422f53c7dae4c965a54338bf5f35ff3d45ee58331828401527fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c672f298b8bc6606084015260809246848201523060a082015260a0815260c081019460018060401b0390828710828811176200023a578685528251902060a05260e09160e08101878110838211176200023a57855260009283885285519185830198868a5287808501525191826060850152855b83811062000226575050508697826200012289828589601f9c9d81999882990101528b199b8c910116810103606081018452018262000255565b51907301000000000000000000000000000000000000015afa903d156200021b573d90811162000207576200016184875196601f840116018662000255565b84523d828486013e5b15620001c3575080825192015191818110620001b1575b50508252516125b991826200027a8339518181816109f6015261106d015260a0518181816106190152610fbd0152f35b600019910360031b1b16388062000181565b835162461bcd60e51b815260048101839052601360248201527f72616e646f6d42797465733a206661696c6564000000000000000000000000006044820152606490fd5b634e487b7160e01b83526041600452602483fd5b50606093506200016a565b8281018201518582018b01528701620000e8565b634e487b7160e01b600052604160045260246000fd5b600080fd5b601f909101601f19168101906001600160401b038211908210176200023a5760405256fe6080604052600436101561001257600080fd5b60003560e01c806301ffc9a7146100d7578063048b673d146100d25780631172c20d146100cd5780633644e515146100c85780633ea5cde3146100c35780638d74950e146100be578063b40c43f2146100b9578063b500455c146100b4578063c09c1b23146100af578063c7977be7146100aa578063e872c065146100a55763fb227358146100a057600080fd5b610c41565b610b0d565b610ad2565b61095c565b6108c9565b610826565b6107c3565b6106b7565b610601565b6105d8565b6101ef565b3461012d57602036600319011261012d5760043563ffffffff60e01b811680910361012d576020906301ffc9a760e01b811490811561011c575b506040519015158152f35b63d006103760e01b14905038610111565b600080fd5b6001600160a01b0381160361012d57565b606435906001600160401b038216820361012d57565b602435906001600160401b038216820361012d57565b60609060c319011261012d5760c490565b60609061010319011261012d5761010490565b60005b8381106101a65750506000910152565b8181015183820152602001610196565b906020916101cf81518092818552858086019101610193565b601f01601f1916010190565b9060206101ec9281815201906101b6565b90565b3461012d5761012036600319011261012d5760043561020d81610132565b60243560443561021c81610132565b610224610143565b9261022e3661016f565b9061025f6001610251610241878561131a565b6000526000602052604060002090565b01546001600160a01b031690565b926001600160a01b039283851692831561043157604080513060208083019182526001600160a01b03949094168284015260608083019a909a52988152909791926000929091601f1991906102b56080826104ca565b519020906103038a5191826102f78882019586603c917f19457468657265756d205369676e6564204d6573736167653a0a3332000000008252601c8201520190565b039081018352826104ca565b519020885190815260ff828a01351660208201528135604082015290830135606082015281805260809060015afa1561042c576000516001600160a01b0316820361041b579061035560019392611351565b9301549182160361040a5760a01c60ff16156103f957926103ea91846103ca600261038c60016103f599015460018060a01b031690565b920154926103aa61039b6104eb565b6001600160401b039096168652565b60a43560208601526203d090878601526001600160a01b03166060850152565b60843560808401526103da61052f565b60a08401524660c08401526114bc565b9051918291826101db565b0390f35b8251632180a97d60e21b8152600490fd5b8351630502161760e31b8152600490fd5b84516371ae5fd560e01b8152600490fd5b610c71565b60405163ef41354b60e01b8152600490fd5b634e487b7160e01b600052604160045260246000fd5b606081019081106001600160401b0382111761047457604052565b610443565b604081019081106001600160401b0382111761047457604052565b60e081019081106001600160401b0382111761047457604052565b602081019081106001600160401b0382111761047457604052565b90601f801991011681019081106001600160401b0382111761047457604052565b604051906104f882610494565b565b604051906104f882610459565b604051906104f882610479565b6001600160401b03811161047457601f01601f191660200190565b6040519061053c826104af565b60008252565b60405190608082018281106001600160401b0382111761047457604052604c82526b35362063686f69636549642960a01b6060837f566f74696e6752657175657374286164647265737320766f7465722c6164647260208201527f6573732064616f2c627974657333322070726f706f73616c49642c75696e743260408201520152565b6105ce610542565b6020815191012090565b3461012d57600036600319011261012d5760206105f3610542565b818151910120604051908152f35b3461012d57600036600319011261012d5760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b6040810190604081528251809252606081019160208094019060005b81811061069a575050508281830391015281808451928381520193019160005b828110610686575050505090565b835185529381019392810192600101610678565b82516001600160a01b031685529385019391850191600101610658565b3461012d57604036600319011261012d576004356106d481610132565b60606106e56060926024359061131a565b6000526000602052600260406000200180548061070e575b50506103f56040519283928361063c565b61071c919350809250610c7d565b9061072a60405192836104ca565b808252601f1961073982610c7d565b013660208401378161074a82610c94565b9360005b83811061075c5750506106fd565b806107b161076c60019385610cdc565b508301548390610798906001600160a01b03166107898589610d8c565b6001600160a01b039091169052565b6107a28386610cdc565b5001546001600160a01b031690565b316107bc8289610d8c565b520161074e565b3461012d57602036600319011261012d576107e06004353361131a565b600090815260208190526040902080546001600160a01b03161561081457600101805460ff60a01b1916600160a01b179055005b60405163258bff8960e11b8152600490fd5b604036600319011261012d5761084a60043561084181610132565b6024359061131a565b6000908082528160205260018060a01b038060016040852001541633036108b75761088461087884936116c0565b6001600160a01b031690565b90341590811561089357505050f35b83928392839283916108ad575b34921690f11561042c5780f35b6108fc91506108a0565b604051632534872360e11b8152600490fd5b3461012d5761016036600319011261012d576004356108e781610132565b6108ef610159565b90608036606319011261012d5760e4356001600160401b0380821161012d573660238301121561012d57816004013590811161012d57366024828401011161012d576103f59361095093602461094436610180565b94019160443591610ea5565b604051918291826101db565b60408060031936011261012d57602435906001600160401b03821161012d573660238301121561012d5781600401359161099583610514565b6109a1835191826104ca565b838152602093366024828501011161012d57806024869401848401376000948591830101526109cf33611351565b90505415610ac157838091610a1b610a296109e861052f565b8751928391888301956004357f000000000000000000000000000000000000000000000000000000000000000088611871565b03601f1981018352826104ca565b51906004600160981b015afa610a3d61129d565b9015610a8c5781610a58828287958695518301019101611267565b805192019034906001600160a01b03165af1610a7261129d565b5015610a7c575080f35b5163084fe5d360e21b8152600490fd5b50606491519062461bcd60e51b82526004820152600f60248201526e191958dc9e5c1d0e8819985a5b1959608a1b6044820152fd5b8251636656393b60e01b8152600490fd5b3461012d57600036600319011261012d5760206040517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f8152f35b604036600319011261012d57602435610b2581610132565b6040516301ffc9a760e01b8152631b8d580b60e21b6004820152602081602481335afa801561042c57610b6091600091610c12575b506112e5565b610b6c6004353361131a565b90610b81826000526000602052604060002090565b80546001600160a01b0316610c00576001810180546001600160a01b0319166001600160a01b0390931692909217909155610bc89080546001600160a01b03191633179055565b3415908115610bd357005b6000808093610be561087883956116c0565b8291610bf6575b3491f11561042c57005b6108fc9150610bec565b60405163509ccc2b60e11b8152600490fd5b610c34915060203d602011610c3a575b610c2c81836104ca565b8101906112cd565b38610b5a565b503d610c22565b3461012d57600036600319011261012d576103f5610c5d610542565b6040519182916020835260208301906101b6565b6040513d6000823e3d90fd5b6001600160401b0381116104745760051b60200190565b90610c9e82610c7d565b610cab60405191826104ca565b8281528092610cbc601f1991610c7d565b0190602036910137565b634e487b7160e01b600052603260045260246000fd5b8054821015610cf8576000526003602060002091020190600090565b610cc6565b805115610cf85760200190565b805160011015610cf85760400190565b805160021015610cf85760600190565b805160031015610cf85760800190565b805160041015610cf85760a00190565b805160051015610cf85760c00190565b805160061015610cf85760e00190565b805160071015610cf8576101000190565b805160081015610cf8576101200190565b8051821015610cf85760209160051b010190565b6084356101ec81610132565b6064356101ec81610132565b9081602091031261012d575190565b908060209392818452848401376000828201840152601f01601f1916010190565b9081526001600160a01b0390911660208201526060604082018190526101ec93910191610dc7565b90604051610e1d81610459565b8254815260018301546001600160a01b031660208201526002909201546040830152565b90926080926101ec969460018060a01b03168352602083015260408201528160608201520191610dc7565b6001600160a01b0390911681526040602082018190526101ec929101906101b6565b6040906101ec9392815281602082015201906101b6565b949190939294610ebf610eb6610da0565b60a4359061131a565b92610ee4610ed7856000526000602052604060002090565b546001600160a01b031690565b916001600160a01b038316156112135785602089610f00610dac565b610f2160405194859384936307f94c8560e51b855260a43560048601610de8565b03816001600160a01b0388165afa90811561042c576000916111e4575b50156111d257610f4c6105c6565b92610f55610dac565b98610f5e610da0565b60408051602081019788526001600160a01b039c8d16918101919091529a1660608b015260a43560808b015260c43560a0808c018290528b5299601f199590610fa860c0826104ca565b51902060405161190160f01b602082019081527f00000000000000000000000000000000000000000000000000000000000000006022830152604282019290925260628781018252610ffa90826104ca565b519020936020600061103d61100d610dac565b604080518a81528187013560ff166020820152863591810191909152948401356060860152939081906080820190565b838052039060015afa1561042c576000516001600160a01b03166001600160a01b03909116036111c057604080517f00000000000000000000000000000000000000000000000000000000000000006020820181815292820196909652606087810182526110ab90826104ca565b5190209687936110ba916117ef565b6110c390610e10565b6020810151909a906001600160a01b03169a60400151986110e2610dac565b60405163f851899560e01b6020820152938493611107939260a4359060248701610e41565b03858101825261111790826104ca565b60405191829161112a9160208401610e6c565b03848101825261113a90826104ca565b61114261052f565b9161114c936118a1565b60405163c09c1b2360e01b602082015293849161116c9160248401610e8e565b03908101835261117c90836104ca565b6111846104eb565b6001600160401b03909416845260208401526203d09060408401523060608401526000608084015260a08301524660c08301526101ec926114bc565b6040516360d2e34560e11b8152600490fd5b60405163e8934eb960e01b8152600490fd5b611206915060203d60201161120c575b6111fe81836104ca565b810190610db8565b38610f3e565b503d6111f4565b60405163144195c160e21b8152600490fd5b81601f8201121561012d57805161123b81610514565b9261124960405194856104ca565b8184526020828401011161012d576101ec9160208085019101610193565b91909160408184031261012d57805161127f81610132565b9260208201516001600160401b03811161012d576101ec9201611225565b3d156112c8573d906112ae82610514565b916112bc60405193846104ca565b82523d6000602084013e565b606090565b9081602091031261012d5751801515810361012d5790565b156112ec57565b60405162461bcd60e51b815260206004820152600660248201526545524331363560d01b6044820152606490fd5b906040519060208201926bffffffffffffffffffffffff199060601b16835260348201526034815261134b81610459565b51902090565b60018060a01b0316600052600160205260406000209060405161137381610479565b600183549384835201549260208201938452156113aa575160005260006020526113a66040600020925160028401610cdc565b5090565b604051631eba50e360e01b8152600490fd5b634e487b7160e01b600052601160045260246000fd5b601a198101919082116113e157565b6113bc565b6000198101919082116113e157565b60200390602082116113e157565b6401000003d019908103919082116113e157565b919082039182116113e157565b908160011b91808304600214901517156113e157565b600381901b91906001600160fd1b038116036113e157565b908160081b9180830461010014901517156113e157565b90602382018092116113e157565b60040190816004116113e157565b90600182018092116113e157565b90600482018092116113e157565b90600282018092116113e157565b919082018092116113e157565b92916114c6611914565b5060c08101805194604095600080886115906115b36114fe83516114e981610459565b8581526020978689830152858201528a61198e565b83516115268882816115198183019687815193849201610193565b81010380845201826104ca565b51902099611532611914565b508351908782015286815261154681610479565b8351908b8883015287825261155a82610479565b6102f78551611568816104af565b8781526115a3875196879460808d87019a6115838c60049052565b87015260a08601906101b6565b601f1995868683030160608701526101b6565b90848483030160808501526101b6565b51906006600160981b015afa906115c861129d565b911561161857506101ec95966115ef611611936115e761160c946120eb565b9788916122bd565b8501926116066115ff85516113d2565b9151611424565b906114af565b611469565b905261198e565b60649088519062461bcd60e51b82526004820152600c60248201526b1cda59db8e8819985a5b195960a21b6044820152fd5b8054680100000000000000008110156104745761166c91600182018155610cdc565b9190916116aa578051825560208101516001830180546001600160a01b0319166001600160a01b039290921691909117905560029060400151910155565b634e487b7160e01b600052600060045260246000fd5b60409060008083516116d1816104af565b81815284516116f581610a1b602082019460208652898084015260608301906101b6565b51906001600160981b015afa61170961129d565b90156117b557906117788261177261173561172f61172961087897611af5565b93611ef9565b50611fdd565b95600261174c866000526000602052604060002090565b01926117566104fa565b8681526001600160a01b0389166020820152918201528261164a565b546113e6565b611780610507565b91825260208201526117a48360018060a01b03166000526001602052604060002090565b906020600191805184550151910155565b825162461bcd60e51b81526020600482015260136024820152721c985b991bdb509e5d195cce8819985a5b1959606a1b6044820152606490fd5b9060018060a01b0316600052600160205260406000206040519161181283610479565b6001825492838552015491602084019283520361185f5781511561184d576113a6915160005260006020526002604060002001905190610cdc565b60405163b89af2e560e01b8152600490fd5b60405163e3fbdf0360e01b8152600490fd5b926101ec949261189392855260208501526080604085015260808401906101b6565b9160608184039101526101b6565b90916118c060009493610a1b8695604051948593602085019788611871565b51906003600160981b015afa6118d461129d565b90156118dd5790565b60405162461bcd60e51b815260206004820152600f60248201526e195b98dc9e5c1d0e8819985a5b1959608a1b6044820152606490fd5b6040519061192182610459565b60006040838281528260208201520152565b9061194660209282815194859201610193565b0190565b6040519061014082018281106001600160401b0382111761047457604052600982528160005b610120811061197d575050565b806060602080938501015201611970565b611adc60206101ec93611a8260a06119a461194a565b956119cd6119c86119bc83516001600160401b031690565b6001600160401b031690565b611b18565b6119d688610cfd565b526119e087610cfd565b506119ed85820151611b18565b6119f688610d0a565b52611a0087610d0a565b50611a1b6119c86119bc60408401516001600160401b031690565b611a2488610d1a565b52611a2e87610d1a565b506060810151611a46906001600160a01b0316611bda565b611a4f88610d2a565b52611a5987610d2a565b50611a676080820151611b18565b611a7088610d3a565b52611a7a87610d3a565b500151611c5d565b611a8b85610d4a565b52611a9584610d4a565b50611aa36040820151611b18565b611aac85610d5a565b52611ab684610d5a565b50611ac18151611b18565b611aca85610d6a565b52611ad484610d6a565b500151611b18565b611ae582610d7b565b52611aef81610d7b565b50611dd0565b602081519101519060208110611b09575090565b6000199060200360031b1b1690565b90604051611b3381610a1b6020956020830160209181520190565b6000926000905b808210611ba9575b50611b54611b4f826113f5565b6123ca565b9160005b8351811015611b9b57600190611b88611b7a611b73866123f2565b9585611c4c565b516001600160f81b03191690565b871a611b948287611c4c565b5301611b58565b5050506101ec919250611c5d565b90611bc7611bba611b7a8386611c4c565b6001600160f81b03191690565b611bd45760010190611b3a565b90611b42565b6101ec90604051906bffffffffffffffffffffffff199060601b16602082015260148152611c0781610479565b611c5d565b805160021015610cf85760220190565b805160011015610cf85760210190565b805160031015610cf85760230190565b805160041015610cf85760240190565b908151811015610cf8570160200190565b90600091805192600193600181149081611db8575b5015611c7d57509150565b8151936038851015611ce1575092610a1b6101ec92611cdb9495611cbe611cae60ff611ca7612398565b9616612433565b60f81b6001600160f81b03191690565b901a611cc984610cfd565b535b6040519485936020850190611933565b90611933565b9091908290600190805b611d88575b5050611cfe611b4f82611485565b92611d16611cae611d1160ff8516612433565b612421565b811a611d2185610cfd565b5360015b82811115611d4357505050611cdb92935090610a1b6101ec92611ccb565b80611d71611cae611d6b611d6b611d65611d60611d83978a611417565b612457565b8c612401565b60ff1690565b831a611d7d8288611c4c565b536123f2565b611d25565b9091611d948388612401565b15611db257611da5611dab916123f2565b92611452565b9080611ceb565b91611cf0565b905015610cf8576080602083015160f81c1038611c72565b611dd990612466565b805160006038821015611e4a575060206101ec91611e04611cae60ff611dfd612398565b9316612445565b60001a611e1082610cfd565b535b6040519381611e2a8693518092868087019101610193565b8201611e3e82518093868085019101610193565b010380845201826104ca565b909260019290915b611e5c8486612401565b15611e7957611e6d611e73916123f2565b93611452565b92611e52565b909250929092611e8b611b4f82611485565b91611e9e611cae611d1160ff8516612445565b60001a611eaa84610cfd565b5360015b82811115611ec45750505060206101ec91611e12565b80611ee7611cae611d6b611d6b611ee1611d60611ef4978a611417565b87612401565b60001a611d7d8287611c4c565b611eae565b906040908151602090611f2081610a1b8482019760048952878084015260608301906101b6565b51600094859182916005600160981b015afa90611f3b61129d565b9115611f9a5781518201918481838501940312611f965781810151906001600160401b0391828111611f92578484611f7592840101611225565b95810151918211611f8e576101ec949596500101611225565b8680fd5b8780fd5b8580fd5b60649084519062461bcd60e51b82526004820152601b60248201527f67656e207369676e696e67206b6579706169723a206661696c656400000000006044820152fd5b60218151036120d957602181015190805115610cf8576020015160f81c60006002821415806120ce575b6120bc57806401000003d019604051602081019160208352602060408301526020606083015280600781808a80098a0908608083015263400000f4600160fe1b0360a083015260c080830191909152815261206181610494565b519060055afa9161207061129d565b92156120aa5761209561208f6120886101ec95611af5565b93846114af565b60011690565b156124fe57906120a490611403565b906124fe565b60405163102875ed60e01b8152600490fd5b60405163ab4be04160e01b8152600490fd5b506003821415612007565b604051636446a2c560e11b8152600490fd5b906120f4611914565b916008815110612285576001600160f81b0319600360fc1b81612119611b7a85610cfd565b160361228557600160f91b8082612132611b7a86611c0c565b160361228557612150611d6b61214a611b7a86611c1c565b60f81c90565b91612163611d6b61214a611b7a87611c2c565b92602184116122855761217584611477565b90612191611d6b61214a611b7a61218b86611485565b8a611c4c565b9360218511612285576121aa611bba611b7a858a611c4c565b0361228557806121c26121bd86886114af565b611493565b03612285576121d28651916114a1565b03612285576121e0906114a1565b9060049060218514612297575b60218414612252575b5090602080928601015194010151916020811061223b575b5060208110612223575b509083526020830152565b61222f612234916113f5565b61143a565b1c38612218565b61222f61224a919492946113f5565b1c913861220e565b612262611b7a8488969496611c4c565b1661228557602061227c6122768294611485565b926113e6565b939192506121f6565b6040516386cd05c560e01b8152600490fd5b809491506122a7611b7a87611c3c565b16612285576122b76005916113e6565b936121ed565b916040810190601b8252805192602082019060206122f9835160405197848960609194939260808201958252601b602083015260408201520152565b866000978892838052039060015afa1561042c5784516001600160a01b03968716961686900361232c575b505050505050565b61235e8593601c602096525192516040519384938460609194939260808201958252601c602083015260408201520152565b838052039060015afa1561042c57516001600160a01b03160361238657388080808080612324565b604051634532600d60e01b8152600490fd5b604051906123a582610479565b6001825260203681840137565b6040516123be816104af565b60008152906000368137565b906123d482610514565b6123e160405191826104ca565b8281528092610cbc601f1991610514565b60001981146113e15760010190565b811561240b570490565b634e487b7160e01b600052601260045260246000fd5b60ff60379116019060ff82116113e157565b60ff60809116019060ff82116113e157565b60ff60c09116019060ff82116113e157565b601f81116113e1576101000a90565b8051156124f55790600091825b815184101561249c5761249460019161248c8685610d8c565b5151906114af565b930192612473565b6124a8919293506123ca565b906020808301936000945b83518610156124ed576124e56001916124db6124cf8988610d8c565b5186815191018361252b565b61248c8887610d8c565b9501946124b3565b509350505090565b506101ec6123b2565b604051916020830191825260408301526040825261251b82610459565b905190206001600160a01b031690565b92905b60209384841061256357815181528481018091116113e1579381018091116113e15791601f1981019081116113e1579161252e565b9290919350600019906020036101000a019081199051169082511617905256fea26469706673582212200e7751695e89376f091984777cb1d1da2a4b48ec91e9d092b5722583b98c8c9064736f6c63430008170033",RS=t=>t.length>1;class pb extends hi{constructor(...e){RS(e)?super(...e):super($u,i4,e[0])}getDeployTransaction(e){return super.getDeployTransaction(e||{})}deploy(e){return super.deploy(e||{})}connect(e){return super.connect(e)}static createInterface(){return new or($u)}static connect(e,n){return new Dn(e,$u,n)}}pb.bytecode=i4;pb.abi=$u;const zu=[{inputs:[{internalType:"contract IPollManagerACL",name:"in_managerACL",type:"address"},{internalType:"contract IGaslessVoter",name:"in_gaslessVoter",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"Close_NotActive",type:"error"},{inputs:[],name:"Close_NotAllowed",type:"error"},{inputs:[],name:"Create_AlreadyExists",type:"error"},{inputs:[],name:"Create_InvalidACL",type:"error"},{inputs:[],name:"Create_NoChoices",type:"error"},{inputs:[],name:"Create_NotAllowed",type:"error"},{inputs:[],name:"Create_TooManyChoices",type:"error"},{inputs:[],name:"Poll_NotActive",type:"error"},{inputs:[],name:"Poll_NotPublishingVotes",type:"error"},{inputs:[],name:"Poll_StillActive",type:"error"},{inputs:[],name:"Vote_NotActive",type:"error"},{inputs:[],name:"Vote_NotAllowed",type:"error"},{inputs:[],name:"Vote_UnknownChoice",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"topChoice",type:"uint256"}],name:"ProposalClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ProposalCreated",type:"event"},{inputs:[],name:"GASLESS_VOTER",outputs:[{internalType:"contract IGaslessVoter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_CHOICES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"PAST_PROPOSALS",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"PROPOSALS",outputs:[{internalType:"bool",name:"active",type:"bool"},{internalType:"uint8",name:"topChoice",type:"uint8"},{components:[{internalType:"string",name:"ipfsHash",type:"string"},{internalType:"bytes32",name:"ipfsSecret",type:"bytes32"},{internalType:"uint8",name:"numChoices",type:"uint8"},{internalType:"bool",name:"publishVotes",type:"bool"},{internalType:"uint64",name:"closeTimestamp",type:"uint64"},{internalType:"contract IPollACL",name:"acl",type:"address"}],internalType:"struct PollManager.ProposalParams",name:"params",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_id",type:"bytes32"}],name:"ballotIsActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_voter",type:"address"},{internalType:"bytes",name:"in_data",type:"bytes"}],name:"canVoteOnPoll",outputs:[{internalType:"uint256",name:"out_weight",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"close",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"string",name:"ipfsHash",type:"string"},{internalType:"bytes32",name:"ipfsSecret",type:"bytes32"},{internalType:"uint8",name:"numChoices",type:"uint8"},{internalType:"bool",name:"publishVotes",type:"bool"},{internalType:"uint64",name:"closeTimestamp",type:"uint64"},{internalType:"contract IPollACL",name:"acl",type:"address"}],internalType:"struct PollManager.ProposalParams",name:"in_params",type:"tuple"},{internalType:"bytes",name:"in_aclData",type:"bytes"}],name:"create",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getACL",outputs:[{internalType:"contract IPollManagerACL",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"in_offset",type:"uint256"},{internalType:"uint256",name:"in_limit",type:"uint256"}],name:"getActiveProposals",outputs:[{internalType:"uint256",name:"out_count",type:"uint256"},{components:[{internalType:"bytes32",name:"id",type:"bytes32"},{components:[{internalType:"bool",name:"active",type:"bool"},{internalType:"uint8",name:"topChoice",type:"uint8"},{components:[{internalType:"string",name:"ipfsHash",type:"string"},{internalType:"bytes32",name:"ipfsSecret",type:"bytes32"},{internalType:"uint8",name:"numChoices",type:"uint8"},{internalType:"bool",name:"publishVotes",type:"bool"},{internalType:"uint64",name:"closeTimestamp",type:"uint64"},{internalType:"contract IPollACL",name:"acl",type:"address"}],internalType:"struct PollManager.ProposalParams",name:"params",type:"tuple"}],internalType:"struct PollManager.Proposal",name:"proposal",type:"tuple"}],internalType:"struct PollManager.ProposalWithId[]",name:"out_proposals",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"in_offset",type:"uint256"},{internalType:"uint256",name:"in_limit",type:"uint256"}],name:"getPastProposals",outputs:[{internalType:"uint256",name:"out_count",type:"uint256"},{components:[{internalType:"bytes32",name:"id",type:"bytes32"},{components:[{internalType:"bool",name:"active",type:"bool"},{internalType:"uint8",name:"topChoice",type:"uint8"},{components:[{internalType:"string",name:"ipfsHash",type:"string"},{internalType:"bytes32",name:"ipfsSecret",type:"bytes32"},{internalType:"uint8",name:"numChoices",type:"uint8"},{internalType:"bool",name:"publishVotes",type:"bool"},{internalType:"uint64",name:"closeTimestamp",type:"uint64"},{internalType:"contract IPollACL",name:"acl",type:"address"}],internalType:"struct PollManager.ProposalParams",name:"params",type:"tuple"}],internalType:"struct PollManager.Proposal",name:"proposal",type:"tuple"}],internalType:"struct PollManager.ProposalWithId[]",name:"out_proposals",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"proposalId",type:"bytes32"}],name:"getPollACL",outputs:[{internalType:"contract IPollACL",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"}],name:"getVoteCounts",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"address",name:"in_voter",type:"address"}],name:"getVoteOf",outputs:[{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"uint8",name:"choice",type:"uint8"}],internalType:"struct PollManager.Choice",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"uint256",name:"in_offset",type:"uint256"},{internalType:"uint256",name:"in_limit",type:"uint256"}],name:"getVotes",outputs:[{internalType:"uint256",name:"out_count",type:"uint256"},{internalType:"address[]",name:"out_voters",type:"address[]"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"uint8",name:"choice",type:"uint8"}],internalType:"struct PollManager.Choice[]",name:"out_choices",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"in_voter",type:"address"},{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"uint8",name:"in_choiceId",type:"uint8"},{internalType:"bytes",name:"in_data",type:"bytes"}],name:"proxy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"in_proposalId",type:"bytes32"},{internalType:"uint8",name:"in_choiceId",type:"uint8"},{internalType:"bytes",name:"in_data",type:"bytes"}],name:"vote",outputs:[],stateMutability:"nonpayable",type:"function"}],s4="0x60c0346100a157601f611fcf38819003918201601f19168301916001600160401b038311848410176100a65780849260409485528339810103126100a15780516001600160a01b039182821682036100a1576020015191821682036100a15760805260a052604051611f1290816100bd82396080518181816103aa0152611438015260a0518181816101920152818161083a0152818161110d015261147d0152f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe608080604052600436101561001357600080fd5b600090813560e01c90816301ffc9a7146114ac5750806307805ec31461146757806308737695146114225780630879a534146113675780630c24af801461127357806339c79e0c14610fab5780635f98ac7814610f7c578063613e0f8c14610f435780636dea101c14610f0a578063782fb5d414610df25780638732765714610d98578063c404a06414610b36578063ce3ebf9114610336578063d4c0ed3e1461031a578063d50b2843146102ca578063f429273b146101e3578063f85189951461013a5763ff2990a0146100e757600080fd5b3461013757606036600319011261013757610100611501565b90604435906001600160401b03821161013757602061012f8461012636600487016118a8565b91600435611ab7565b604051908152f35b80fd5b5034610137576080366003190112610137576004356001600160a01b0380821682036101de576044359060ff821682036101de576064356001600160401b0381116101da5761018d9036906004016118a8565b9290917f00000000000000000000000000000000000000000000000000000000000000001633036101c8576101c59360243590611bde565b80f35b6040516305c1721760e41b8152600490fd5b8480fd5b600080fd5b5034610137576102056101f536611517565b60045491939192839082866118e3565b116102ba575b6102148161192a565b936000198401848111845b84811061023957604051806102358a8a836115c0565b0390f35b816102a6578061025c6102576001936102528888611906565b611906565b611661565b90549060031b1c808852602083815261028660408a206040519361027f85611737565b84526119ce565b90820152610294828b611a03565b5261029f818a611a03565b500161021f565b634e487b7160e01b86526011600452602486fd5b506102c58383611906565b61020b565b50346101375760603660031901126101375760243560ff811681036101de57604435906001600160401b0382116103165761030c6101c59236906004016118a8565b9160043533611bde565b8280fd5b5034610137578060031936011261013757602060405160088152f35b5060031960403682011261096a576001600160401b036004351161096a5760c060043536039182011261096a576024356001600160401b038111610316576103829036906004016118a8565b60405160016290108360e01b03198152306004820152336024820152919290916020816044817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610afa578591610b17575b5015610b0557602460206001600160a01b0361040260043560a401611a3f565b6040516301ffc9a760e01b815263b91f535b60e01b600482015293849290918391165afa908115610afa578591610acb575b5015610ab95760ff61044a604460043501611a53565b1615610aa757600860ff610462604460043501611a53565b1611610a955760405190336020830152606060408301526022190160043560040135121561098d5760043560043560040135016001600160401b036004820135116101da576004810135360360248201136101da57816105616104dd61056f9360c06080850152610140840190602460048201359101611a61565b6024600435013560a084015260ff6104f96044600435016118d5565b1660c084015261050d606460043501611a82565b151560e08401526001600160401b0361052a608460043501611a8f565b166101008401526001600160a01b0361054760043560a401611aa3565b16610120840152828103601f190160608401528587611a61565b03601f19810183528261179b565b6020815191012092838152600160205260ff604082205416610a835760405161059781611765565b600181528160208201526040516105ad81611780565b6001600160401b036004356004013511610316573660236004356004013560043501011215610316576001600160401b03600480358082013501013511610a6f5760405161060f6004803580820135010135601f01601f19166020018261179b565b600480358082013501908101358083523691016024011161098d576004803580820135019081013590602401602083013783602060048035810135813501013583010152815260246004350135602082015261066f6044600435016118d5565b6040820152610682606460043501611a82565b6060820152610695608460043501611a8f565b60808201526106a860a460043501611aa3565b60a082015260408281019182528684526001602090815290842083518154929094015161ffff1990921693151560ff169390931760089190911b61ff0016178255519081518051906001600160401b038211610a5b5761070b60018401546116fd565b601f8111610a16575b50602090601f83116001146109a757600393929186918361099c575b505060001982851b1c1916600191821b17908201555b60208301516002820155019060ff6040820151169082549161ff006060830151151560081b169069ffffffffffffffff0000608084015160101b169260a0600160501b600160f01b0391015160501b169361ffff60f01b161717171790556107ad84611e76565b5083815280602052604081209360405160208101903060601b82523360601b6034820152602881526107de81611765565b51902092836002870155825b60ff6107fa604460043501611a53565b1681101561083557808561082d61081660019460038c01611a2f565b819391549060031b91821b91600019901b19161790565b9055016107ea565b5084837f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316803b1561096a57816044916040519283809263e872c06560e01b825289600483015233602483015234905af1801561099157610979575b506001600160a01b0390506108b260043560a401611a3f565b166108ec575b6020837f288a29bca04edb18fcdb2c76d6e3b03b8a137c85c70d1a4cb8aacfa868d6051082604051838152a1604051908152f35b83906001600160a01b0361090460043560a401611a3f565b16803b1561031657610941938360405180968195829463c60e204760e01b84528a6004850152336024850152606060448501526064840191611a61565b03925af1801561096e57610956575b806108b8565b6109608391611752565b61096a5781610950565b5080fd5b6040513d85823e3d90fd5b61098290611752565b61098d578385610899565b8380fd5b6040513d84823e3d90fd5b015190503880610730565b906001840186526020862091865b601f19851681106109fe575091839160019360039695601f198116106109e6575b505050811b016001820155610746565b015160001983871b60f8161c191690553880806109d6565b919260206001819286850151815501940192016109b5565b60018401865260208620601f840160051c810160208510610a54575b601f830160051c82018110610a48575050610714565b60008155600101610a32565b5080610a32565b634e487b7160e01b85526041600452602485fd5b634e487b7160e01b83526041600452602483fd5b604051637830599760e11b8152600490fd5b60405163b3aaf68560e01b8152600490fd5b604051630f922a5760e01b8152600490fd5b6040516376c8e1c760e01b8152600490fd5b610aed915060203d602011610af3575b610ae5818361179b565b810190611a17565b38610434565b503d610adb565b6040513d87823e3d90fd5b60405163537f370960e01b8152600490fd5b610b30915060203d602011610af357610ae5818361179b565b386103e2565b50346101375760603660031901126101375760243560443591600435815260019260208481526040832092808252604081209260ff9060039560ff600382015460081c1615610d86575460ff16610d74578785019485549283610b99848b6118e3565b11610d62575b610baf839a989a97969597611913565b99610bbd6040519b8c61179b565b838b52610bc984611913565b601f1997908801895b818110610d31575050610be485611913565b9a610bf26040519c8d61179b565b858c52610bfe86611913565b8c89019901368a37895b868110610ca95750505050505050604051956060870191875260608388015251809152608086019290845b818110610c8d5750505084820360408601528080875193848152019601925b828110610c5f5785870386f35b9091929382604088610c80849a895160ff6020809280518552015116910152565b0197950193929101610c52565b82516001600160a01b0316855293830193918301918601610c33565b9a8b86829f9d8f908f918d9e9f9d82610d23948c610d1d938d610cd78e610cd18f88906118e3565b906116e5565b60018060a09493941b039254911b1c16988960005281526040600020918b60405193610d0285611737565b8054855201541690820152610d178383611a03565b52611a03565b50611a03565b52019c9a9c99989799610c08565b97888e9c9e82809c9d9b60405192610d4884611737565b60008452600083850152010152019c9a9c99989799610bd2565b9150610d6e8884611906565b91610b9f565b60405163ce381d3560e01b8152600490fd5b60405163ed30158f60e01b8152600490fd5b503461013757602036600319011261013757604060ff916004358152600160205220610235610dcb6001835493016117bc565b6040519383818695161515855260081c16602084015260606040840152606083019061152d565b5034610137576020908160031936011261013757600435815260019160018152604082209082815260ff60408420925416610d74576040519061012082018281106001600160401b03821117610ef45785919285916040526008815283810194610100368737600281015490600390810184865b610ea5575b505050506040519380850191818652518092526040850195925b828110610e925785870386f35b8351875295810195928101928401610e85565b908698969392918596989551811015610ee7578084610ec5879385611a2f565b905490861b1c18610ed6828a611a03565b520190919293969897959497610e66565b5097959796949396610e6b565b634e487b7160e01b600052604160045260246000fd5b50346101375760203660031901126101375760043590600454821015610137576020610f3583611661565b90546040519160031b1c8152f35b5034610137576020366003190112610137576020906004358152600182526003604060018060a01b039220015460501c16604051908152f35b50346101375760203660031901126101375760ff60406020926004358152600184522054166040519015158152f35b50346101375760208060031936011261096a576004359081835260019060018152604084209160ff80845416156112615760038094019182546001600160401b038160101c1680156000146112515750604051630ada2bb960e31b8152306004820152602481018890523360448201528581606481605086901c6001600160a01b03165afa908115611246578991611229575b50156112175794939291905b8688528784526040882094889589809284600360ff6002860154949c169401905b6111d2575b505050888a52505060018452505060408620805461ffff191661ff00600886901b16179055919250906110a284611da0565b50600454600160401b8110156111be576110c6610816826001889401600455611661565b90555460501c6001600160a01b0390811690813b156111ba576040518681602481836346ba4a8760e11b978883528b60048401525af180156111af5761119a575b509085917f00000000000000000000000000000000000000000000000000000000000000001690813b1561031657829160248392604051948593849283528a60048401525af1801561099157611186575b50507f32c34fd89f87a7cc9f257c5f4c2ed207f4776f12b94e6aec10d90ce489d6c52891604051908152a280f35b61118f90611752565b61098d578338611158565b6111a79096919296611752565b949038611107565b6040513d89823e3d90fd5b8580fd5b634e487b7160e01b86526041600452602486fd5b868b168481101561121157836111e88d84611a2f565b905490851b1c1890868211611206575b50509985018616998561106b565b9a50945086866111f8565b50611070565b604051630e01f48b60e11b8152600490fd5b6112409150863d8811610af357610ae5818361179b565b3861103e565b6040513d8b823e3d90fd5b421061121757949392919061104a565b604051632e72894160e11b8152600490fd5b50346101375761129561128536611517565b60025491939192839082866118e3565b11611357575b6112a48161192a565b936000198401848111845b8481106112c557604051806102358a8a836115c0565b816102a6576112d8816102528686611906565b8781101561134357906001917f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0154808852602083815261132360408a206040519361027f85611737565b90820152611331828b611a03565b5261133c818a611a03565b50016112af565b634e487b7160e01b87526032600452602487fd5b506113628383611906565b61129b565b503461013757604036600319011261013757611381611501565b81602060405161139081611737565b828152015260043582526001602052604082209180602052604081209260ff81541615611410576003015460081c60ff1615610d8657604092839260018060a01b031682526020522060ff60018351926113e984611737565b80548452015416602082015261140e8251809260ff6020809280518552015116910152565bf35b60405163a2a9192560e01b8152600490fd5b50346101375780600319360112610137576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346101375780600319360112610137576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b90503461096a57602036600319011261096a5760043563ffffffff60e01b811680910361031657602092506301ffc9a760e01b81149081156114f0575b5015158152f35b631b8d580b60e21b149050386114e9565b602435906001600160a01b03821682036101de57565b60409060031901126101de576004359060243590565b919082519260c082528351908160c084015260005b8281106115aa575060e093945060008483850101526020810151602084015260ff60408201511660408401526060810151151560608401526001600160401b03608082015116608084015260a0600180821b039101511660a0830152601f8019910116010190565b80602080928801015160e0828701015201611542565b906040916040810191815260209060408282015284518093526060808201908360608660051b8501019701956000935b86851061160257505050505050505090565b9091929394959697868061164f60019360a087848f605f198a8603018d52518051855201518186850152805115158285015260ff86820151168b850152015191896080820152019061152d565b9a0195019501939695949291906115f0565b6004548110156116985760046000527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b0190600090565b634e487b7160e01b600052603260045260246000fd5b6002548110156116985760026000527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0190600090565b80548210156116985760005260206000200190600090565b90600182811c9216801561172d575b602083101461171757565b634e487b7160e01b600052602260045260246000fd5b91607f169161170c565b604081019081106001600160401b03821117610ef457604052565b6001600160401b038111610ef457604052565b606081019081106001600160401b03821117610ef457604052565b60c081019081106001600160401b03821117610ef457604052565b90601f801991011681019081106001600160401b03821117610ef457604052565b906040516117c981611780565b80926040516000908254916117dd836116fd565b80835260209360019081811690811561188a5750600114611854575b5050918161180e60a09593600295038261179b565b8552600182015490850152015460ff8116604084015260ff8160081c16151560608401526001600160401b038160101c166080840152600180831b039060501c16910152565b60008681528581209093505b82841061187757505050810182018161180e6117f9565b8054858501870152928501928101611860565b60ff1916858701525050151560051b8201830190508161180e6117f9565b9181601f840112156101de578235916001600160401b0383116101de57602083818601950101116101de57565b359060ff821682036101de57565b919082018092116118f057565b634e487b7160e01b600052601160045260246000fd5b919082039182116118f057565b6001600160401b038111610ef45760051b60200190565b9061193482611913565b6040906119438251918261179b565b8381528093611954601f1991611913565b019160005b8381106119665750505050565b602090825161197481611737565b6000815282845161198481611765565b60008152600082820152855161199981611780565b600060608083528185840152818984015282015260006080820152600060a08201528682015281830152828601015201611959565b906040516119db81611765565b60406119fe6001839560ff81548181161515875260081c166020860152016117bc565b910152565b80518210156116985760209160051b010190565b908160209103126101de575180151581036101de5790565b6008821015611698570190600090565b356001600160a01b03811681036101de5790565b3560ff811681036101de5790565b908060209392818452848401376000828201840152601f01601f1916010190565b359081151582036101de57565b35906001600160401b03821682036101de57565b35906001600160a01b03821682036101de57565b93929093600094818652600160205260409384872060ff81541615611bba5760030154926001600160401b038460101c1680611bad575b50855163525a5ded60e11b815230600482015260248101919091526001600160a01b03928316604482015260806064820152936020938593909284928391611b3a916084840191611a61565b039260501c165afa938415611ba2578094611b6b575b50508215611b5b5750565b516305c1721760e41b8152600490fd5b909193506020823d602011611b9a575b81611b886020938361179b565b81010312610137575051913880611b50565b3d9150611b7b565b8251903d90823e3d90fd5b421015611bba5738611aee565b855163137436d960e01b8152600490fd5b818102929181159184041417156118f057565b9293611bec91948486611ab7565b836000526001602052600360406000200160ff815416948560ff85161015611d8e576000526000602052604060002060018060a01b03851660005280602052604060002091611c53611c418454958615611bcb565b611c4d86801515611bcb565b906118e3565b9360028301549760405160208101908a825260208152611c7281611737565b51902090600186019960ff8b5416908960005b85878a8d888510611d2c5750955050505050506002915001558015611cb9575b50505060ff9350551660ff19825416179055565b9060ff91611ccc600b85019182546118e3565b90555460081c16611cdf575b8080611ca5565b60010193845494600160401b861015610ef45785611d0491600160ff980181556116e5565b81546001600160a01b0393841660039290921b91821b9390911b191691909117905538611cd8565b60019587611d67611d6e9360ff611d5e611d7398611d4f8f9960038e9101611a2f565b90549060031b1c988c14611bcb565b94168914611bcb565b9318611906565b6118e3565b18611d846108168360038d01611a2f565b9055018a90611c85565b6040516345f0f00760e11b8152600490fd5b6000818152600360205260408120549091908015611e715760001990808201818111611e5d57600254908382019182116102a657808203611e29575b5050506002548015611e1557810190611df4826116ae565b909182549160031b1b19169055600255815260036020526040812055600190565b634e487b7160e01b84526031600452602484fd5b611e47611e38610816936116ae565b90549060031b1c9283926116ae565b9055845260036020526040842055388080611ddc565b634e487b7160e01b85526011600452602485fd5b505090565b600081815260036020526040812054611ed757600254600160401b811015611ec3579082611eaf610816846001604096016002556116ae565b905560025492815260036020522055600190565b634e487b7160e01b82526041600452602482fd5b90509056fea264697066735822122094022bbf71f9c9cdb72ec773cde1f5fe471bd125d3a00982ff9a2855ddfde5a964736f6c63430008170033",NS=t=>t.length>1;class A6 extends hi{constructor(...e){NS(e)?super(...e):super(zu,s4,e[0])}getDeployTransaction(e,n,r){return super.getDeployTransaction(e,n,r||{})}deploy(e,n,r){return super.deploy(e,n,r||{})}connect(e){return super.connect(e)}static createInterface(){return new or(zu)}static connect(e,n){return new Dn(e,zu,n)}}A6.bytecode=s4;A6.abi=zu;const ju=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],o4="",OS=t=>t.length>1;class a4 extends hi{constructor(...e){OS(e)?super(...e):super(ju,o4,e[0])}getDeployTransaction(e){return super.getDeployTransaction(e||{})}deploy(e){return super.deploy(e||{})}connect(e){return super.connect(e)}static createInterface(){return new or(ju)}static connect(e,n){return new Dn(e,ju,n)}}a4.bytecode=o4;a4.abi=ju;const $5=[{inputs:[{internalType:"address",name:"dao",type:"address"},{internalType:"bytes32",name:"proposalId",type:"bytes32"},{internalType:"address",name:"user",type:"address"}],name:"canManagePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"dao",type:"address"},{internalType:"bytes32",name:"proposalId",type:"bytes32"},{internalType:"address",name:"user",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"canVoteOnPoll",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"proposalId",type:"bytes32"}],name:"onPollClosed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"proposalId",type:"bytes32"},{internalType:"address",name:"creator",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onPollCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class c4{static createInterface(){return new or($5)}static connect(e,n){return new Dn(e,$5,n)}}c4.abi=$5;const z5=[{inputs:[{internalType:"address",name:"in_dao",type:"address"},{internalType:"address",name:"in_creator",type:"address"}],name:"canCreatePoll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class f4{static createInterface(){return new or(z5)}static connect(e,n){return new Dn(e,z5,n)}}f4.abi=z5;function gb(){const t=Po(),e="0x3b6421460FcFe43441906062A0eE8A879d2A2Efa";return console.log("PollManager at",e),Kt(()=>A6.connect(e,t.provider))}function j5(){const t=Po(),e="0x3b6421460FcFe43441906062A0eE8A879d2A2Efa";if(!t.signer)throw new Error("useDAOv1WithSigner, !eth.signer");return A6.connect(e,t.signer)}async function LS(){const t=Po(),e="0xFb7a614328c7DCe710A45B41ca64D61296bb100c";return Kt(()=>(console.log("IPollManagerACL at",e),f4.connect(e,t.provider)))}async function FS(){const t=Po(),e="0x0830c58d0ad1fC80f34ba245c8023dEF27AFDc77";return console.log("GaslessVoting at",e),Kt(()=>pb.connect(e,t.provider))}const MS=Ar({__name:"AppButton",props:{variant:{},size:{}},setup(t){return(e,n)=>(be(),Ae("button",{class:Fs(["btn",{"btn-primary":e.variant==="primary","btn-secondary":e.variant==="secondary","btn-tertiary":e.variant==="tertiary","btn-danger":e.variant==="danger","btn-choice":e.variant==="choice","btn-small":e.size==="small"}]),type:"button"},[v2(e.$slots,"default",{},void 0,!0)],2))}}),Rr=Dr(MS,[["__scopeId","data-v-d1538a39"]]),US={},DS={xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none"},HS=q("g",{"clip-path":"url(#clip0_56_698)"},[q("path",{d:"M9.59623 16.3031L5.42623 12.1331L4.00623 13.5431L9.59623 19.1331L21.5962 7.13314L20.1862 5.72314L9.59623 16.3031Z",fill:"currentColor"})],-1),GS=q("defs",null,[q("clipPath",{id:"clip0_56_698"},[q("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.596191 0.133301)"})])],-1),VS=[HS,GS];function $S(t,e){return be(),Ae("svg",DS,VS)}const E1=Dr(US,[["render",$S]]),zS={class:"poll p-6 mb-6 rounded-xl border-2 border-gray-300"},jS={class:"flex items-center justify-between mb-2"},KS={class:"text-lg lg:text-lg mb-1"},WS={class:"flex items-center"},QS=["title"],JS={class:"text-gray-600 text-base"},YS={key:0,class:"p-5"},qS={class:"flex gap-2"},ZS={key:1,class:"w-7"},XS=Ar({__name:"AppPoll",props:{pollId:{},creatorAddress:{},name:{},description:{},choices:{},outcome:{},active:{type:Boolean}},setup(t){return(e,n)=>{const r=Tl("RouterLink");return be(),Wn(r,{to:{name:"poll",params:{id:e.pollId}}},{default:dn(()=>{var i;return[q("div",zS,[q("div",jS,[q("h2",KS,Yt(e.name),1),q("div",WS,[qe(L9,{class:"mr-2",size:20,address:e.creatorAddress},null,8,["address"]),q("abbr",{title:e.creatorAddress,class:"font-mono block no-underline"},Yt(Et(bb)(e.creatorAddress)),9,QS)])]),q("p",JS,Yt(e.description),1),(i=e.choices)!=null&&i.length?(be(),Ae("div",YS,[(be(!0),Ae(kn,null,Bs(e.choices,(s,o)=>(be(),Wn(Rr,{class:Fs([{voted:o===e.outcome},"choice-btn mb-2 pointer-events-none cursor-not-allowed w-full"]),key:s,variant:"choice",disabled:o!==e.outcome},{default:dn(()=>[q("span",qS,[o===e.outcome?(be(),Wn(E1,{key:0,class:"w-7"})):(be(),Ae("span",ZS)),an(" "+Yt(s),1)])]),_:2},1032,["class","disabled"]))),128))])):St("",!0)])]}),_:1},8,["to"])}}}),b3=Dr(XS,[["__scopeId","data-v-e742322b"]]);var p3=function(){return Math.random().toString(36).substring(2)},l4=Ar({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(e){var n=Kt(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idClip"):p3()}),r=Kt(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idGradient"):p3()}),i=Kt(function(){var a;return(a=e.width)!==null&&a!==void 0?a:400}),s=Kt(function(){var a;return(a=e.height)!==null&&a!==void 0?a:130}),o=Kt(function(){var a;return(a=e.viewBox)!==null&&a!==void 0?a:"0 0 ".concat(i.value," ").concat(s.value)});return{idClip:n,idGradient:r,computedViewBox:o}},render:function(){return qe("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[qe("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),qe("defs",null,[qe("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():qe("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),qe("linearGradient",{id:this.idGradient},[qe("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?qe("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),qe("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?qe("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),qe("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?qe("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});const ek=q("rect",{x:"5",y:"10",rx:"3",ry:"3",width:"361",height:"28"},null,-1),tk=q("rect",{x:"5",y:"26",rx:"3",ry:"3",width:"52",height:"6"},null,-1),nk=q("rect",{x:"5",y:"61",rx:"3",ry:"3",width:"410",height:"16"},null,-1),rk=q("circle",{cx:"615",cy:"25",r:"10"},null,-1),ik=q("rect",{x:"640",y:"16",rx:"0",ry:"0",width:"110",height:"19"},null,-1),Qa=Ar({__name:"PollLoader",setup(t){return(e,n)=>(be(),Wn(Et(l4),{viewBox:"0 0 768 124",speed:2,primaryColor:"white",secondaryColor:"#e3e3e3"},{default:dn(()=>[ek,tk,nk,rk,ik]),_:1}))}}),u4=t=>(Qd("data-v-2544254a"),t=t(),Jd(),t),sk={class:"pt-5"},ok={key:0,class:"flex justify-center mb-6"},ak=u4(()=>q("h2",{class:"capitalize text-white text-2xl font-bold mb-6"},"Active Polls",-1)),ck={key:1},fk={key:2},lk={key:3,class:"text-white text-center mb-6 font-normal"},uk=u4(()=>q("h2",{class:"capitalize text-white text-2xl font-bold mb-6"},"Past Polls",-1)),dk={key:4},hk={key:5},bk={key:6,class:"text-white text-center font-normal"},xh=100,pk=Ar({__name:"HomeView",setup(t){const e=Po(),n=gb(),r=Zu({}),i=Zu({}),s=Ye(!1),o=Ye(!0),a=Ye(!0);async function c(f){const l={};for(let u=0;;u+=xh){let p;try{p=await f(u,xh)}catch(m){console.error("failed to fetch proposals",m);break}if(await Promise.all(p.out_proposals.map(async({id:m,proposal:A})=>{const E=A.params.ipfsHash;m=m.slice(2);try{const I=G9(nt(A.params.ipfsSecret),await Q1.fetchData(E));l[m]={id:m,params:I,proposal:A}}catch(I){return console.error("failed to fetch proposal params from IPFS",I)}})),p.out_proposals.length<xh)return l}return l}return Yd(async()=>{const f=await LS(),l=e.signer?await e.signer.getAddress():Ef;s.value=await f.value.canCreatePoll(await n.value.getAddress(),l);const{number:u}=await e.provider.getBlock("latest");await Promise.all([c((p,m)=>n.value.getActiveProposals(p,m)).then(p=>{r.value={...p},o.value=!1}),c((p,m)=>n.value.getPastProposals(p,m,{blockTag:u})).then(async p=>{i.value={...p},await Promise.all(Object.keys(i.value).map(async m=>{(await n.value.getVoteCounts("0x"+m))[Number(i.value[m].proposal.topChoice)]===0n&&(i.value[m].empty=!0)})),a.value=!1})])}),(f,l)=>{const u=Tl("RouterLink");return be(),Ae("section",sk,[s.value?(be(),Ae("div",ok,[qe(u,{to:"polls"},{default:dn(()=>[qe(Rr,{variant:"secondary"},{default:dn(()=>[an("+Create a new poll")]),_:1})]),_:1})])):St("",!0),ak,o.value?(be(),Ae("div",fk,[qe(Qa),qe(Qa),qe(Qa)])):(be(),Ae("div",ck,[(be(!0),Ae(kn,null,Bs(Object.entries(r.value),([p,m])=>(be(),Wn(b3,{key:p,"poll-id":p,name:m.params.name,description:m.params.description,"creator-address":m.params.creator,active:""},null,8,["poll-id","name","description","creator-address"]))),128))])),!o.value&&Object.keys(r.value).length<=0?(be(),Ae("p",lk," There are no active polls ")):St("",!0),uk,a.value?(be(),Ae("div",hk,[qe(Qa),qe(Qa),qe(Qa)])):(be(),Ae("div",dk,[(be(!0),Ae(kn,null,Bs(Object.entries(i.value),([p,m])=>(be(),Wn(b3,{key:p,"poll-id":p,name:m.params.name,description:m.params.description,"creator-address":m.params.creator,choices:m.params.choices,outcome:m.empty?void 0:Number(m.proposal.topChoice)},null,8,["poll-id","name","description","creator-address","choices","outcome"]))),128))])),!a.value&&Object.keys(i.value).length<=0?(be(),Ae("p",bk," There are no past polls ")):St("",!0)])}}}),gk=Dr(pk,[["__scopeId","data-v-2544254a"]]),mk={},yk={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xk=q("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM17 13H7V11H17V13Z",fill:"#565B61"},null,-1),wk=[xk];function vk(t,e){return be(),Ae("svg",yk,wk)}const Ek=Dr(mk,[["render",vk]]),Ak={},_k={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Pk=q("g",{"clip-path":"url(#clip0_56_1176)"},[q("path",{d:"M13 7H11V11H7V13H11V17H13V13H17V11H13V7ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})],-1),Tk=q("defs",null,[q("clipPath",{id:"clip0_56_1176"},[q("rect",{width:"24",height:"24",fill:"white"})])],-1),Ik=[Pk,Tk];function Ck(t,e){return be(),Ae("svg",_k,Ik)}const Sk=Dr(Ak,[["render",Ck]]),kk={},Bk={width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Rk=q("g",{"clip-path":"url(#clip0_35_4428)"},[q("path",{d:"M48.5 8C26.42 8 8.5 25.92 8.5 48C8.5 70.08 26.42 88 48.5 88C70.58 88 88.5 70.08 88.5 48C88.5 25.92 70.58 8 48.5 8ZM40.5 68L20.5 48L26.14 42.36L40.5 56.68L70.86 26.32L76.5 32L40.5 68Z",fill:"#4CD4A9"})],-1),Nk=q("defs",null,[q("clipPath",{id:"clip0_35_4428"},[q("rect",{width:"96",height:"96",fill:"white",transform:"translate(0.5)"})])],-1),Ok=[Rk,Nk];function Lk(t,e){return be(),Ae("svg",Bk,Ok)}const Fk=Dr(kk,[["render",Lk]]),Mk={class:"success-info"},Uk=Ar({__name:"SuccessInfo",setup(t){return(e,n)=>(be(),Ae("div",Mk,[qe(Fk,{class:"mb-4"}),v2(e.$slots,"default",{},void 0,!0)]))}}),K5=Dr(Uk,[["__scopeId","data-v-23975bbd"]]);function mb(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function sn(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function d4(t){return e=>(EA.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof u1<"u"&&typeof u1.require=="function"&&u1.require.bind(u1);return{node:e&&!t?e("crypto"):void 0,web:t}})();function _6(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}const Dk=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return _6(t)?t.slice(2):t};function yb(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}function xb(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}const p0=function(t){if(!(t instanceof Uint8Array)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}},Hk=function(t){if(typeof t!="string"){const e=`This method only supports strings but input was: ${t}`;throw new Error(e)}},h4=BigInt(0),mr=e5,W5={},Q5={};for(let t=0;t<16;t++){const e=t,n=t*16,r=t.toString(16).toLowerCase();Q5[r]=e,Q5[r.toUpperCase()]=e,W5[r]=n,W5[r.toUpperCase()]=n}function b4(t){const e=t.length,n=new Uint8Array(e/2);for(let r=0;r<e;r+=2)n[r/2]=W5[t[r]]+Q5[t[r+1]];return n}const A1=t=>{if(t.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return b4(yb(t))},Gk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),et=t=>{let e="0x";if(t===void 0||t.length===0)return e;for(const n of t)e+=Gk[n];return e},J5=[];for(let t=0;t<=256*256-1;t++)J5[t]=BigInt(t);const Vt=(t,e=!1)=>{e&&t.reverse();const n=et(t);return n==="0x"?h4:n.length===4?J5[t[0]]:n.length===6?J5[t[0]*256+t[1]]:BigInt(n)},Qn=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);return t=t.slice(2),t.length%2!==0&&(t=yb(t)),b4(t)},wb=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},p4=t=>{const e=wb(t);return Qn(e)},Pd=(t,e=!1)=>{const n=Rt("0x"+yb(t.toString(16)));return e?n.reverse():n},Di=t=>new Uint8Array(t),Vk=(t,e,n)=>n?t.length<e?new Uint8Array([...t,...Di(e-t.length)]):t.subarray(0,e):t.length<e?new Uint8Array([...Di(e-t.length),...t]):t.subarray(-e),Nf=(t,e)=>(p0(t),Vk(t,e,!1)),$k=t=>{let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t},Td=t=>(p0(t),$k(t)),Rt=t=>{if(t==null)return new Uint8Array;if(Array.isArray(t)||t instanceof Uint8Array)return Uint8Array.from(t);if(typeof t=="string"){if(!xb(t))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${t}`);return Qn(t)}if(typeof t=="number")return p4(t);if(typeof t=="bigint"){if(t<h4)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),A1(e)}if(t.toBytes!==void 0)return t.toBytes();throw new Error("invalid type")},P6=t=>{for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${et(n)}`)},Ht=t=>"0x"+t.toString(16),pt=t=>Td(Pd(t)),er=(...t)=>{if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n},g3=BigInt("0xffffffffffffffff"),Of=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");jr.CURVE.n;const zk=jr.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const jk="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Qn(jk);const Kk="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",lu=Qn(Kk),Wk="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",Ku=Qn(Wk),Qk=Uint8Array.from([128]);BigInt(-1);const Bt=BigInt(0),Aa=BigInt(1),Lf=BigInt(2);BigInt(3);const Jk=BigInt(7),Yk=BigInt(8),Ff=BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);function g4(t){if(Array.isArray(t)){const n=[];let r=0;for(let i=0;i<t.length;i++){const s=g4(t[i]);n.push(s),r+=s.length}return x3(y3(r,192),...n)}const e=x4(t);return e.length===1&&e[0]<128?e:x3(y3(e.length,128),e)}function Ja(t,e,n){if(n>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,n)}function m3(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return m4(Xk(t))}function y3(t,e){if(t<56)return Uint8Array.from([t+e]);const n=Z5(t),r=n.length/2,i=Z5(e+55+r);return Uint8Array.from(q5(i+n))}function qk(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const n=x4(t),r=Y5(n);if(e)return{data:r.data,remainder:r.remainder.slice()};if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}function Y5(t){let e,n,r,i,s;const o=[],a=t[0];if(a<=127)return{data:t.slice(0,1),remainder:t.subarray(1)};if(a<=183){if(e=a-127,a===128?r=Uint8Array.from([]):r=Ja(t,1,e),e===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:t.subarray(e)}}else if(a<=191){if(n=a-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(e=m3(Ja(t,1,n)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=Ja(t,n,e+n),{data:r,remainder:t.subarray(e+n)}}else if(a<=247){for(e=a-191,i=Ja(t,1,e);i.length;)s=Y5(i),o.push(s.data),i=s.remainder;return{data:o,remainder:t.subarray(e)}}else{if(n=a-246,e=m3(Ja(t,1,n)),e<56)throw new Error("invalid RLP: encoded list too short");const c=n+e;if(c>t.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Ja(t,n,c);i.length;)s=Y5(i),o.push(s.data),i=s.remainder;return{data:o,remainder:t.subarray(c)}}}const Zk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xk(t){let e="";for(let n=0;n<t.length;n++)e+=Zk[t[n]];return e}function m4(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function q5(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2;e[n]=m4(t.slice(r,r+2))}return e}function x3(...t){if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function eB(t){return new TextEncoder().encode(t)}function Z5(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function tB(t){return t.length%2?`0${t}`:t}function y4(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function nB(t){return typeof t!="string"?t:y4(t)?t.slice(2):t}function x4(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return y4(t)?q5(tB(nB(t))):eB(t);if(typeof t=="number"||typeof t=="bigint")return t?q5(Z5(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}const pn={encode:g4,decode:qk},di=(()=>{const t=d4(n5);return t.create=n5.create,t})(),rB=function(t){try{Hk(t)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)},iB=function(t,e){return p0(t),p0(e),Vt(e)===Bt?di(pn.encode([t,Uint8Array.from([])])).subarray(-20):di(pn.encode([t,e])).subarray(-20)},sB=function(t,e,n){if(p0(t),p0(e),p0(n),t.length!==20)throw new Error("Expected from to be of length 20");if(e.length!==32)throw new Error("Expected salt to be of length 32");return di(er(Qn("0xff"),t,e,di(n))).subarray(-20)},w4=function(t,e=!1){if(p0(t),e&&t.length!==64&&(t=jr.ProjectivePoint.fromHex(t).toRawBytes(!1).slice(1)),t.length!==64)throw new Error("Expected pubKey to be of length 64");return di(t).subarray(-20)},v4=w4,oB=function(t){return p0(t),jr.ProjectivePoint.fromPrivateKey(t).toRawBytes(!1).slice(1)},aB=function(t){return v4(oB(t))};class Kn{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.bytes=e}static zero(){return new Kn(Di(20))}static fromString(e){if(!rB(e))throw new Error("Invalid address");return new Kn(Rt(e))}static fromPublicKey(e){if(!(e instanceof Uint8Array))throw new Error("Public key should be Uint8Array");const n=w4(e);return new Kn(n)}static fromPrivateKey(e){if(!(e instanceof Uint8Array))throw new Error("Private key should be Uint8Array");const n=aB(e);return new Kn(n)}static generate(e,n){if(typeof n!="bigint")throw new Error("Expected nonce to be a bigint");return new Kn(iB(e.bytes,Pd(n)))}static generate2(e,n,r){if(!(n instanceof Uint8Array))throw new Error("Expected salt to be a Uint8Array");if(!(r instanceof Uint8Array))throw new Error("Expected initCode to be a Uint8Array");return new Kn(sB(e.bytes,n,r))}equals(e){return sn(this.bytes,e.bytes)}isZero(){return this.equals(Kn.zero())}isPrecompileOrSystemAddress(){const e=Vt(this.bytes),n=Bt,r=BigInt("0xffff");return e>=n&&e<=r}toString(){return et(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}}var u0;(function(t){t.String="string",t.Bytes="view",t.Number="number"})(u0||(u0={}));var fi;(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(fi||(fi={}));var It;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(It||(It={}));function Gt(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!xb(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=Rt(t);switch(e){case It.Uint8Array:return n;case It.BigInt:return Vt(n);case It.Number:{const r=Vt(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case It.PrefixedHexString:return et(n);default:throw new Error("unknown outputType")}}class _a{constructor(e,n,r,i){this.index=e,this.validatorIndex=n,this.address=r,this.amount=i}static fromWithdrawalData(e){const{index:n,validatorIndex:r,address:i,amount:s}=e,o=Gt(n,It.BigInt),a=Gt(r,It.BigInt),c=i instanceof Kn?i:new Kn(Rt(i)),f=Gt(s,It.BigInt);return new _a(o,a,c,f)}static fromValuesArray(e){if(e.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[n,r,i,s]=e;return _a.fromWithdrawalData({index:n,validatorIndex:r,address:i,amount:s})}static toBytesArray(e){const{index:n,validatorIndex:r,address:i,amount:s}=e,o=Gt(n,It.BigInt)===Bt?new Uint8Array:Gt(n,It.Uint8Array),a=Gt(r,It.BigInt)===Bt?new Uint8Array:Gt(r,It.Uint8Array),c=i instanceof Kn?i.bytes:Gt(i,It.Uint8Array),f=Gt(s,It.BigInt)===Bt?new Uint8Array:Gt(s,It.Uint8Array);return[o,a,c,f]}raw(){return _a.toBytesArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.bytes,amount:this.amount}}toJSON(){return{index:Ht(this.index),validatorIndex:Ht(this.validatorIndex),address:et(this.address.bytes),amount:Ht(this.amount)}}}function E4(t,e,n){const r=jr.sign(t,e),i=r.toCompactRawBytes(),s=i.slice(0,32),o=i.slice(32,64),a=n===void 0?BigInt(r.recovery+27):BigInt(r.recovery+35)+BigInt(n)*Lf;return{r:s,s:o,v:a}}function cB(t,e){return t===Bt||t===Aa?t:e===void 0?t-Ff:t-(e*Lf+BigInt(35))}function fB(t){return t===Bt||t===Aa}const A4=function(t,e,n,r,i){const s=er(Nf(n,32),Nf(r,32)),o=cB(e,i);if(!fB(o))throw new Error("Invalid signature v value");return jr.Signature.fromCompact(s).addRecoveryBit(Number(o)).recoverPublicKey(t).toRawBytes(!1).slice(1)};var vb={exports:{}},mc=typeof Reflect=="object"?Reflect:null,w3=mc&&typeof mc.apply=="function"?mc.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Wu;mc&&typeof mc.ownKeys=="function"?Wu=mc.ownKeys:Object.getOwnPropertySymbols?Wu=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Wu=function(e){return Object.getOwnPropertyNames(e)};function lB(t){console&&console.warn&&console.warn(t)}var _4=Number.isNaN||function(e){return e!==e};function hn(){hn.init.call(this)}vb.exports=hn;vb.exports.once=bB;hn.EventEmitter=hn;hn.prototype._events=void 0;hn.prototype._eventsCount=0;hn.prototype._maxListeners=void 0;var v3=10;function T6(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(hn,"defaultMaxListeners",{enumerable:!0,get:function(){return v3},set:function(t){if(typeof t!="number"||t<0||_4(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");v3=t}});hn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};hn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||_4(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function P4(t){return t._maxListeners===void 0?hn.defaultMaxListeners:t._maxListeners}hn.prototype.getMaxListeners=function(){return P4(this)};hn.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")w3(c,this,n);else for(var f=c.length,l=k4(c,f),r=0;r<f;++r)w3(l[r],this,n);return!0};function T4(t,e,n,r){var i,s,o;if(T6(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=P4(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,lB(a)}return t}hn.prototype.addListener=function(e,n){return T4(this,e,n,!1)};hn.prototype.on=hn.prototype.addListener;hn.prototype.prependListener=function(e,n){return T4(this,e,n,!0)};function uB(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function I4(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=uB.bind(r);return i.listener=n,r.wrapFn=i,i}hn.prototype.once=function(e,n){return T6(n),this.on(e,I4(this,e,n)),this};hn.prototype.prependOnceListener=function(e,n){return T6(n),this.prependListener(e,I4(this,e,n)),this};hn.prototype.removeListener=function(e,n){var r,i,s,o,a;if(T6(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():dB(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};hn.prototype.off=hn.prototype.removeListener;hn.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function C4(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?hB(i):k4(i,i.length)}hn.prototype.listeners=function(e){return C4(this,e,!0)};hn.prototype.rawListeners=function(e){return C4(this,e,!1)};hn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):S4.call(t,e)};hn.prototype.listenerCount=S4;function S4(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}hn.prototype.eventNames=function(){return this._eventsCount>0?Wu(this._events):[]};function k4(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function dB(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function hB(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function bB(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}B4(t,e,s,{once:!0}),e!=="error"&&pB(t,i,{once:!0})})}function pB(t,e,n){typeof t.on=="function"&&B4(t,"error",e,n)}function B4(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var J1=vb.exports;const gB=d4(d6);function t1(){throw Error("kzg library not loaded")}let R4={loadTrustedSetup:t1,blobToKzgCommitment:t1,computeBlobKzgProof:t1,verifyKzgProof:t1,verifyBlobKzgProofBatch:t1};const mB=32,Eb=4096,_1=32*Eb,yB=2,xB=_1*yB-1,wB=mB*Eb;function vB(t,e){const n=new Uint8Array(e*_1).fill(0);return n.set(t),n[t.byteLength]=128,n}function EB(t){const e=new Uint8Array(wB);for(let n=0;n<Eb;n++){const r=new Uint8Array(32);r.set(t.subarray(n*31,(n+1)*31),0),e.set(r,n*32)}return e}const AB=t=>{const e=G2(t),n=e.byteLength;if(n===0)throw Error("invalid blob data");if(n>xB)throw Error("blob data is too large");const r=Math.ceil(n/_1),i=vB(e,r),s=[];for(let o=0;o<r;o++){const a=i.subarray(o*_1,(o+1)*_1),c=EB(a);s.push(c)}return s},_B=t=>{const e=[];for(const n of t)e.push(R4.blobToKzgCommitment(n));return e},PB=(t,e)=>t.map((r,i)=>R4.computeBlobKzgProof(r,e[i])),N4=(t,e)=>{const n=new Uint8Array(32);return n.set([e],0),n.set(gB(t).subarray(1),1),n},TB=t=>{const e=[];for(const n of t)e.push(N4(n,1));return e};class IB{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}class Ab{constructor(e){this._database=e??new Map}async get(e){const n=e instanceof Uint8Array?mr(e):e.toString();return this._database.get(n)}async put(e,n){const r=e instanceof Uint8Array?mr(e):e.toString();this._database.set(r,n)}async del(e){const n=e instanceof Uint8Array?mr(e):e.toString();this._database.delete(n)}async batch(e){for(const n of e)n.type==="del"&&await this.del(n.key),n.type==="put"&&await this.put(n.key,n.value)}shallowCopy(){return new Ab(this._database)}open(){return Promise.resolve()}}const l1=async(t,e)=>{const n=JSON.stringify({method:e.method,params:e.params,jsonrpc:"2.0",id:1}),r=await fetch(t,{headers:{"content-type":"application/json"},method:"POST",body:n});if(!r.ok)throw new Error(`JSONRpcError: ${JSON.stringify({method:e.method,status:r.status,message:await r.text().catch(()=>"Could not parse error message likely because of a network error")},null,2)}`);return(await r.json()).result},O4=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t._getConnection!==void 0)return t._getConnection().url;throw new Error("Must provide valid provider URL or Web3Provider")},CB={mainnet:{name:"mainnet",chainId:1,networkId:1,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,timestamp:"1710338135",forkHash:"0x9f3d2254"}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},goerli:{name:"goerli",chainId:5,networkId:5,defaultHardfork:"shanghai",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{name:"paris",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"},{name:"cancun",block:null,timestamp:"1705473120",forkHash:"0x70cc14e2"}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},sepolia:{name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{name:"paris",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"},{name:"cancun",block:null,timestamp:"1706655072",forkHash:"0x88cf81d9"}],bootstrapNodes:[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},holesky:{name:"holesky",chainId:17e3,networkId:17e3,defaultHardfork:"paris",consensus:{type:"pos",algorithm:"casper"},comment:"PoS test network to replace Goerli",url:"https://github.com/eth-clients/holesky/",genesis:{baseFeePerGas:"0x3B9ACA00",difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x65156994"},hardforks:[{name:"chainstart",block:0,forkHash:"0xc61a6098"},{name:"homestead",block:0,forkHash:"0xc61a6098"},{name:"tangerineWhistle",block:0,forkHash:"0xc61a6098"},{name:"spuriousDragon",block:0,forkHash:"0xc61a6098"},{name:"byzantium",block:0,forkHash:"0xc61a6098"},{name:"constantinople",block:0,forkHash:"0xc61a6098"},{name:"petersburg",block:0,forkHash:"0xc61a6098"},{name:"istanbul",block:0,forkHash:"0xc61a6098"},{name:"muirGlacier",block:0,forkHash:"0xc61a6098"},{name:"berlin",block:0,forkHash:"0xc61a6098"},{name:"london",block:0,forkHash:"0xc61a6098"},{name:"paris",ttd:"0",block:0,forkHash:"0xc61a6098"},{name:"mergeForkIdTransition",block:0,forkHash:"0xc61a6098"},{name:"shanghai",block:null,timestamp:"1696000704",forkHash:"0xfd4f016b"},{name:"cancun",block:null,timestamp:"1707305664",forkHash:"0x9b192ad0"}],bootstrapNodes:[{ip:"146.190.13.128",port:30303,id:"ac906289e4b7f12df423d654c5a962b6ebe5b3a74cc9e06292a85221f9a64a6f1cfdd6b714ed6dacef51578f92b34c60ee91e9ede9c7f8fadc4d347326d95e2b",location:"",comment:"bootnode 1"},{ip:"178.128.136.233",port:30303,id:"a3435a0155a3e837c02f5e7f5662a2f1fbc25b48e4dc232016e1c51b544cb5b4510ef633ea3278c0e970fa8ad8141e2d4d0f9f95456c537ff05fdf9b31c15072",location:"",comment:"bootnode 2"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.holesky.ethdisco.net"]},kaustinen:{name:"kaustinen",chainId:69420,networkId:69420,defaultHardfork:"prague",consensus:{type:"pos",algorithm:"casper"},comment:"Verkle kaustinen testnet 2 (likely temporary, do not hard-wire into production code)",url:"https://github.com/eth-clients/kaustinen/",genesis:{difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x65608a64"},hardforks:[{name:"chainstart",block:0},{name:"homestead",block:0},{name:"tangerineWhistle",block:0},{name:"spuriousDragon",block:0},{name:"byzantium",block:0},{name:"constantinople",block:0},{name:"petersburg",block:0},{name:"istanbul",block:0},{name:"berlin",block:0},{name:"london",block:0},{name:"paris",ttd:"0",block:0},{name:"mergeForkIdTransition",block:0},{name:"shanghai",block:null,timestamp:"0"},{name:"prague",block:null,timestamp:"1700825700"}],bootstrapNodes:[],dnsNetworks:[]}};let X5=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(X5=new Int32Array(X5));const SB=(t,e)=>{let n=e===0?0:~~e^-1;for(let r=0;r<t.length;r++)n=X5[(n^t[r])&255]^n>>>8;return n^-1},kB=(t,e)=>SB(t,e)>>>0;var Cs;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia",t[t.Holesky=17e3]="Holesky",t[t.Kaustinen=69420]="Kaustinen"})(Cs||(Cs={}));Cs.Mainnet+"",Qn("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"),Cs.Goerli+"",Qn("0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"),Cs.Sepolia+"",Qn("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494"),Cs.Holesky+"",Qn("0x69d8c9d72f6fa4ad42d4702b433707212f90db395eb54dc20bc85de253788783"),Cs.Kaustinen+"",Qn("0x5e8519756841faf0b2c28951c451b61a4b407b70a5ce5b57992f4bec973173ff");var Je;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Paris="paris",t.Shanghai="shanghai",t.Cancun="cancun",t.Prague="prague"})(Je||(Je={}));var Mf;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(Mf||(Mf={}));var Oo;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(Oo||(Oo={}));var Tr;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(Tr||(Tr={}));var on;(function(t){t.Draft="draft",t.Review="review",t.Final="final"})(on||(on={}));const bs={1153:{comment:"Transient storage opcodes",url:"https://eips.ethereum.org/EIPS/eip-1153",status:on.Review,minimumHardfork:Je.Chainstart,requiredEIPs:[],gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}}},1559:{comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:on.Final,minimumHardfork:Je.Berlin,requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}}},2315:{comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:on.Draft,minimumHardfork:Je.Istanbul,requiredEIPs:[],gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}}},2565:{comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:on.Final,minimumHardfork:Je.Byzantium,requiredEIPs:[],gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}}},2718:{comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:on.Final,minimumHardfork:Je.Chainstart,requiredEIPs:[]},2929:{comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:on.Final,minimumHardfork:Je.Chainstart,requiredEIPs:[],gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}}},2930:{comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:on.Final,minimumHardfork:Je.Istanbul,requiredEIPs:[2718,2929],gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}}},3074:{comment:"AUTH and AUTHCALL opcodes",url:"https://eips.ethereum.org/EIPS/eip-3074",status:on.Review,minimumHardfork:Je.London,requiredEIPs:[],gasPrices:{auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}}},3198:{comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:on.Final,minimumHardfork:Je.London,requiredEIPs:[],gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}}},3529:{comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:on.Final,minimumHardfork:Je.Berlin,requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}}},3540:{comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:on.Review,minimumHardfork:Je.London,requiredEIPs:[3541]},3541:{comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:on.Final,minimumHardfork:Je.Berlin,requiredEIPs:[]},3554:{comment:"Difficulty Bomb Delay to December 1st 2021",url:"https://eips.ethereum.org/EIPS/eip-3554",status:on.Final,minimumHardfork:Je.MuirGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:on.Final,minimumHardfork:Je.Chainstart,requiredEIPs:[]},3651:{comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:on.Review,minimumHardfork:Je.London,requiredEIPs:[2929]},3670:{comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:Je.London,requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:on.Final,minimumHardfork:Je.London,requiredEIPs:[]},3855:{comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:on.Review,minimumHardfork:Je.Chainstart,requiredEIPs:[],gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}}},3860:{comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:on.Review,minimumHardfork:Je.SpuriousDragon,requiredEIPs:[],gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}}},4345:{comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:on.Final,minimumHardfork:Je.London,requiredEIPs:[],pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:on.Review,minimumHardfork:Je.London,requiredEIPs:[],gasPrices:{prevrandao:{v:2,d:"Base fee of the PREVRANDAO opcode (previously DIFFICULTY)"}}},4788:{comment:"Beacon block root in the EVM",url:"https://eips.ethereum.org/EIPS/eip-4788",status:on.Draft,minimumHardfork:Je.Cancun,requiredEIPs:[],gasPrices:{},vm:{historicalRootsLength:{v:8191,d:"The modulo parameter of the beaconroot ring buffer in the beaconroot statefull precompile"}}},4844:{comment:"Shard Blob Transactions",url:"https://eips.ethereum.org/EIPS/eip-4844",status:on.Draft,minimumHardfork:Je.Paris,requiredEIPs:[1559,2718,2930,4895],gasConfig:{blobGasPerBlob:{v:131072,d:"The base fee for blob gas per blob"},targetBlobGasPerBlock:{v:393216,d:"The target blob gas consumed per block"},maxblobGasPerBlock:{v:786432,d:"The max blob gas allowable per block"},blobGasPriceUpdateFraction:{v:3338477,d:"The denominator used in the exponential when calculating a blob gas price"}},gasPrices:{simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minBlobGasPrice:{v:1,d:"The minimum fee per blob gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},blobhash:{v:3,d:"Base fee of the BLOBHASH opcode"}},sharding:{blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}}},4895:{comment:"Beacon chain push withdrawals as operations",url:"https://eips.ethereum.org/EIPS/eip-4895",status:on.Review,minimumHardfork:Je.Paris,requiredEIPs:[]},5133:{comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:on.Draft,minimumHardfork:Je.GrayGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},5656:{comment:"MCOPY - Memory copying instruction",url:"https://eips.ethereum.org/EIPS/eip-5656",status:on.Draft,minimumHardfork:Je.Shanghai,requiredEIPs:[],gasPrices:{mcopy:{v:3,d:"Base fee of the MCOPY opcode"}}},6780:{comment:"SELFDESTRUCT only in same transaction",url:"https://eips.ethereum.org/EIPS/eip-6780",status:on.Draft,minimumHardfork:Je.London,requiredEIPs:[]},6800:{comment:"Ethereum state using a unified verkle tree (experimental)",url:"https://github.com/ethereum/EIPs/pull/6800",status:on.Draft,minimumHardfork:Je.London,requiredEIPs:[]},7516:{comment:"BLOBBASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-7516",status:on.Draft,minimumHardfork:Je.Paris,requiredEIPs:[4844],gasPrices:{blobbasefee:{v:2,d:"Gas cost of the BLOBBASEFEE opcode"}}}};var On;(function(t){t.Draft="draft",t.Review="review",t.Final="final"})(On||(On={}));const BB={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:On.Final,gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},keccak256:{v:30,d:"Base fee of the SHA3 opcode"},keccak256Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:BigInt("5000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:On.Final,gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:On.Final},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:On.Final,gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:On.Final,gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:On.Final,gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},pow:{minerReward:{v:BigInt("3000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:On.Final,gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},pow:{minerReward:{v:BigInt("2000000000000000000"),d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:On.Final,gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:On.Final,gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:On.Final,pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:On.Final,eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:On.Final,eips:[1559,3198,3529,3541]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:On.Final,eips:[4345]},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:On.Final,eips:[5133]},paris:{name:"paris",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:On.Final,consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:On.Final,eips:[]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:On.Final,eips:[3651,3855,3860,4895]},cancun:{name:"cancun",comment:"Next feature hardfork after shanghai, includes proto-danksharding EIP 4844 blobs (still WIP hence not for production use), transient storage opcodes, parent beacon block root availability in EVM, selfdestruct only in same transaction, and blob base fee opcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/cancun.md",status:On.Final,eips:[1153,4844,4788,5656,6780,7516]},prague:{name:"prague",comment:"Next feature hardfork after cancun, internally used for verkle testing/implementation (incomplete/experimental)",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/prague.md",status:On.Draft,eips:[6800]}};function RB(t){return!t||t==="0x0"?"0x0000000000000000":_6(t)?"0x"+Dk(t).padStart(16,"0"):"0x"+t.padStart(16,"0")}function NB(t,e=!0){const{name:n,config:r,difficulty:i,mixHash:s,gasLimit:o,coinbase:a,baseFeePerGas:c,excessBlobGas:f}=t;let{extraData:l,timestamp:u,nonce:p}=t;const m=Number(u),{chainId:A}=r;if(l===""&&(l="0x"),_6(u)||(u=wb(parseInt(u))),p.length!==18&&(p=RB(p)),r.eip155Block!==r.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const E={name:n,chainId:A,networkId:A,genesis:{timestamp:u,gasLimit:o,difficulty:i,nonce:p,extraData:l,mixHash:s,coinbase:a,baseFeePerGas:c,excessBlobGas:f},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:r.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:r.clique.period??r.clique.blockperiodseconds,epoch:r.clique.epoch??r.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},I={[Je.Homestead]:{name:"homesteadBlock"},[Je.Dao]:{name:"daoForkBlock"},[Je.TangerineWhistle]:{name:"eip150Block"},[Je.SpuriousDragon]:{name:"eip155Block"},[Je.Byzantium]:{name:"byzantiumBlock"},[Je.Constantinople]:{name:"constantinopleBlock"},[Je.Petersburg]:{name:"petersburgBlock"},[Je.Istanbul]:{name:"istanbulBlock"},[Je.MuirGlacier]:{name:"muirGlacierBlock"},[Je.Berlin]:{name:"berlinBlock"},[Je.London]:{name:"londonBlock"},[Je.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[Je.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Je.Cancun]:{name:"cancunTime",postMerge:!0,isTimestamp:!0},[Je.Prague]:{name:"pragueTime",postMerge:!0,isTimestamp:!0}},w=Object.keys(I).reduce((U,H)=>(U[I[H].name]=H,U),{}),N=Object.keys(r).filter(U=>w[U]!==void 0&&r[U]!==void 0&&r[U]!==null);E.hardforks=N.map(U=>({name:w[U],block:I[w[U]].isTimestamp===!0||typeof r[U]!="number"?null:r[U],timestamp:I[w[U]].isTimestamp===!0&&typeof r[U]=="number"?r[U]:void 0})).filter(U=>U.block!==null||U.timestamp!==void 0),E.hardforks.sort(function(U,H){return(U.block??1/0)-(H.block??1/0)}),E.hardforks.sort(function(U,H){return(U.timestamp??0)-(H.timestamp??0)});for(const U of E.hardforks)U.timestamp===m&&(U.timestamp=0);if(r.terminalTotalDifficulty!==void 0){const U={name:Je.Paris,ttd:r.terminalTotalDifficulty,block:null},H=E.hardforks.findIndex(z=>{var ce;return((ce=I[z.name])==null?void 0:ce.postMerge)===!0});H!==-1?E.hardforks.splice(H,0,U):E.hardforks.push(U)}const F=E.hardforks.length>0?E.hardforks.slice(-1)[0]:void 0;return E.hardfork=F==null?void 0:F.name,E.hardforks.unshift({name:Je.Chainstart,block:0}),E}function OB(t,e,n){try{const r=["config","difficulty","gasLimit","nonce","alloc"];if(r.some(i=>!(i in t))){const i=r.filter(s=>!(s in t));throw new Error(`Invalid format, expected geth genesis field "${i}" missing`)}return e!==void 0&&(t.name=e),NB(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}class Xn{constructor(e){this._eips=[],this._paramsCache={},this._activatedEIPsCache=[],this.events=new J1.EventEmitter,this._customChains=e.customChains??[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??Je.Shanghai,this.HARDFORK_CHANGES=this.hardforks().map(n=>[n.name,BB[n.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips),this.customCrypto=e.customCrypto??{},Object.keys(this._paramsCache).length===0&&(this._buildParamsCache(),this._buildActivatedEIPsCache())}static custom(e,n={}){const r=n.baseChain??"mainnet",i={...Xn._getChainParams(r)};if(i.name="custom-chain",typeof e!="string")return new Xn({chain:{...i,...e},...n});if(e===Tr.PolygonMainnet)return Xn.custom({name:Tr.PolygonMainnet,chainId:137,networkId:137},n);if(e===Tr.PolygonMumbai)return Xn.custom({name:Tr.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===Tr.ArbitrumOne)return Xn.custom({name:Tr.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===Tr.xDaiChain)return Xn.custom({name:Tr.xDaiChain,chainId:100,networkId:100},n);if(e===Tr.OptimisticKovan)return Xn.custom({name:Tr.OptimisticKovan,chainId:69,networkId:69},{hardfork:Je.Berlin,...n});if(e===Tr.OptimisticEthereum)return Xn.custom({name:Tr.OptimisticEthereum,chainId:10,networkId:10},{hardfork:Je.Berlin,...n});throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:i,hardfork:s,mergeForkIdPostMerge:o,customCrypto:a}){const c=OB(e,n,o),f=new Xn({chain:c.name??"custom",customChains:[c],eips:r,hardfork:s??c.hardfork,customCrypto:a});return i!==void 0&&f.setForkHashes(i),f}static isSupportedChainId(e){return!!this.getInitializedChains().names[e.toString()]}static _getChainParams(e,n){const r=this.getInitializedChains(n);if(typeof e=="number"||typeof e=="bigint"){if(e=e.toString(),r.names[e]){const i=r.names[e];return r[i]}throw new Error(`Chain with ID ${e} not supported`)}if(r[e]!==void 0)return r[e];throw new Error(`Chain with name ${e} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Xn._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this._buildParamsCache(),this._buildActivatedEIPsCache(),this.events.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkBy(e){let{blockNumber:n,timestamp:r,td:i}=e;n=Gt(n,It.BigInt),i=Gt(i,It.BigInt),r=Gt(r,It.BigInt);const s=this.hardforks().filter(u=>u.block!==null||u.ttd!==null&&u.ttd!==void 0||u.timestamp!==void 0),o=s.findIndex(u=>u.ttd!==null&&u.ttd!==void 0);if(s.slice(o+1).findIndex(u=>u.ttd!==null&&u.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let c=s.findIndex(u=>n!==void 0&&u.block!==null&&BigInt(u.block)>n||r!==void 0&&u.timestamp!==void 0&&u.timestamp>r);if(c===-1)c=s.length;else if(c===0)throw Error("Must have at least one hardfork at block 0");if(r===void 0){const u=s.slice(0,c).reverse().findIndex(p=>p.block!==null||p.ttd!==void 0);c=c-u}if(c=c-1,s[c].block===null&&s[c].timestamp===void 0)(i==null||BigInt(s[c].ttd)>i)&&(c-=1);else if(o>=0&&i!==void 0&&i!==null){if(c>=o&&BigInt(s[o].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(c<o&&BigInt(s[o].ttd)<i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const f=c;for(;c<s.length-1&&!(s[c].block!==s[c+1].block||s[c].timestamp!==s[c+1].timestamp);c++);if(r!==void 0){if(s.slice(0,f).reduce((m,A)=>Math.max(Number(A.timestamp??"0"),m),0)>r)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(s.slice(c+1).reduce((m,A)=>Math.min(Number(A.timestamp??r),m),Number(r))<r)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return s[c].name}setHardforkBy(e){const n=this.getHardforkBy(e);return this.setHardfork(n),n}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in bs))throw new Error(`${n} not supported`);const r=this.gteHardfork(bs[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`)}this._eips=e,this._buildParamsCache(),this._buildActivatedEIPsCache();for(const n of e)if(bs[n].requiredEIPs!==void 0){for(const r of bs[n].requiredEIPs)if(!(e.includes(r)||this.isActivatedEIP(r)))throw new Error(`${n} requires EIP ${r}, but is not included in the EIP list`)}}_mergeWithParamsCache(e){this._paramsCache.gasConfig={...this._paramsCache.gasConfig,...e.gasConfig},this._paramsCache.gasPrices={...this._paramsCache.gasPrices,...e.gasPrices},this._paramsCache.pow={...this._paramsCache.pow,...e.pow},this._paramsCache.sharding={...this._paramsCache.sharding,...e.sharding},this._paramsCache.vm={...this._paramsCache.vm,...e.vm}}_buildParamsCache(){this._paramsCache={};const e=this.hardfork();for(const n of this.HARDFORK_CHANGES){if("eips"in n[1]){const r=n[1].eips;for(const i of r){if(!(i in bs))throw new Error(`${i} not supported`);this._mergeWithParamsCache(bs[i])}}else this._mergeWithParamsCache(n[1]);if(n[0]===e)break}for(const n of this._eips){if(!(n in bs))throw new Error(`${n} not supported`);this._mergeWithParamsCache(bs[n])}}_buildActivatedEIPsCache(){this._activatedEIPsCache=[];for(const e of this.HARDFORK_CHANGES){const n=e[1];this.gteHardfork(n.name)&&"eips"in n&&(this._activatedEIPsCache=this._activatedEIPsCache.concat(n.eips))}this._activatedEIPsCache=this._activatedEIPsCache.concat(this._eips)}param(e,n){let r=null;return this._paramsCache[e]!==void 0&&this._paramsCache[e][n]!==void 0&&(r=this._paramsCache[e][n].v),BigInt(r??0)}paramByHardfork(e,n,r){let i=null;for(const s of this.HARDFORK_CHANGES){if("eips"in s[1]){const o=s[1].eips;for(const a of o){const c=this.paramByEIP(e,n,a);i=typeof c=="bigint"?c:i}}else s[1][e]!==void 0&&s[1][e][n]!==void 0&&(i=s[1][e][n].v);if(s[0]===r)break}return BigInt(i??0)}paramByEIP(e,n,r){if(!(r in bs))throw new Error(`${r} not supported`);const i=bs[r];if(!(e in i)||i[e][n]===void 0)return;const s=i[e][n].v;return BigInt(s)}paramByBlock(e,n,r,i,s){const o=this.getHardforkBy({blockNumber:r,td:i,timestamp:s});return this.paramByHardfork(e,n,o)}isActivatedEIP(e){return!!this._activatedEIPsCache.includes(e)}hardforkIsActiveOnBlock(e,n){n=Gt(n,It.BigInt),e=e??this._hardfork;const r=this.hardforkBlock(e);return typeof r=="bigint"&&r!==Bt&&n>=r}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){e=e??this._hardfork;const r=this.hardforks();let i=-1,s=-1,o=0;for(const a of r)a.name===e&&(i=o),a.name===n&&(s=o),o+=1;return i>=s&&s!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var r;e=e??this._hardfork;const n=(r=this._getHardfork(e))==null?void 0:r.block;return n==null?null:BigInt(n)}hardforkTimestamp(e){var r;e=e??this._hardfork;const n=(r=this._getHardfork(e))==null?void 0:r.timestamp;return n==null?null:BigInt(n)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(n[0])}return null}hardforkTTD(e){var r;e=e??this._hardfork;const n=(r=this._getHardfork(e))==null?void 0:r.ttd;return n==null?null:BigInt(n)}nextHardforkBlockOrTimestamp(e){e=e??this._hardfork;const n=this.hardforks();let r=n.findIndex(a=>a.name===e);if(e===Je.Paris&&(r-=1),r<0)return null;let i=n[r].timestamp??n[r].block;i=i!=null?Number(i):null;const s=n.slice(r+1).find(a=>{let c=a.timestamp??a.block;return c=c!=null?Number(c):null,a.name!==Je.Paris&&c!==null&&c!==void 0&&c!==i});if(s===void 0)return null;const o=s.timestamp??s.block;return o==null?null:BigInt(o)}_calcForkHash(e,n){let r=new Uint8Array(0),i=0;for(const a of this.hardforks()){const{block:c,timestamp:f,name:l}=a;let u=f??c;if(u=u!==null?Number(u):null,typeof u=="number"&&u!==0&&u!==i&&l!==Je.Paris){const p=Qn("0x"+u.toString(16).padStart(16,"0"));r=er(r,p),i=u}if(a.name===e)break}const s=er(n,r);return et(p4(kB(s)>>>0))}forkHash(e,n){e=e??this._hardfork;const r=this._getHardfork(e);if(r===null||(r==null?void 0:r.block)===null&&(r==null?void 0:r.timestamp)===void 0&&(r==null?void 0:r.ttd)===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if((r==null?void 0:r.forkHash)!==null&&(r==null?void 0:r.forkHash)!==void 0)return r.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(e,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){for(const n of this.hardforks()){const r=n.timestamp??n.block;(n.forkHash===null||n.forkHash===void 0)&&(r!=null||typeof n.ttd<"u")&&(n.forkHash=this.forkHash(n.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES){if("consensus"in r[1]){const i=r[1],s=i.consensus.algorithm;n=i.consensus[s]}if(r[0]===e)break}return n??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.events=new J1.EventEmitter,e}static getInitializedChains(e){const n={};for(const[i,s]of Object.entries(Cs))n[s]=i.toLowerCase();const r={...CB};if(e)for(const i of e){const{name:s}=i;n[i.chainId.toString()]=s,r[s]=i}return r.names=n,r}}class Id{constructor(e){this._stats={cache:{reads:0,hits:0,writes:0},db:{reads:0,hits:0,writes:0}},this.db=e.db,this.cacheSize=e.cacheSize??0,this.valueEncoding=e.valueEncoding??fi.String,this.checkpoints=[],this.cacheSize>0&&(this._cache=new _d({max:this.cacheSize,updateAgeOnGet:!0}))}setCheckpoints(e){this.checkpoints=[];for(let n=0;n<e.length;n++)this.checkpoints.push({root:e[n].root,keyValueMap:new Map(e[n].keyValueMap)})}hasCheckpoints(){return this.checkpoints.length>0}checkpoint(e){this.checkpoints.push({keyValueMap:new Map,root:e})}async commit(){const{keyValueMap:e}=this.checkpoints.pop();if(this.hasCheckpoints()){const n=this.checkpoints[this.checkpoints.length-1].keyValueMap;for(const[r,i]of e.entries())n.set(r,i)}else{const n=[];for(const[r,i]of e.entries())i===void 0?n.push({type:"del",key:A1(r)}):n.push({type:"put",key:A1(r),value:i});await this.batch(n)}}async revert(){const{root:e}=this.checkpoints.pop();return e}async get(e){var s;const n=mr(e);if(this._cache!==void 0){const o=this._cache.get(n);if(this._stats.cache.reads+=1,o!==void 0)return this._stats.cache.hits+=1,o}for(let o=this.checkpoints.length-1;o>=0;o--)if(this.checkpoints[o].keyValueMap.has(n))return this.checkpoints[o].keyValueMap.get(n);const r=await this.db.get(n,{keyEncoding:u0.String,valueEncoding:this.valueEncoding});this._stats.db.reads+=1,r!==void 0&&(this._stats.db.hits+=1);const i=r!==void 0?r instanceof Uint8Array?r:A1(r):void 0;return(s=this._cache)==null||s.set(n,i),this.hasCheckpoints()&&this.checkpoints[this.checkpoints.length-1].keyValueMap.set(n,i),i}async put(e,n){const r=mr(e);if(this.hasCheckpoints())this.checkpoints[this.checkpoints.length-1].keyValueMap.set(r,n);else{const i=this.valueEncoding===fi.Bytes?n:mr(n);await this.db.put(r,i,{keyEncoding:u0.String,valueEncoding:this.valueEncoding}),this._stats.db.writes+=1,this._cache!==void 0&&(this._cache.set(r,n),this._stats.cache.writes+=1)}}async del(e){const n=mr(e);this.hasCheckpoints()?this.checkpoints[this.checkpoints.length-1].keyValueMap.set(n,void 0):(await this.db.del(n,{keyEncoding:u0.String}),this._stats.db.writes+=1,this._cache!==void 0&&(this._cache.set(n,void 0),this._stats.cache.writes+=1))}async batch(e){if(this.hasCheckpoints())for(const n of e)n.type==="put"?await this.put(n.key,n.value):n.type==="del"&&await this.del(n.key);else{const n=e.map(r=>{const i={key:mr(r.key),value:r.type==="put"?r.value:void 0,type:r.type,opts:{...r.opts,valueEncoding:this.valueEncoding}};return r.type==="put"&&this.valueEncoding===fi.String&&(i.value=mr(i.value)),i});await this.db.batch(n)}}stats(e=!0){var r;const n={...this._stats,size:((r=this._cache)==null?void 0:r.size)??0};return e&&(this._stats={cache:{reads:0,hits:0,writes:0},db:{reads:0,hits:0,writes:0}}),n}shallowCopy(){return new Id({db:this.db,cacheSize:this.cacheSize,valueEncoding:this.valueEncoding})}open(){return Promise.resolve()}}class wn{constructor(){this._branches=new Array(16).fill(null),this._value=null}static fromArray(e){const n=new wn;return n._branches=e.slice(0,16),n._value=e[16],n}value(e){return e!=null&&(this._value=e),this._value&&this._value.length>0?this._value:null}setBranch(e,n){this._branches[e]=n}raw(){return[...this._branches,this._value]}serialize(){return pn.encode(this.raw())}getBranch(e){const n=this._branches[e];return n!==null&&n.length>0?n:null}getChildren(){const e=[];for(let n=0;n<16;n++){const r=this._branches[n];r!==null&&r.length>0&&e.push([n,r])}return e}}function _b(t,e){return t.length%2?t.unshift(1):(t.unshift(0),t.unshift(0)),e&&(t[0]+=2),t}function LB(t){return t[0]%2?t=t.slice(1):t=t.slice(2),t}function FB(t){return t[0]>1}function gi(t){const e=Rt(t),n=[];for(let r=0;r<e.length;r++){let i=r*2;n[i]=e[r]>>4,++i,n[i]=e[r]%16}return n}function Vo(t){const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){let r=n*2;e[n]=(t[r]<<4)+t[++r]}return e}function ui(t,e){const n=Math.min(t.length,e.length);let r=0;for(let i=0;i<n;i++)if(t[i]<e[i]){r=-1;break}else if(t[i]>e[i]){r=1;break}return r===0&&(t.length<e.length?r=-1:t.length>e.length&&(r=1)),r}function E3(t,e){let n=0;for(;t[n]===e[n]&&t.length>n;)n++;return n}class L4{constructor(e,n,r){this._nibbles=e,this._value=n,this._terminator=r}static decodeKey(e){return LB(e)}key(e){return e!==void 0&&(this._nibbles=e),this._nibbles.slice(0)}keyLength(){return this._nibbles.length}value(e){return e!==void 0&&(this._value=e),this._value}encodedKey(){return _b(this._nibbles.slice(0),this._terminator)}raw(){return[Vo(this.encodedKey()),this._value]}serialize(){return pn.encode(this.raw())}}class li extends L4{constructor(e,n){super(e,n,!1)}static encodeKey(e){return _b(e,!1)}}class En extends L4{constructor(e,n){super(e,n,!0)}static encodeKey(e){return _b(e,!0)}}function F4(t){if(t.length===17)return wn.fromArray(t);if(t.length===2){const e=gi(t[0]);return FB(e)?new En(En.decodeKey(e),t[1]):new li(li.decodeKey(e),t[1])}else throw new Error("Invalid node")}function e2(t){return Array.isArray(t)&&!(t instanceof Uint8Array)}function MB(t){const e=pn.decode(Uint8Array.from(t));if(!e2(e))throw new Error("Invalid node");return F4(e)}var t2={exports:{}},wh,A3;function UB(){if(A3)return wh;A3=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;wh=function(l,u){u=u||{};var p=typeof l;if(p==="string"&&l.length>0)return o(l);if(p==="number"&&isFinite(l))return u.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(u){var p=parseFloat(u[1]),m=(u[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(l){var u=Math.abs(l);return u>=r?Math.round(l/r)+"d":u>=n?Math.round(l/n)+"h":u>=e?Math.round(l/e)+"m":u>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var u=Math.abs(l);return u>=r?f(l,u,r,"day"):u>=n?f(l,u,n,"hour"):u>=e?f(l,u,e,"minute"):u>=t?f(l,u,t,"second"):l+" ms"}function f(l,u,p,m){var A=u>=p*1.5;return Math.round(l/p)+" "+m+(A?"s":"")}return wh}function DB(t){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=o,n.humanize=UB(),n.destroy=f,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let u=0;for(let p=0;p<l.length;p++)u=(u<<5)-u+l.charCodeAt(p),u|=0;return n.colors[Math.abs(u)%n.colors.length]}n.selectColor=e;function n(l){let u,p=null,m,A;function E(...I){if(!E.enabled)return;const w=E,N=Number(new Date),F=N-(u||N);w.diff=F,w.prev=u,w.curr=N,u=N,I[0]=n.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let U=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(z,ce)=>{if(z==="%%")return"%";U++;const ee=n.formatters[ce];if(typeof ee=="function"){const ae=I[U];z=ee.call(w,ae),I.splice(U,1),U--}return z}),n.formatArgs.call(w,I),(w.log||n.log).apply(w,I)}return E.namespace=l,E.useColors=n.useColors(),E.color=n.selectColor(l),E.extend=r,E.destroy=n.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,A=n.enabled(l)),A),set:I=>{p=I}}),typeof n.init=="function"&&n.init(E),E}function r(l,u){const p=n(this.namespace+(typeof u>"u"?":":u)+l);return p.log=this.log,p}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];let u;const p=(typeof l=="string"?l:"").split(/[\s,]+/),m=p.length;for(u=0;u<m;u++)p[u]&&(l=p[u].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.slice(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...n.names.map(a),...n.skips.map(a).map(u=>"-"+u)].join(",");return n.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let u,p;for(u=0,p=n.skips.length;u<p;u++)if(n.skips[u].test(l))return!1;for(u=0,p=n.names.length;u<p;u++)if(n.names[u].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var HB=DB;(function(t,e){var n={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;f.splice(1,0,l,"color: inherit");let u=0,p=0;f[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(u++,m==="%c"&&(p=u))}),f.splice(p,0,l)}e.log=console.debug||console.log||(()=>{});function s(f){try{f?e.storage.setItem("debug",f):e.storage.removeItem("debug")}catch{}}function o(){let f;try{f=e.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=n.DEBUG),f}function a(){try{return localStorage}catch{}}t.exports=HB(e);const{formatters:c}=t.exports;c.j=function(f){try{return JSON.stringify(f)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(t2,t2.exports);var GB=t2.exports;const VB=Il(GB),ko=G2("__root__");async function*n2(t,e=[],n=async(s,o)=>{},r=async(s,o)=>!0,i=new Set){if(!sn(t,this.EMPTY_TRIE_ROOT))try{const s=await this.lookupNode(t);if(s===void 0||i.has(e5(this.hash(s.serialize()))))return;if(i.add(e5(this.hash(s.serialize()))),await n(s,e),await r(s,e)&&(yield{node:s,currentKey:e}),s instanceof wn)for(const[o,a]of s._branches.entries()){const c=[...e,o],f=a instanceof Uint8Array?a:this.hash(pn.encode(a));yield*n2.bind(this)(f,c,n,r,i)}else if(s instanceof li){const o=s.value(),a=[...e,...s._nibbles];yield*n2.bind(this)(o,a,n,r,i)}}catch{return}}var r2={exports:{}};typeof Object.create=="function"?r2.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:r2.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Kf=r2.exports,M4=J1.EventEmitter,Fl={},I6={};I6.byteLength=jB;I6.toByteArray=WB;I6.fromByteArray=YB;var Ss=[],wi=[],$B=typeof Uint8Array<"u"?Uint8Array:Array,vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ya=0,zB=vh.length;Ya<zB;++Ya)Ss[Ya]=vh[Ya],wi[vh.charCodeAt(Ya)]=Ya;wi[45]=62;wi[95]=63;function U4(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function jB(t){var e=U4(t),n=e[0],r=e[1];return(n+r)*3/4-r}function KB(t,e,n){return(e+n)*3/4-n}function WB(t){var e,n=U4(t),r=n[0],i=n[1],s=new $B(KB(t,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=wi[t.charCodeAt(c)]<<18|wi[t.charCodeAt(c+1)]<<12|wi[t.charCodeAt(c+2)]<<6|wi[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=wi[t.charCodeAt(c)]<<2|wi[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=wi[t.charCodeAt(c)]<<10|wi[t.charCodeAt(c+1)]<<4|wi[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function QB(t){return Ss[t>>18&63]+Ss[t>>12&63]+Ss[t>>6&63]+Ss[t&63]}function JB(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(QB(r));return i.join("")}function YB(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(JB(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Ss[e>>2]+Ss[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ss[e>>10]+Ss[e>>4&63]+Ss[e<<2&63]+"=")),i.join("")}var Pb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Pb.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,f=c>>1,l=-7,u=n?i-1:0,p=n?-1:1,m=t[e+u];for(u+=p,s=m&(1<<-l)-1,m>>=-l,l+=a;l>0;s=s*256+t[e+u],u+=p,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+t[e+u],u+=p,l-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-f}return(m?-1:1)*o*Math.pow(2,s-r)};Pb.write=function(t,e,n,r,i,s){var o,a,c,f=s*8-i-1,l=(1<<f)-1,u=l>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,A=r?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+u>=1?e+=p/c:e+=p*Math.pow(2,1-u),e*c>=2&&(o++,c/=2),o+u>=l?(a=0,o=l):o+u>=1?(a=(e*c-1)*Math.pow(2,i),o=o+u):(a=e*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=a&255,m+=A,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;t[n+m]=o&255,m+=A,o/=256,f-=8);t[n+m-A]|=E*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=I6,n=Pb,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const v=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(v,b),v.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(v){if(v>i)throw new RangeError('The value "'+v+'" is invalid for option "size"');const b=new Uint8Array(v);return Object.setPrototypeOf(b,a.prototype),b}function a(v,b,g){if(typeof v=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(v)}return c(v,b,g)}a.poolSize=8192;function c(v,b,g){if(typeof v=="string")return p(v,b);if(ArrayBuffer.isView(v))return A(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(le(v,ArrayBuffer)||v&&le(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(v,SharedArrayBuffer)||v&&le(v.buffer,SharedArrayBuffer)))return E(v,b,g);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=v.valueOf&&v.valueOf();if(B!=null&&B!==v)return a.from(B,b,g);const D=I(v);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return a.from(v[Symbol.toPrimitive]("string"),b,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}a.from=function(v,b,g){return c(v,b,g)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function l(v,b,g){return f(v),v<=0?o(v):b!==void 0?typeof g=="string"?o(v).fill(b,g):o(v).fill(b):o(v)}a.alloc=function(v,b,g){return l(v,b,g)};function u(v){return f(v),o(v<0?0:w(v)|0)}a.allocUnsafe=function(v){return u(v)},a.allocUnsafeSlow=function(v){return u(v)};function p(v,b){if((typeof b!="string"||b==="")&&(b="utf8"),!a.isEncoding(b))throw new TypeError("Unknown encoding: "+b);const g=F(v,b)|0;let B=o(g);const D=B.write(v,b);return D!==g&&(B=B.slice(0,D)),B}function m(v){const b=v.length<0?0:w(v.length)|0,g=o(b);for(let B=0;B<b;B+=1)g[B]=v[B]&255;return g}function A(v){if(le(v,Uint8Array)){const b=new Uint8Array(v);return E(b.buffer,b.byteOffset,b.byteLength)}return m(v)}function E(v,b,g){if(b<0||v.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<b+(g||0))throw new RangeError('"length" is outside of buffer bounds');let B;return b===void 0&&g===void 0?B=new Uint8Array(v):g===void 0?B=new Uint8Array(v,b):B=new Uint8Array(v,b,g),Object.setPrototypeOf(B,a.prototype),B}function I(v){if(a.isBuffer(v)){const b=w(v.length)|0,g=o(b);return g.length===0||v.copy(g,0,0,b),g}if(v.length!==void 0)return typeof v.length!="number"||Ie(v.length)?o(0):m(v);if(v.type==="Buffer"&&Array.isArray(v.data))return m(v.data)}function w(v){if(v>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return v|0}function N(v){return+v!=v&&(v=0),a.alloc(+v)}a.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==a.prototype},a.compare=function(b,g){if(le(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),le(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(b)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===g)return 0;let B=b.length,D=g.length;for(let X=0,fe=Math.min(B,D);X<fe;++X)if(b[X]!==g[X]){B=b[X],D=g[X];break}return B<D?-1:D<B?1:0},a.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(b,g){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return a.alloc(0);let B;if(g===void 0)for(g=0,B=0;B<b.length;++B)g+=b[B].length;const D=a.allocUnsafe(g);let X=0;for(B=0;B<b.length;++B){let fe=b[B];if(le(fe,Uint8Array))X+fe.length>D.length?(a.isBuffer(fe)||(fe=a.from(fe)),fe.copy(D,X)):Uint8Array.prototype.set.call(D,fe,X);else if(a.isBuffer(fe))fe.copy(D,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=fe.length}return D};function F(v,b){if(a.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||le(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);const g=v.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&g===0)return 0;let D=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return K(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return ye(v).length;default:if(D)return B?-1:K(v).length;b=(""+b).toLowerCase(),D=!0}}a.byteLength=F;function U(v,b,g){let B=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,b>>>=0,g<=b))return"";for(v||(v="utf8");;)switch(v){case"hex":return ze(this,b,g);case"utf8":case"utf-8":return Mt(this,b,g);case"ascii":return He(this,b,g);case"latin1":case"binary":return tt(this,b,g);case"base64":return ot(this,b,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke(this,b,g);default:if(B)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),B=!0}}a.prototype._isBuffer=!0;function H(v,b,g){const B=v[b];v[b]=v[g],v[g]=B}a.prototype.swap16=function(){const b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<b;g+=2)H(this,g,g+1);return this},a.prototype.swap32=function(){const b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<b;g+=4)H(this,g,g+3),H(this,g+1,g+2);return this},a.prototype.swap64=function(){const b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<b;g+=8)H(this,g,g+7),H(this,g+1,g+6),H(this,g+2,g+5),H(this,g+3,g+4);return this},a.prototype.toString=function(){const b=this.length;return b===0?"":arguments.length===0?Mt(this,0,b):U.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:a.compare(this,b)===0},a.prototype.inspect=function(){let b="";const g=t.INSPECT_MAX_BYTES;return b=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(b+=" ... "),"<Buffer "+b+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(b,g,B,D,X){if(le(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(g===void 0&&(g=0),B===void 0&&(B=b?b.length:0),D===void 0&&(D=0),X===void 0&&(X=this.length),g<0||B>b.length||D<0||X>this.length)throw new RangeError("out of range index");if(D>=X&&g>=B)return 0;if(D>=X)return-1;if(g>=B)return 1;if(g>>>=0,B>>>=0,D>>>=0,X>>>=0,this===b)return 0;let fe=X-D,st=B-g;const $t=Math.min(fe,st),gt=this.slice(D,X),Nt=b.slice(g,B);for(let Ut=0;Ut<$t;++Ut)if(gt[Ut]!==Nt[Ut]){fe=gt[Ut],st=Nt[Ut];break}return fe<st?-1:st<fe?1:0};function z(v,b,g,B,D){if(v.length===0)return-1;if(typeof g=="string"?(B=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Ie(g)&&(g=D?0:v.length-1),g<0&&(g=v.length+g),g>=v.length){if(D)return-1;g=v.length-1}else if(g<0)if(D)g=0;else return-1;if(typeof b=="string"&&(b=a.from(b,B)),a.isBuffer(b))return b.length===0?-1:ce(v,b,g,B,D);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(v,b,g):Uint8Array.prototype.lastIndexOf.call(v,b,g):ce(v,[b],g,B,D);throw new TypeError("val must be string, number or Buffer")}function ce(v,b,g,B,D){let X=1,fe=v.length,st=b.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(v.length<2||b.length<2)return-1;X=2,fe/=2,st/=2,g/=2}function $t(Nt,Ut){return X===1?Nt[Ut]:Nt.readUInt16BE(Ut*X)}let gt;if(D){let Nt=-1;for(gt=g;gt<fe;gt++)if($t(v,gt)===$t(b,Nt===-1?0:gt-Nt)){if(Nt===-1&&(Nt=gt),gt-Nt+1===st)return Nt*X}else Nt!==-1&&(gt-=gt-Nt),Nt=-1}else for(g+st>fe&&(g=fe-st),gt=g;gt>=0;gt--){let Nt=!0;for(let Ut=0;Ut<st;Ut++)if($t(v,gt+Ut)!==$t(b,Ut)){Nt=!1;break}if(Nt)return gt}return-1}a.prototype.includes=function(b,g,B){return this.indexOf(b,g,B)!==-1},a.prototype.indexOf=function(b,g,B){return z(this,b,g,B,!0)},a.prototype.lastIndexOf=function(b,g,B){return z(this,b,g,B,!1)};function ee(v,b,g,B){g=Number(g)||0;const D=v.length-g;B?(B=Number(B),B>D&&(B=D)):B=D;const X=b.length;B>X/2&&(B=X/2);let fe;for(fe=0;fe<B;++fe){const st=parseInt(b.substr(fe*2,2),16);if(Ie(st))return fe;v[g+fe]=st}return fe}function ae(v,b,g,B){return _e(K(b,v.length-g),v,g,B)}function Te(v,b,g,B){return _e(ne(b),v,g,B)}function Ce(v,b,g,B){return _e(ye(b),v,g,B)}function lt(v,b,g,B){return _e(we(b,v.length-g),v,g,B)}a.prototype.write=function(b,g,B,D){if(g===void 0)D="utf8",B=this.length,g=0;else if(B===void 0&&typeof g=="string")D=g,B=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(B)?(B=B>>>0,D===void 0&&(D="utf8")):(D=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-g;if((B===void 0||B>X)&&(B=X),b.length>0&&(B<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let fe=!1;for(;;)switch(D){case"hex":return ee(this,b,g,B);case"utf8":case"utf-8":return ae(this,b,g,B);case"ascii":case"latin1":case"binary":return Te(this,b,g,B);case"base64":return Ce(this,b,g,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,b,g,B);default:if(fe)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),fe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ot(v,b,g){return b===0&&g===v.length?e.fromByteArray(v):e.fromByteArray(v.slice(b,g))}function Mt(v,b,g){g=Math.min(v.length,g);const B=[];let D=b;for(;D<g;){const X=v[D];let fe=null,st=X>239?4:X>223?3:X>191?2:1;if(D+st<=g){let $t,gt,Nt,Ut;switch(st){case 1:X<128&&(fe=X);break;case 2:$t=v[D+1],($t&192)===128&&(Ut=(X&31)<<6|$t&63,Ut>127&&(fe=Ut));break;case 3:$t=v[D+1],gt=v[D+2],($t&192)===128&&(gt&192)===128&&(Ut=(X&15)<<12|($t&63)<<6|gt&63,Ut>2047&&(Ut<55296||Ut>57343)&&(fe=Ut));break;case 4:$t=v[D+1],gt=v[D+2],Nt=v[D+3],($t&192)===128&&(gt&192)===128&&(Nt&192)===128&&(Ut=(X&15)<<18|($t&63)<<12|(gt&63)<<6|Nt&63,Ut>65535&&Ut<1114112&&(fe=Ut))}}fe===null?(fe=65533,st=1):fe>65535&&(fe-=65536,B.push(fe>>>10&1023|55296),fe=56320|fe&1023),B.push(fe),D+=st}return xe(B)}const me=4096;function xe(v){const b=v.length;if(b<=me)return String.fromCharCode.apply(String,v);let g="",B=0;for(;B<b;)g+=String.fromCharCode.apply(String,v.slice(B,B+=me));return g}function He(v,b,g){let B="";g=Math.min(v.length,g);for(let D=b;D<g;++D)B+=String.fromCharCode(v[D]&127);return B}function tt(v,b,g){let B="";g=Math.min(v.length,g);for(let D=b;D<g;++D)B+=String.fromCharCode(v[D]);return B}function ze(v,b,g){const B=v.length;(!b||b<0)&&(b=0),(!g||g<0||g>B)&&(g=B);let D="";for(let X=b;X<g;++X)D+=Fe[v[X]];return D}function Ke(v,b,g){const B=v.slice(b,g);let D="";for(let X=0;X<B.length-1;X+=2)D+=String.fromCharCode(B[X]+B[X+1]*256);return D}a.prototype.slice=function(b,g){const B=this.length;b=~~b,g=g===void 0?B:~~g,b<0?(b+=B,b<0&&(b=0)):b>B&&(b=B),g<0?(g+=B,g<0&&(g=0)):g>B&&(g=B),g<b&&(g=b);const D=this.subarray(b,g);return Object.setPrototypeOf(D,a.prototype),D};function De(v,b,g){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+b>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(b,g,B){b=b>>>0,g=g>>>0,B||De(b,g,this.length);let D=this[b],X=1,fe=0;for(;++fe<g&&(X*=256);)D+=this[b+fe]*X;return D},a.prototype.readUintBE=a.prototype.readUIntBE=function(b,g,B){b=b>>>0,g=g>>>0,B||De(b,g,this.length);let D=this[b+--g],X=1;for(;g>0&&(X*=256);)D+=this[b+--g]*X;return D},a.prototype.readUint8=a.prototype.readUInt8=function(b,g){return b=b>>>0,g||De(b,1,this.length),this[b]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(b,g){return b=b>>>0,g||De(b,2,this.length),this[b]|this[b+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(b,g){return b=b>>>0,g||De(b,2,this.length),this[b]<<8|this[b+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(b,g){return b=b>>>0,g||De(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(b,g){return b=b>>>0,g||De(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},a.prototype.readBigUInt64LE=Oe(function(b){b=b>>>0,x(b,"offset");const g=this[b],B=this[b+7];(g===void 0||B===void 0)&&_(b,this.length-8);const D=g+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,X=this[++b]+this[++b]*2**8+this[++b]*2**16+B*2**24;return BigInt(D)+(BigInt(X)<<BigInt(32))}),a.prototype.readBigUInt64BE=Oe(function(b){b=b>>>0,x(b,"offset");const g=this[b],B=this[b+7];(g===void 0||B===void 0)&&_(b,this.length-8);const D=g*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],X=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+B;return(BigInt(D)<<BigInt(32))+BigInt(X)}),a.prototype.readIntLE=function(b,g,B){b=b>>>0,g=g>>>0,B||De(b,g,this.length);let D=this[b],X=1,fe=0;for(;++fe<g&&(X*=256);)D+=this[b+fe]*X;return X*=128,D>=X&&(D-=Math.pow(2,8*g)),D},a.prototype.readIntBE=function(b,g,B){b=b>>>0,g=g>>>0,B||De(b,g,this.length);let D=g,X=1,fe=this[b+--D];for(;D>0&&(X*=256);)fe+=this[b+--D]*X;return X*=128,fe>=X&&(fe-=Math.pow(2,8*g)),fe},a.prototype.readInt8=function(b,g){return b=b>>>0,g||De(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},a.prototype.readInt16LE=function(b,g){b=b>>>0,g||De(b,2,this.length);const B=this[b]|this[b+1]<<8;return B&32768?B|4294901760:B},a.prototype.readInt16BE=function(b,g){b=b>>>0,g||De(b,2,this.length);const B=this[b+1]|this[b]<<8;return B&32768?B|4294901760:B},a.prototype.readInt32LE=function(b,g){return b=b>>>0,g||De(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},a.prototype.readInt32BE=function(b,g){return b=b>>>0,g||De(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},a.prototype.readBigInt64LE=Oe(function(b){b=b>>>0,x(b,"offset");const g=this[b],B=this[b+7];(g===void 0||B===void 0)&&_(b,this.length-8);const D=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(B<<24);return(BigInt(D)<<BigInt(32))+BigInt(g+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),a.prototype.readBigInt64BE=Oe(function(b){b=b>>>0,x(b,"offset");const g=this[b],B=this[b+7];(g===void 0||B===void 0)&&_(b,this.length-8);const D=(g<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(D)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+B)}),a.prototype.readFloatLE=function(b,g){return b=b>>>0,g||De(b,4,this.length),n.read(this,b,!0,23,4)},a.prototype.readFloatBE=function(b,g){return b=b>>>0,g||De(b,4,this.length),n.read(this,b,!1,23,4)},a.prototype.readDoubleLE=function(b,g){return b=b>>>0,g||De(b,8,this.length),n.read(this,b,!0,52,8)},a.prototype.readDoubleBE=function(b,g){return b=b>>>0,g||De(b,8,this.length),n.read(this,b,!1,52,8)};function Me(v,b,g,B,D,X){if(!a.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>D||b<X)throw new RangeError('"value" argument is out of bounds');if(g+B>v.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(b,g,B,D){if(b=+b,g=g>>>0,B=B>>>0,!D){const st=Math.pow(2,8*B)-1;Me(this,b,g,B,st,0)}let X=1,fe=0;for(this[g]=b&255;++fe<B&&(X*=256);)this[g+fe]=b/X&255;return g+B},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(b,g,B,D){if(b=+b,g=g>>>0,B=B>>>0,!D){const st=Math.pow(2,8*B)-1;Me(this,b,g,B,st,0)}let X=B-1,fe=1;for(this[g+X]=b&255;--X>=0&&(fe*=256);)this[g+X]=b/fe&255;return g+B},a.prototype.writeUint8=a.prototype.writeUInt8=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,1,255,0),this[g]=b&255,g+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,2,65535,0),this[g]=b&255,this[g+1]=b>>>8,g+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,2,65535,0),this[g]=b>>>8,this[g+1]=b&255,g+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,4,4294967295,0),this[g+3]=b>>>24,this[g+2]=b>>>16,this[g+1]=b>>>8,this[g]=b&255,g+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,4,4294967295,0),this[g]=b>>>24,this[g+1]=b>>>16,this[g+2]=b>>>8,this[g+3]=b&255,g+4};function dt(v,b,g,B,D){k(b,B,D,v,g,7);let X=Number(b&BigInt(4294967295));v[g++]=X,X=X>>8,v[g++]=X,X=X>>8,v[g++]=X,X=X>>8,v[g++]=X;let fe=Number(b>>BigInt(32)&BigInt(4294967295));return v[g++]=fe,fe=fe>>8,v[g++]=fe,fe=fe>>8,v[g++]=fe,fe=fe>>8,v[g++]=fe,g}function it(v,b,g,B,D){k(b,B,D,v,g,7);let X=Number(b&BigInt(4294967295));v[g+7]=X,X=X>>8,v[g+6]=X,X=X>>8,v[g+5]=X,X=X>>8,v[g+4]=X;let fe=Number(b>>BigInt(32)&BigInt(4294967295));return v[g+3]=fe,fe=fe>>8,v[g+2]=fe,fe=fe>>8,v[g+1]=fe,fe=fe>>8,v[g]=fe,g+8}a.prototype.writeBigUInt64LE=Oe(function(b,g=0){return dt(this,b,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Oe(function(b,g=0){return it(this,b,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(b,g,B,D){if(b=+b,g=g>>>0,!D){const $t=Math.pow(2,8*B-1);Me(this,b,g,B,$t-1,-$t)}let X=0,fe=1,st=0;for(this[g]=b&255;++X<B&&(fe*=256);)b<0&&st===0&&this[g+X-1]!==0&&(st=1),this[g+X]=(b/fe>>0)-st&255;return g+B},a.prototype.writeIntBE=function(b,g,B,D){if(b=+b,g=g>>>0,!D){const $t=Math.pow(2,8*B-1);Me(this,b,g,B,$t-1,-$t)}let X=B-1,fe=1,st=0;for(this[g+X]=b&255;--X>=0&&(fe*=256);)b<0&&st===0&&this[g+X+1]!==0&&(st=1),this[g+X]=(b/fe>>0)-st&255;return g+B},a.prototype.writeInt8=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,1,127,-128),b<0&&(b=255+b+1),this[g]=b&255,g+1},a.prototype.writeInt16LE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,2,32767,-32768),this[g]=b&255,this[g+1]=b>>>8,g+2},a.prototype.writeInt16BE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,2,32767,-32768),this[g]=b>>>8,this[g+1]=b&255,g+2},a.prototype.writeInt32LE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,4,2147483647,-2147483648),this[g]=b&255,this[g+1]=b>>>8,this[g+2]=b>>>16,this[g+3]=b>>>24,g+4},a.prototype.writeInt32BE=function(b,g,B){return b=+b,g=g>>>0,B||Me(this,b,g,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[g]=b>>>24,this[g+1]=b>>>16,this[g+2]=b>>>8,this[g+3]=b&255,g+4},a.prototype.writeBigInt64LE=Oe(function(b,g=0){return dt(this,b,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Oe(function(b,g=0){return it(this,b,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(v,b,g,B,D,X){if(g+B>v.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function V(v,b,g,B,D){return b=+b,g=g>>>0,D||Se(v,b,g,4),n.write(v,b,g,B,23,4),g+4}a.prototype.writeFloatLE=function(b,g,B){return V(this,b,g,!0,B)},a.prototype.writeFloatBE=function(b,g,B){return V(this,b,g,!1,B)};function O(v,b,g,B,D){return b=+b,g=g>>>0,D||Se(v,b,g,8),n.write(v,b,g,B,52,8),g+8}a.prototype.writeDoubleLE=function(b,g,B){return O(this,b,g,!0,B)},a.prototype.writeDoubleBE=function(b,g,B){return O(this,b,g,!1,B)},a.prototype.copy=function(b,g,B,D){if(!a.isBuffer(b))throw new TypeError("argument should be a Buffer");if(B||(B=0),!D&&D!==0&&(D=this.length),g>=b.length&&(g=b.length),g||(g=0),D>0&&D<B&&(D=B),D===B||b.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),b.length-g<D-B&&(D=b.length-g+B);const X=D-B;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,B,D):Uint8Array.prototype.set.call(b,this.subarray(B,D),g),X},a.prototype.fill=function(b,g,B,D){if(typeof b=="string"){if(typeof g=="string"?(D=g,g=0,B=this.length):typeof B=="string"&&(D=B,B=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!a.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(b.length===1){const fe=b.charCodeAt(0);(D==="utf8"&&fe<128||D==="latin1")&&(b=fe)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(g<0||this.length<g||this.length<B)throw new RangeError("Out of range index");if(B<=g)return this;g=g>>>0,B=B===void 0?this.length:B>>>0,b||(b=0);let X;if(typeof b=="number")for(X=g;X<B;++X)this[X]=b;else{const fe=a.isBuffer(b)?b:a.from(b,D),st=fe.length;if(st===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(X=0;X<B-g;++X)this[X+g]=fe[X%st]}return this};const j={};function te(v,b,g){j[v]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(v,b){return`The "${v}" argument must be of type number. Received type ${typeof b}`},TypeError),te("ERR_OUT_OF_RANGE",function(v,b,g){let B=`The value of "${v}" is out of range.`,D=g;return Number.isInteger(g)&&Math.abs(g)>2**32?D=oe(String(g)):typeof g=="bigint"&&(D=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(D=oe(D)),D+="n"),B+=` It must be ${b}. Received ${D}`,B},RangeError);function oe(v){let b="",g=v.length;const B=v[0]==="-"?1:0;for(;g>=B+4;g-=3)b=`_${v.slice(g-3,g)}${b}`;return`${v.slice(0,g)}${b}`}function C(v,b,g){x(b,"offset"),(v[b]===void 0||v[b+g]===void 0)&&_(b,v.length-(g+1))}function k(v,b,g,B,D,X){if(v>g||v<b){const fe=typeof b=="bigint"?"n":"";let st;throw X>3?b===0||b===BigInt(0)?st=`>= 0${fe} and < 2${fe} ** ${(X+1)*8}${fe}`:st=`>= -(2${fe} ** ${(X+1)*8-1}${fe}) and < 2 ** ${(X+1)*8-1}${fe}`:st=`>= ${b}${fe} and <= ${g}${fe}`,new j.ERR_OUT_OF_RANGE("value",st,v)}C(B,D,X)}function x(v,b){if(typeof v!="number")throw new j.ERR_INVALID_ARG_TYPE(b,"number",v)}function _(v,b,g){throw Math.floor(v)!==v?(x(v,g),new j.ERR_OUT_OF_RANGE(g||"offset","an integer",v)):b<0?new j.ERR_BUFFER_OUT_OF_BOUNDS:new j.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${b}`,v)}const G=/[^+/0-9A-Za-z-_]/g;function Y(v){if(v=v.split("=")[0],v=v.trim().replace(G,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function K(v,b){b=b||1/0;let g;const B=v.length;let D=null;const X=[];for(let fe=0;fe<B;++fe){if(g=v.charCodeAt(fe),g>55295&&g<57344){if(!D){if(g>56319){(b-=3)>-1&&X.push(239,191,189);continue}else if(fe+1===B){(b-=3)>-1&&X.push(239,191,189);continue}D=g;continue}if(g<56320){(b-=3)>-1&&X.push(239,191,189),D=g;continue}g=(D-55296<<10|g-56320)+65536}else D&&(b-=3)>-1&&X.push(239,191,189);if(D=null,g<128){if((b-=1)<0)break;X.push(g)}else if(g<2048){if((b-=2)<0)break;X.push(g>>6|192,g&63|128)}else if(g<65536){if((b-=3)<0)break;X.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((b-=4)<0)break;X.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return X}function ne(v){const b=[];for(let g=0;g<v.length;++g)b.push(v.charCodeAt(g)&255);return b}function we(v,b){let g,B,D;const X=[];for(let fe=0;fe<v.length&&!((b-=2)<0);++fe)g=v.charCodeAt(fe),B=g>>8,D=g%256,X.push(D),X.push(B);return X}function ye(v){return e.toByteArray(Y(v))}function _e(v,b,g,B){let D;for(D=0;D<B&&!(D+g>=b.length||D>=v.length);++D)b[D+g]=v[D];return D}function le(v,b){return v instanceof b||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===b.name}function Ie(v){return v!==v}const Fe=function(){const v="0123456789abcdef",b=new Array(256);for(let g=0;g<16;++g){const B=g*16;for(let D=0;D<16;++D)b[B+D]=v[g]+v[D]}return b}();function Oe(v){return typeof BigInt>"u"?Xe:v}function Xe(){throw new Error("BigInt not supported")}})(Fl);var Eh,_3;function qB(){if(_3)return Eh;_3=1;function t(A,E){var I=Object.keys(A);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(A);E&&(w=w.filter(function(N){return Object.getOwnPropertyDescriptor(A,N).enumerable})),I.push.apply(I,w)}return I}function e(A){for(var E=1;E<arguments.length;E++){var I=arguments[E]!=null?arguments[E]:{};E%2?t(Object(I),!0).forEach(function(w){n(A,w,I[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(I)):t(Object(I)).forEach(function(w){Object.defineProperty(A,w,Object.getOwnPropertyDescriptor(I,w))})}return A}function n(A,E,I){return E=o(E),E in A?Object.defineProperty(A,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):A[E]=I,A}function r(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function i(A,E){for(var I=0;I<E.length;I++){var w=E[I];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,o(w.key),w)}}function s(A,E,I){return E&&i(A.prototype,E),I&&i(A,I),Object.defineProperty(A,"prototype",{writable:!1}),A}function o(A){var E=a(A,"string");return typeof E=="symbol"?E:String(E)}function a(A,E){if(typeof A!="object"||A===null)return A;var I=A[Symbol.toPrimitive];if(I!==void 0){var w=I.call(A,E||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(A)}var c=Fl,f=c.Buffer,l=ub,u=l.inspect,p=u&&u.custom||"inspect";function m(A,E,I){f.prototype.copy.call(A,E,I)}return Eh=function(){function A(){r(this,A),this.head=null,this.tail=null,this.length=0}return s(A,[{key:"push",value:function(I){var w={data:I,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(I){var w={data:I,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var w=this.head,N=""+w.data;w=w.next;)N+=I+w.data;return N}},{key:"concat",value:function(I){if(this.length===0)return f.alloc(0);for(var w=f.allocUnsafe(I>>>0),N=this.head,F=0;N;)m(N.data,w,F),F+=N.data.length,N=N.next;return w}},{key:"consume",value:function(I,w){var N;return I<this.head.data.length?(N=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?N=this.shift():N=w?this._getString(I):this._getBuffer(I),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var w=this.head,N=1,F=w.data;for(I-=F.length;w=w.next;){var U=w.data,H=I>U.length?U.length:I;if(H===U.length?F+=U:F+=U.slice(0,I),I-=H,I===0){H===U.length?(++N,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=U.slice(H));break}++N}return this.length-=N,F}},{key:"_getBuffer",value:function(I){var w=f.allocUnsafe(I),N=this.head,F=1;for(N.data.copy(w),I-=N.data.length;N=N.next;){var U=N.data,H=I>U.length?U.length:I;if(U.copy(w,w.length-I,0,H),I-=H,I===0){H===U.length?(++F,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=U.slice(H));break}++F}return this.length-=F,w}},{key:p,value:function(I,w){return u(this,e(e({},w),{},{depth:0,customInspect:!1}))}}]),A}(),Eh}function ZB(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i2,this,t)):process.nextTick(i2,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?n._writableState?n._writableState.errorEmitted?process.nextTick(Qu,n):(n._writableState.errorEmitted=!0,process.nextTick(P3,n,s)):process.nextTick(P3,n,s):e?(process.nextTick(Qu,n),e(s)):process.nextTick(Qu,n)}),this)}function P3(t,e){i2(t,e),Qu(t)}function Qu(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function XB(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i2(t,e){t.emit("error",e)}function eR(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}var D4={destroy:ZB,undestroy:XB,errorOrDestroy:eR},Ha={};function tR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var H4={};function Ri(t,e,n){n||(n=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){tR(o,s);function o(a,c,f){return s.call(this,r(a,c,f))||this}return o}(n);i.prototype.name=n.name,i.prototype.code=t,H4[t]=i}function T3(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function nR(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}function rR(t,e,n){return(n===void 0||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function iR(t,e,n){return typeof n!="number"&&(n=0),n+e.length>t.length?!1:t.indexOf(e,n)!==-1}Ri("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ri("ERR_INVALID_ARG_TYPE",function(t,e,n){var r;typeof e=="string"&&nR(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(rR(t," argument"))i="The ".concat(t," ").concat(r," ").concat(T3(e,"type"));else{var s=iR(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(T3(e,"type"))}return i+=". Received type ".concat(typeof n),i},TypeError);Ri("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ri("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ri("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ri("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ri("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ri("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ri("ERR_STREAM_WRITE_AFTER_END","write after end");Ri("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ri("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ri("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ha.codes=H4;var sR=Ha.codes.ERR_INVALID_OPT_VALUE;function oR(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function aR(t,e,n,r){var i=oR(e,r,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=r?n:"highWaterMark";throw new sR(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var G4={getHighWaterMark:aR},cR=fR;function fR(t,e){if(Ah("noDeprecation"))return t;var n=!1;function r(){if(!n){if(Ah("throwDeprecation"))throw new Error(e);Ah("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return r}function Ah(t){try{if(!yf.localStorage)return!1}catch{return!1}var e=yf.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var _h,I3;function Tb(){if(I3)return _h;I3=1,_h=ee;function t(V){var O=this;this.next=null,this.entry=null,this.finish=function(){Se(O,V)}}var e;ee.WritableState=z;var n={deprecate:cR},r=M4,i=Fl.Buffer,s=(typeof yf<"u"?yf:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(V){return i.from(V)}function a(V){return i.isBuffer(V)||V instanceof s}var c=D4,f=G4,l=f.getHighWaterMark,u=Ha.codes,p=u.ERR_INVALID_ARG_TYPE,m=u.ERR_METHOD_NOT_IMPLEMENTED,A=u.ERR_MULTIPLE_CALLBACK,E=u.ERR_STREAM_CANNOT_PIPE,I=u.ERR_STREAM_DESTROYED,w=u.ERR_STREAM_NULL_VALUES,N=u.ERR_STREAM_WRITE_AFTER_END,F=u.ERR_UNKNOWN_ENCODING,U=c.errorOrDestroy;Kf(ee,r);function H(){}function z(V,O,j){e=e||Na(),V=V||{},typeof j!="boolean"&&(j=O instanceof e),this.objectMode=!!V.objectMode,j&&(this.objectMode=this.objectMode||!!V.writableObjectMode),this.highWaterMark=l(this,V,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=V.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){xe(O,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}z.prototype.getBuffer=function(){for(var O=this.bufferedRequest,j=[];O;)j.push(O),O=O.next;return j},function(){try{Object.defineProperty(z.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(ee,Symbol.hasInstance,{value:function(O){return ce.call(this,O)?!0:this!==ee?!1:O&&O._writableState instanceof z}})):ce=function(O){return O instanceof this};function ee(V){e=e||Na();var O=this instanceof e;if(!O&&!ce.call(ee,this))return new ee(V);this._writableState=new z(V,this,O),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),r.call(this)}ee.prototype.pipe=function(){U(this,new E)};function ae(V,O){var j=new N;U(V,j),process.nextTick(O,j)}function Te(V,O,j,te){var oe;return j===null?oe=new w:typeof j!="string"&&!O.objectMode&&(oe=new p("chunk",["string","Buffer"],j)),oe?(U(V,oe),process.nextTick(te,oe),!1):!0}ee.prototype.write=function(V,O,j){var te=this._writableState,oe=!1,C=!te.objectMode&&a(V);return C&&!i.isBuffer(V)&&(V=o(V)),typeof O=="function"&&(j=O,O=null),C?O="buffer":O||(O=te.defaultEncoding),typeof j!="function"&&(j=H),te.ending?ae(this,j):(C||Te(this,te,V,j))&&(te.pendingcb++,oe=lt(this,te,C,V,O,j)),oe},ee.prototype.cork=function(){this._writableState.corked++},ee.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&ze(this,V))},ee.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new F(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(ee.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ce(V,O,j){return!V.objectMode&&V.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,j)),O}Object.defineProperty(ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lt(V,O,j,te,oe,C){if(!j){var k=Ce(O,te,oe);te!==k&&(j=!0,oe="buffer",te=k)}var x=O.objectMode?1:te.length;O.length+=x;var _=O.length<O.highWaterMark;if(_||(O.needDrain=!0),O.writing||O.corked){var G=O.lastBufferedRequest;O.lastBufferedRequest={chunk:te,encoding:oe,isBuf:j,callback:C,next:null},G?G.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else ot(V,O,!1,x,te,oe,C);return _}function ot(V,O,j,te,oe,C,k){O.writelen=te,O.writecb=k,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new I("write")):j?V._writev(oe,O.onwrite):V._write(oe,C,O.onwrite),O.sync=!1}function Mt(V,O,j,te,oe){--O.pendingcb,j?(process.nextTick(oe,te),process.nextTick(dt,V,O),V._writableState.errorEmitted=!0,U(V,te)):(oe(te),V._writableState.errorEmitted=!0,U(V,te),dt(V,O))}function me(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function xe(V,O){var j=V._writableState,te=j.sync,oe=j.writecb;if(typeof oe!="function")throw new A;if(me(j),O)Mt(V,j,te,O,oe);else{var C=Ke(j)||V.destroyed;!C&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&ze(V,j),te?process.nextTick(He,V,j,C,oe):He(V,j,C,oe)}}function He(V,O,j,te){j||tt(V,O),O.pendingcb--,te(),dt(V,O)}function tt(V,O){O.length===0&&O.needDrain&&(O.needDrain=!1,V.emit("drain"))}function ze(V,O){O.bufferProcessing=!0;var j=O.bufferedRequest;if(V._writev&&j&&j.next){var te=O.bufferedRequestCount,oe=new Array(te),C=O.corkedRequestsFree;C.entry=j;for(var k=0,x=!0;j;)oe[k]=j,j.isBuf||(x=!1),j=j.next,k+=1;oe.allBuffers=x,ot(V,O,!0,O.length,oe,"",C.finish),O.pendingcb++,O.lastBufferedRequest=null,C.next?(O.corkedRequestsFree=C.next,C.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;j;){var _=j.chunk,G=j.encoding,Y=j.callback,K=O.objectMode?1:_.length;if(ot(V,O,!1,K,_,G,Y),j=j.next,O.bufferedRequestCount--,O.writing)break}j===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=j,O.bufferProcessing=!1}ee.prototype._write=function(V,O,j){j(new m("_write()"))},ee.prototype._writev=null,ee.prototype.end=function(V,O,j){var te=this._writableState;return typeof V=="function"?(j=V,V=null,O=null):typeof O=="function"&&(j=O,O=null),V!=null&&this.write(V,O),te.corked&&(te.corked=1,this.uncork()),te.ending||it(this,te,j),this},Object.defineProperty(ee.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ke(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function De(V,O){V._final(function(j){O.pendingcb--,j&&U(V,j),O.prefinished=!0,V.emit("prefinish"),dt(V,O)})}function Me(V,O){!O.prefinished&&!O.finalCalled&&(typeof V._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,process.nextTick(De,V,O)):(O.prefinished=!0,V.emit("prefinish")))}function dt(V,O){var j=Ke(O);if(j&&(Me(V,O),O.pendingcb===0&&(O.finished=!0,V.emit("finish"),O.autoDestroy))){var te=V._readableState;(!te||te.autoDestroy&&te.endEmitted)&&V.destroy()}return j}function it(V,O,j){O.ending=!0,dt(V,O),j&&(O.finished?process.nextTick(j):V.once("finish",j)),O.ended=!0,V.writable=!1}function Se(V,O,j){var te=V.entry;for(V.entry=null;te;){var oe=te.callback;O.pendingcb--,oe(j),te=te.next}O.corkedRequestsFree.next=V}return Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),ee.prototype.destroy=c.destroy,ee.prototype._undestroy=c.undestroy,ee.prototype._destroy=function(V,O){O(V)},_h}var Ph,C3;function Na(){if(C3)return Ph;C3=1;var t=Object.keys||function(f){var l=[];for(var u in f)l.push(u);return l};Ph=o;var e=Ib(),n=Tb();Kf(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(f){if(!(this instanceof o))return new o(f);e.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Ph}var Th={},uu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var S3;function lR(){return S3||(S3=1,function(t,e){var n=Fl,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=r(o);return a!==void 0?typeof c=="string"?f.fill(a,c):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(uu,uu.exports)),uu.exports}var k3;function B3(){if(k3)return Th;k3=1;var t=lR().Buffer,e=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(w){if(!w)return"utf8";for(var N;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(N)return;w=(""+w).toLowerCase(),N=!0}}function r(w){var N=n(w);if(typeof N!="string"&&(t.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return N||w}Th.StringDecoder=i;function i(w){this.encoding=r(w);var N;switch(this.encoding){case"utf16le":this.text=u,this.end=p,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=m,this.end=A,N=3;break;default:this.write=E,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(N)}i.prototype.write=function(w){if(w.length===0)return"";var N,F;if(this.lastNeed){if(N=this.fillLast(w),N===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<w.length?N?N+this.text(w,F):this.text(w,F):N||""},i.prototype.end=l,i.prototype.text=f,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function s(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function o(w,N,F){var U=N.length-1;if(U<F)return 0;var H=s(N[U]);return H>=0?(H>0&&(w.lastNeed=H-1),H):--U<F||H===-2?0:(H=s(N[U]),H>=0?(H>0&&(w.lastNeed=H-2),H):--U<F||H===-2?0:(H=s(N[U]),H>=0?(H>0&&(H===2?H=0:w.lastNeed=H-3),H):0))}function a(w,N,F){if((N[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return w.lastNeed=2,""}}function c(w){var N=this.lastTotal-this.lastNeed,F=a(this,w);if(F!==void 0)return F;if(this.lastNeed<=w.length)return w.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,N,0,w.length),this.lastNeed-=w.length}function f(w,N){var F=o(this,w,N);if(!this.lastNeed)return w.toString("utf8",N);this.lastTotal=F;var U=w.length-(F-this.lastNeed);return w.copy(this.lastChar,0,U),w.toString("utf8",N,U)}function l(w){var N=w&&w.length?this.write(w):"";return this.lastNeed?N+"":N}function u(w,N){if((w.length-N)%2===0){var F=w.toString("utf16le",N);if(F){var U=F.charCodeAt(F.length-1);if(U>=55296&&U<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",N,w.length-1)}function p(w){var N=w&&w.length?this.write(w):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,F)}return N}function m(w,N){var F=(w.length-N)%3;return F===0?w.toString("base64",N):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",N,w.length-F))}function A(w){var N=w&&w.length?this.write(w):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function E(w){return w.toString(this.encoding)}function I(w){return w&&w.length?this.write(w):""}return Th}var R3=Ha.codes.ERR_STREAM_PREMATURE_CLOSE;function uR(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}function dR(){}function hR(t){return t.setHeader&&typeof t.abort=="function"}function V4(t,e,n){if(typeof e=="function")return V4(t,null,e);e||(e={}),n=uR(n||dR);var r=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,r||n.call(t)},c=t._readableState&&t._readableState.endEmitted,f=function(){r=!1,c=!0,i||n.call(t)},l=function(A){n.call(t,A)},u=function(){var A;if(r&&!c)return(!t._readableState||!t._readableState.ended)&&(A=new R3),n.call(t,A);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new R3),n.call(t,A)},p=function(){t.req.on("finish",a)};return hR(t)?(t.on("complete",a),t.on("abort",u),t.req?p():t.on("request",p)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",f),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",u),function(){t.removeListener("complete",a),t.removeListener("abort",u),t.removeListener("request",p),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",f),t.removeListener("error",l),t.removeListener("close",u)}}var C6=V4,Ih,N3;function bR(){if(N3)return Ih;N3=1;var t;function e(F,U,H){return U=n(U),U in F?Object.defineProperty(F,U,{value:H,enumerable:!0,configurable:!0,writable:!0}):F[U]=H,F}function n(F){var U=r(F,"string");return typeof U=="symbol"?U:String(U)}function r(F,U){if(typeof F!="object"||F===null)return F;var H=F[Symbol.toPrimitive];if(H!==void 0){var z=H.call(F,U||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(F)}var i=C6,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function p(F,U){return{value:F,done:U}}function m(F){var U=F[s];if(U!==null){var H=F[u].read();H!==null&&(F[f]=null,F[s]=null,F[o]=null,U(p(H,!1)))}}function A(F){process.nextTick(m,F)}function E(F,U){return function(H,z){F.then(function(){if(U[c]){H(p(void 0,!0));return}U[l](H,z)},z)}}var I=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var U=this,H=this[a];if(H!==null)return Promise.reject(H);if(this[c])return Promise.resolve(p(void 0,!0));if(this[u].destroyed)return new Promise(function(ae,Te){process.nextTick(function(){U[a]?Te(U[a]):ae(p(void 0,!0))})});var z=this[f],ce;if(z)ce=new Promise(E(z,this));else{var ee=this[u].read();if(ee!==null)return Promise.resolve(p(ee,!1));ce=new Promise(this[l])}return this[f]=ce,ce}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var U=this;return new Promise(function(H,z){U[u].destroy(null,function(ce){if(ce){z(ce);return}H(p(void 0,!0))})})}),t),I),N=function(U){var H,z=Object.create(w,(H={},e(H,u,{value:U,writable:!0}),e(H,s,{value:null,writable:!0}),e(H,o,{value:null,writable:!0}),e(H,a,{value:null,writable:!0}),e(H,c,{value:U._readableState.endEmitted,writable:!0}),e(H,l,{value:function(ee,ae){var Te=z[u].read();Te?(z[f]=null,z[s]=null,z[o]=null,ee(p(Te,!1))):(z[s]=ee,z[o]=ae)},writable:!0}),H));return z[f]=null,i(U,function(ce){if(ce&&ce.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ee=z[o];ee!==null&&(z[f]=null,z[s]=null,z[o]=null,ee(ce)),z[a]=ce;return}var ae=z[s];ae!==null&&(z[f]=null,z[s]=null,z[o]=null,ae(p(void 0,!0))),z[c]=!0}),U.on("readable",A.bind(null,z)),z};return Ih=N,Ih}var Ch,O3;function pR(){return O3||(O3=1,Ch=function(){throw new Error("Readable.from is not available in the browser")}),Ch}var Sh,L3;function Ib(){if(L3)return Sh;L3=1,Sh=ae;var t;ae.ReadableState=ee,J1.EventEmitter;var e=function(k,x){return k.listeners(x).length},n=M4,r=Fl.Buffer,i=(typeof yf<"u"?yf:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(C){return r.from(C)}function o(C){return r.isBuffer(C)||C instanceof i}var a=ub,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var f=qB(),l=D4,u=G4,p=u.getHighWaterMark,m=Ha.codes,A=m.ERR_INVALID_ARG_TYPE,E=m.ERR_STREAM_PUSH_AFTER_EOF,I=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,F,U;Kf(ae,n);var H=l.errorOrDestroy,z=["error","close","destroy","pause","resume"];function ce(C,k,x){if(typeof C.prependListener=="function")return C.prependListener(k,x);!C._events||!C._events[k]?C.on(k,x):Array.isArray(C._events[k])?C._events[k].unshift(x):C._events[k]=[x,C._events[k]]}function ee(C,k,x){t=t||Na(),C=C||{},typeof x!="boolean"&&(x=k instanceof t),this.objectMode=!!C.objectMode,x&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=p(this,C,"readableHighWaterMark",x),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(N||(N=B3().StringDecoder),this.decoder=new N(C.encoding),this.encoding=C.encoding)}function ae(C){if(t=t||Na(),!(this instanceof ae))return new ae(C);var k=this instanceof t;this._readableState=new ee(C,this,k),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),n.call(this)}Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(k){this._readableState&&(this._readableState.destroyed=k)}}),ae.prototype.destroy=l.destroy,ae.prototype._undestroy=l.undestroy,ae.prototype._destroy=function(C,k){k(C)},ae.prototype.push=function(C,k){var x=this._readableState,_;return x.objectMode?_=!0:typeof C=="string"&&(k=k||x.defaultEncoding,k!==x.encoding&&(C=r.from(C,k),k=""),_=!0),Te(this,C,k,!1,_)},ae.prototype.unshift=function(C){return Te(this,C,null,!0,!1)};function Te(C,k,x,_,G){c("readableAddChunk",k);var Y=C._readableState;if(k===null)Y.reading=!1,xe(C,Y);else{var K;if(G||(K=lt(Y,k)),K)H(C,K);else if(Y.objectMode||k&&k.length>0)if(typeof k!="string"&&!Y.objectMode&&Object.getPrototypeOf(k)!==r.prototype&&(k=s(k)),_)Y.endEmitted?H(C,new w):Ce(C,Y,k,!0);else if(Y.ended)H(C,new E);else{if(Y.destroyed)return!1;Y.reading=!1,Y.decoder&&!x?(k=Y.decoder.write(k),Y.objectMode||k.length!==0?Ce(C,Y,k,!1):ze(C,Y)):Ce(C,Y,k,!1)}else _||(Y.reading=!1,ze(C,Y))}return!Y.ended&&(Y.length<Y.highWaterMark||Y.length===0)}function Ce(C,k,x,_){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,C.emit("data",x)):(k.length+=k.objectMode?1:x.length,_?k.buffer.unshift(x):k.buffer.push(x),k.needReadable&&He(C)),ze(C,k)}function lt(C,k){var x;return!o(k)&&typeof k!="string"&&k!==void 0&&!C.objectMode&&(x=new A("chunk",["string","Buffer","Uint8Array"],k)),x}ae.prototype.isPaused=function(){return this._readableState.flowing===!1},ae.prototype.setEncoding=function(C){N||(N=B3().StringDecoder);var k=new N(C);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,_="";x!==null;)_+=k.write(x.data),x=x.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var ot=1073741824;function Mt(C){return C>=ot?C=ot:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function me(C,k){return C<=0||k.length===0&&k.ended?0:k.objectMode?1:C!==C?k.flowing&&k.length?k.buffer.head.data.length:k.length:(C>k.highWaterMark&&(k.highWaterMark=Mt(C)),C<=k.length?C:k.ended?k.length:(k.needReadable=!0,0))}ae.prototype.read=function(C){c("read",C),C=parseInt(C,10);var k=this._readableState,x=C;if(C!==0&&(k.emittedReadable=!1),C===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return c("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?j(this):He(this),null;if(C=me(C,k),C===0&&k.ended)return k.length===0&&j(this),null;var _=k.needReadable;c("need readable",_),(k.length===0||k.length-C<k.highWaterMark)&&(_=!0,c("length less than watermark",_)),k.ended||k.reading?(_=!1,c("reading or ended",_)):_&&(c("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(C=me(x,k)));var G;return C>0?G=O(C,k):G=null,G===null?(k.needReadable=k.length<=k.highWaterMark,C=0):(k.length-=C,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),x!==C&&k.ended&&j(this)),G!==null&&this.emit("data",G),G};function xe(C,k){if(c("onEofChunk"),!k.ended){if(k.decoder){var x=k.decoder.end();x&&x.length&&(k.buffer.push(x),k.length+=k.objectMode?1:x.length)}k.ended=!0,k.sync?He(C):(k.needReadable=!1,k.emittedReadable||(k.emittedReadable=!0,tt(C)))}}function He(C){var k=C._readableState;c("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(c("emitReadable",k.flowing),k.emittedReadable=!0,process.nextTick(tt,C))}function tt(C){var k=C._readableState;c("emitReadable_",k.destroyed,k.length,k.ended),!k.destroyed&&(k.length||k.ended)&&(C.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,V(C)}function ze(C,k){k.readingMore||(k.readingMore=!0,process.nextTick(Ke,C,k))}function Ke(C,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var x=k.length;if(c("maybeReadMore read 0"),C.read(0),x===k.length)break}k.readingMore=!1}ae.prototype._read=function(C){H(this,new I("_read()"))},ae.prototype.pipe=function(C,k){var x=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=C;break;case 1:_.pipes=[_.pipes,C];break;default:_.pipes.push(C);break}_.pipesCount+=1,c("pipe count=%d opts=%j",_.pipesCount,k);var G=(!k||k.end!==!1)&&C!==process.stdout&&C!==process.stderr,Y=G?ne:Xe;_.endEmitted?process.nextTick(Y):x.once("end",Y),C.on("unpipe",K);function K(v,b){c("onunpipe"),v===x&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,_e())}function ne(){c("onend"),C.end()}var we=De(x);C.on("drain",we);var ye=!1;function _e(){c("cleanup"),C.removeListener("close",Fe),C.removeListener("finish",Oe),C.removeListener("drain",we),C.removeListener("error",Ie),C.removeListener("unpipe",K),x.removeListener("end",ne),x.removeListener("end",Xe),x.removeListener("data",le),ye=!0,_.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&we()}x.on("data",le);function le(v){c("ondata");var b=C.write(v);c("dest.write",b),b===!1&&((_.pipesCount===1&&_.pipes===C||_.pipesCount>1&&oe(_.pipes,C)!==-1)&&!ye&&(c("false write response, pause",_.awaitDrain),_.awaitDrain++),x.pause())}function Ie(v){c("onerror",v),Xe(),C.removeListener("error",Ie),e(C,"error")===0&&H(C,v)}ce(C,"error",Ie);function Fe(){C.removeListener("finish",Oe),Xe()}C.once("close",Fe);function Oe(){c("onfinish"),C.removeListener("close",Fe),Xe()}C.once("finish",Oe);function Xe(){c("unpipe"),x.unpipe(C)}return C.emit("pipe",x),_.flowing||(c("pipe resume"),x.resume()),C};function De(C){return function(){var x=C._readableState;c("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&e(C,"data")&&(x.flowing=!0,V(C))}}ae.prototype.unpipe=function(C){var k=this._readableState,x={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return C&&C!==k.pipes?this:(C||(C=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,C&&C.emit("unpipe",this,x),this);if(!C){var _=k.pipes,G=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var Y=0;Y<G;Y++)_[Y].emit("unpipe",this,{hasUnpiped:!1});return this}var K=oe(k.pipes,C);return K===-1?this:(k.pipes.splice(K,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),C.emit("unpipe",this,x),this)},ae.prototype.on=function(C,k){var x=n.prototype.on.call(this,C,k),_=this._readableState;return C==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):C==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,c("on readable",_.length,_.reading),_.length?He(this):_.reading||process.nextTick(dt,this)),x},ae.prototype.addListener=ae.prototype.on,ae.prototype.removeListener=function(C,k){var x=n.prototype.removeListener.call(this,C,k);return C==="readable"&&process.nextTick(Me,this),x},ae.prototype.removeAllListeners=function(C){var k=n.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&process.nextTick(Me,this),k};function Me(C){var k=C._readableState;k.readableListening=C.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:C.listenerCount("data")>0&&C.resume()}function dt(C){c("readable nexttick read 0"),C.read(0)}ae.prototype.resume=function(){var C=this._readableState;return C.flowing||(c("resume"),C.flowing=!C.readableListening,it(this,C)),C.paused=!1,this};function it(C,k){k.resumeScheduled||(k.resumeScheduled=!0,process.nextTick(Se,C,k))}function Se(C,k){c("resume",k.reading),k.reading||C.read(0),k.resumeScheduled=!1,C.emit("resume"),V(C),k.flowing&&!k.reading&&C.read(0)}ae.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function V(C){var k=C._readableState;for(c("flow",k.flowing);k.flowing&&C.read()!==null;);}ae.prototype.wrap=function(C){var k=this,x=this._readableState,_=!1;C.on("end",function(){if(c("wrapped end"),x.decoder&&!x.ended){var K=x.decoder.end();K&&K.length&&k.push(K)}k.push(null)}),C.on("data",function(K){if(c("wrapped data"),x.decoder&&(K=x.decoder.write(K)),!(x.objectMode&&K==null)&&!(!x.objectMode&&(!K||!K.length))){var ne=k.push(K);ne||(_=!0,C.pause())}});for(var G in C)this[G]===void 0&&typeof C[G]=="function"&&(this[G]=function(ne){return function(){return C[ne].apply(C,arguments)}}(G));for(var Y=0;Y<z.length;Y++)C.on(z[Y],this.emit.bind(this,z[Y]));return this._read=function(K){c("wrapped _read",K),_&&(_=!1,C.resume())},this},typeof Symbol=="function"&&(ae.prototype[Symbol.asyncIterator]=function(){return F===void 0&&(F=bR()),F(this)}),Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ae.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ae.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}}),ae._fromList=O,Object.defineProperty(ae.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(C,k){if(k.length===0)return null;var x;return k.objectMode?x=k.buffer.shift():!C||C>=k.length?(k.decoder?x=k.buffer.join(""):k.buffer.length===1?x=k.buffer.first():x=k.buffer.concat(k.length),k.buffer.clear()):x=k.buffer.consume(C,k.decoder),x}function j(C){var k=C._readableState;c("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,process.nextTick(te,k,C))}function te(C,k){if(c("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,k.readable=!1,k.emit("end"),C.autoDestroy)){var x=k._writableState;(!x||x.autoDestroy&&x.finished)&&k.destroy()}}typeof Symbol=="function"&&(ae.from=function(C,k){return U===void 0&&(U=pR()),U(ae,C,k)});function oe(C,k){for(var x=0,_=C.length;x<_;x++)if(C[x]===k)return x;return-1}return Sh}var Cb=x0,S6=Ha.codes,gR=S6.ERR_METHOD_NOT_IMPLEMENTED,mR=S6.ERR_MULTIPLE_CALLBACK,yR=S6.ERR_TRANSFORM_ALREADY_TRANSFORMING,xR=S6.ERR_TRANSFORM_WITH_LENGTH_0,k6=Na();Kf(x0,k6);function wR(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new mR);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function x0(t){if(!(this instanceof x0))return new x0(t);k6.call(this,t),this._transformState={afterTransform:wR.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",vR)}function vR(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,n){F3(t,e,n)}):F3(this,null,null)}x0.prototype.push=function(t,e){return this._transformState.needTransform=!1,k6.prototype.push.call(this,t,e)};x0.prototype._transform=function(t,e,n){n(new gR("_transform()"))};x0.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};x0.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};x0.prototype._destroy=function(t,e){k6.prototype._destroy.call(this,t,function(n){e(n)})};function F3(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new xR;if(t._transformState.transforming)throw new yR;return t.push(null)}var $4=Y1,z4=Cb;Kf(Y1,z4);function Y1(t){if(!(this instanceof Y1))return new Y1(t);z4.call(this,t)}Y1.prototype._transform=function(t,e,n){n(null,t)};var kh;function ER(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var j4=Ha.codes,AR=j4.ERR_MISSING_ARGS,_R=j4.ERR_STREAM_DESTROYED;function M3(t){if(t)throw t}function PR(t){return t.setHeader&&typeof t.abort=="function"}function TR(t,e,n,r){r=ER(r);var i=!1;t.on("close",function(){i=!0}),kh===void 0&&(kh=C6),kh(t,{readable:e,writable:n},function(o){if(o)return r(o);i=!0,r()});var s=!1;return function(o){if(!i&&!s){if(s=!0,PR(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();r(o||new _R("pipe"))}}}function U3(t){t()}function IR(t,e){return t.pipe(e)}function CR(t){return!t.length||typeof t[t.length-1]!="function"?M3:t.pop()}function SR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=CR(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new AR("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,f=a>0;return TR(o,c,f,function(l){i||(i=l),l&&s.forEach(U3),!c&&(s.forEach(U3),r(i))})});return e.reduce(IR)}var K4=SR,kR=ki,Sb=J1.EventEmitter,BR=Kf;BR(ki,Sb);ki.Readable=Ib();ki.Writable=Tb();ki.Duplex=Na();ki.Transform=Cb;ki.PassThrough=$4;ki.finished=C6;ki.pipeline=K4;ki.Stream=ki;function ki(){Sb.call(this)}ki.prototype.pipe=function(t,e){var n=this;function r(l){t.writable&&t.write(l)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",o),n.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function c(l){if(f(),Sb.listenerCount(this,"error")===0)throw l}n.on("error",c),t.on("error",c);function f(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",o),n.removeListener("close",a),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t};var s2={exports:{}};(function(t,e){e=t.exports=Ib(),e.Stream=e,e.Readable=e,e.Writable=Tb(),e.Duplex=Na(),e.Transform=Cb,e.PassThrough=$4,e.finished=C6,e.pipeline=K4})(s2,s2.exports);var RR=s2.exports;const W4=async(t,e)=>{const n=async(r,i,s,o)=>{let a=s;i instanceof En?(a=s.concat(i.key()),e(r,i,a,o)):i instanceof wn&&i.value()?e(r,i,a,o):i!==null&&o.allChildren(i,s)};await t.walkTrie(t.root(),n)};class NR extends RR.Readable{constructor(e){super({objectMode:!0}),this.trie=e,this._started=!1}async _read(){if(!this._started){this._started=!0;try{await W4(this.trie,async(e,n,r,i)=>{n!==null&&(this.push({key:Vo(r),value:n.value()}),i.allChildren(n,r))})}catch(e){if(e.message!=="Missing node in DB")throw e}this.push(null)}}}function OR(t){return new kR.ReadableStream({async start(e){try{await W4(t,async(n,r,i,s)=>{r!==null&&(e.enqueue({key:Vo(i),value:r.value()}),s.allChildren(r,i))})}catch(n){if(n.message!=="Missing node in DB")throw n}e.close()}})}class LR{constructor(e){this.maxPoolSize=e,this.currentPoolSize=0,this.queue=[]}executeOrQueue(e,n){this.currentPoolSize<this.maxPoolSize?(this.currentPoolSize++,n(()=>{if(this.currentPoolSize--,this.queue.length>0){this.queue.sort((i,s)=>s.priority-i.priority);const r=this.queue.shift();this.executeOrQueue(r.priority,r.fn)}})):this.queue.push({priority:e,fn:n})}finished(){return this.currentPoolSize===0}}class kb{constructor(e,n,r){this.onNode=e,this.taskExecutor=new LR(r),this.trie=n,this.resolve=()=>{},this.reject=()=>{}}static async newWalk(e,n,r,i){await new kb(e,n,i??500).startWalk(r)}async startWalk(e){return new Promise(async(n,r)=>{this.resolve=n,this.reject=r;let i;try{i=await this.trie.lookupNode(e)}catch(s){return this.reject(s)}this.processNode(e,i,[])})}allChildren(e,n=[]){if(e instanceof En)return;let r;if(e instanceof li?r=[[e.key(),e.value()]]:e instanceof wn&&(r=e.getChildren().map(i=>[[i[0]],i[1]])),!!r)for(const i of r){const s=i[0],o=i[1],a=n.concat(s),c=a.length;this.pushNodeToQueue(o,a,c)}}pushNodeToQueue(e,n=[],r){this.taskExecutor.executeOrQueue(r??n.length,async i=>{let s;try{s=await this.trie.lookupNode(e)}catch(o){return this.reject(o)}i(),this.processNode(e,s,n)})}onlyBranchIndex(e,n=[],r,i){if(!(e instanceof wn))throw new Error("Expected branch node");const s=e.getBranch(r);if(!s)throw new Error("Could not get branch of childIndex");const o=n.slice();o.push(r);const a=i??o.length;this.pushNodeToQueue(s,o,a)}processNode(e,n,r=[]){this.onNode(e,n,r,this),this.taskExecutor.finished()&&this.resolve()}}class xr{constructor(e){var r,i,s;this._opts={useKeyHashing:!1,useKeyHashingFunction:di,keyPrefix:void 0,useRootPersistence:!1,useNodePruning:!1,cacheSize:0,valueEncoding:fi.String},this._lock=new IB,this._debug=VB("trie"),this.walkTrieIterable=n2.bind(this);let n;if(e!==void 0){if((e==null?void 0:e.valueEncoding)!==void 0&&e.db===void 0)throw new Error("`valueEncoding` can only be set if a `db` is provided");this._opts={...this._opts,...e},this._opts.useKeyHashingFunction=((r=e.common)==null?void 0:r.customCrypto.keccak256)??e.useKeyHashingFunction??di,n=e.db!==void 0?e.valueEncoding??fi.String:fi.Bytes}else n=fi.Bytes;this.DEBUG=typeof window>"u"?((s=(i=process==null?void 0:process.env)==null?void 0:i.DEBUG)==null?void 0:s.includes("ethjs"))??!1:!1,this.debug=this.DEBUG?(o,a=[])=>{let c=this._debug;for(const f of a)c=c.extend(f);c(o)}:(...o)=>{},this.database((e==null?void 0:e.db)??new Ab,n),this.EMPTY_TRIE_ROOT=this.hash(Qk),this._hashLen=this.EMPTY_TRIE_ROOT.length,this._root=this.EMPTY_TRIE_ROOT,e!=null&&e.root&&this.root(e.root),this.DEBUG&&this.debug(`Trie created:
    || Root: ${et(this.root())}
    || Secure: ${this._opts.useKeyHashing}
    || Persistent: ${this._opts.useRootPersistence}
    || Pruning: ${this._opts.useNodePruning}
    || CacheSize: ${this._opts.cacheSize}
    || ----------------`)}static async createFromProof(e,n,r=!1){const i=new xr(n),s=await i.updateFromProof(e,r);return i.root(s),await i.persistRoot(),i}static async verifyProof(e,n,r){try{return await(await xr.createFromProof(n,r)).get(e,!0)}catch{throw new Error("Invalid proof provided")}}static verifyRangeProof(e,n,r,i,s,o,a){return H3(e,n&&gi(n),r&&gi(r),i.map(c=>c).map(gi),s,o,(a==null?void 0:a.useKeyHashingFunction)??(c=>c))}static async fromProof(e,n){const r=await xr.create(n);if(n!=null&&n.root&&!sn(n.root,r.hash(e[0])))throw new Error("Invalid proof provided");const i=await r.updateFromProof(e);return r.root(i),await r.persistRoot(),r}verifyRangeProof(e,n,r,i,s,o){return H3(e,n&&gi(this.appliedKey(n)),r&&gi(this.appliedKey(r)),i.map(a=>this.appliedKey(a)).map(gi),s,o,this._opts.useKeyHashingFunction)}async createProof(e){this.DEBUG&&this.debug(`Creating Proof for Key: ${et(e)}`,["CREATE_PROOF"]);const{stack:n}=await this.findPath(this.appliedKey(e)),r=n.map(i=>i.serialize());return this.DEBUG&&this.debug(`Proof created with (${n.length}) nodes`,["CREATE_PROOF"]),r}async updateFromProof(e,n=!1){this.DEBUG&&this.debug(`Saving (${e.length}) proof nodes in DB`,["FROM_PROOF"]);const r=e.map(i=>{let s=Uint8Array.from(this.hash(i));return s=this._opts.keyPrefix?er(this._opts.keyPrefix,s):s,{type:"put",key:s,value:i}});if(n&&r[0]!==void 0&&r[0]!==null&&!sn(this.root(),r[0].key))throw new Error("The provided proof does not have the expected trie root");if(await this._db.batch(r),r[0]!==void 0)return r[0].key}async verifyProof(e,n,r){this.DEBUG&&this.debug(`Verifying Proof:
|| Key: ${et(n)}
|| Root: ${et(e)}
|| Proof: (${r.length}) nodes
    `,["VERIFY_PROOF"]);const i=new xr({root:e,useKeyHashingFunction:this._opts.useKeyHashingFunction,common:this._opts.common});try{await i.updateFromProof(r,!0)}catch{throw new Error("Invalid proof nodes given")}try{this.DEBUG&&this.debug(`Verifying proof by retrieving key: ${et(n)} from proof trie`,["VERIFY_PROOF"]);const s=await i.get(this.appliedKey(n),!0);return this.DEBUG&&this.debug("PROOF VERIFIED",["VERIFY_PROOF"]),s}catch(s){throw s.message==="Missing node in DB"?new Error("Invalid proof provided"):s}}async fromProof(e){if(await this.updateFromProof(e,!1),sn(this.root(),this.EMPTY_TRIE_ROOT)&&e[0]!==void 0){let n=Uint8Array.from(this.hash(e[0]));n=this._opts.keyPrefix?er(this._opts.keyPrefix,n):n,this.root(n),await this.persistRoot()}}static async create(e){var s;const n=((s=e==null?void 0:e.common)==null?void 0:s.customCrypto.keccak256)??(e==null?void 0:e.useKeyHashingFunction)??di;let r=ko;const i=(e==null?void 0:e.valueEncoding)===fi.Bytes?fi.Bytes:fi.String;if((e==null?void 0:e.useKeyHashing)===!0&&(r=n.call(void 0,ko)),(e==null?void 0:e.keyPrefix)!==void 0&&(r=er(e.keyPrefix,r)),(e==null?void 0:e.db)!==void 0&&(e==null?void 0:e.useRootPersistence)===!0)if((e==null?void 0:e.root)===void 0){const o=await(e==null?void 0:e.db.get(mr(r),{keyEncoding:u0.String,valueEncoding:i}));typeof o=="string"?e.root=A1(o):e.root=o}else await(e==null?void 0:e.db.put(mr(r),i===fi.Bytes?e.root:mr(e.root),{keyEncoding:u0.String,valueEncoding:i}));return new xr(e)}database(e,n){if(e!==void 0){if(e instanceof Id)throw new Error("Cannot pass in an instance of CheckpointDB");this._db=new Id({db:e,cacheSize:this._opts.cacheSize,valueEncoding:n})}return this._db}root(e){if(e!==void 0){if(e===null&&(e=this.EMPTY_TRIE_ROOT),this.DEBUG&&this.debug(`Setting root to ${et(e)}`),e.length!==this._hashLen)throw new Error(`Invalid root length. Roots are ${this._hashLen} bytes, got ${e.length} bytes`);this._root=e}return this._root}async checkRoot(e){try{return await this.lookupNode(e)!==null}catch(n){if(n.message==="Missing node in DB")return sn(e,this.EMPTY_TRIE_ROOT);throw n}}async get(e,n=!1){this.DEBUG&&this.debug(`Key: ${et(e)}`,["GET"]);const{node:r,remaining:i}=await this.findPath(this.appliedKey(e),n);let s=null;return r&&i.length===0&&(s=r.value()),this.DEBUG&&this.debug(`Value: ${s===null?"null":et(s)}`,["GET"]),s}async put(e,n,r=!1){if(this.DEBUG&&this.debug(`Key: ${et(e)}`,["PUT"]),this.DEBUG&&this.debug(`Value: ${n===null?"null":et(e)}`,["PUT"]),this._opts.useRootPersistence&&sn(e,ko)===!0)throw new Error(`Attempted to set '${mb(ko)}' key but it is not allowed.`);if(n===null||n.length===0)return this.del(e);await this._lock.acquire();const i=r?e:this.appliedKey(e);if(sn(this.root(),this.EMPTY_TRIE_ROOT)===!0)await this._createInitialNode(i,n);else{const{remaining:s,stack:o}=await this.findPath(i);let a=[];if(this._opts.useNodePruning){const c=await this.get(e);(c===null||sn(c,n)===!1)&&(a=o.map(l=>this.hash(l.serialize())).map(l=>({type:"del",key:this._opts.keyPrefix?er(this._opts.keyPrefix,l):l,opts:{keyEncoding:u0.Bytes}})))}await this._updateNode(i,n,s,o),this._opts.useNodePruning&&await this._db.batch(a)}await this.persistRoot(),this._lock.release()}async del(e,n=!1){this.DEBUG&&this.debug(`Key: ${et(e)}`,["DEL"]),await this._lock.acquire();const r=n?e:this.appliedKey(e),{node:i,stack:s}=await this.findPath(r);let o=[];this._opts.useNodePruning&&i!==null&&(o=s.map(c=>this.hash(c.serialize())).map(c=>({type:"del",key:this._opts.keyPrefix?er(this._opts.keyPrefix,c):c,opts:{keyEncoding:u0.Bytes}}))),i&&await this._deleteNode(r,s),this._opts.useNodePruning&&await this._db.batch(o),await this.persistRoot(),this._lock.release()}async findPath(e,n=!1){const r=gi(e),i=r.length,s=Array.from({length:i});let o=0;this.DEBUG&&this.debug(`Target (${r.length}): [${r}]`,["FIND_PATH"]);let a=null;const c=async(f,l,u,p)=>{if(s[o]=l,l instanceof wn)if(o===i)a={node:l,remaining:[],stack:s};else{const m=r[o];this.DEBUG&&this.debug(`Looking for node on branch index: [${m}]`,["FIND_PATH","BranchNode"]);const A=l.getBranch(m);this.DEBUG&&this.debug(A===null?"NULL":A instanceof Uint8Array?`NodeHash: ${et(A)}`:`Raw_Node: ${A.toString()}`,["FIND_PATH","BranchNode",m.toString()]),A?(o++,p.onlyBranchIndex(l,u,m)):a={node:null,remaining:r.slice(o),stack:s}}else if(l instanceof En){const m=o;if(i-o>l.key().length){a={node:null,remaining:r.slice(m),stack:s};return}for(const A of l.key()){if(A!==r[o]){a={node:null,remaining:r.slice(m),stack:s};return}o++}a={node:l,remaining:[],stack:s}}else if(l instanceof li){this.DEBUG&&this.debug(`Comparing node key to expected
|| Node_Key: [${l.key()}]
|| Expected: [${r.slice(o,o+l.key().length)}]
|| Matching: [${r.slice(o,o+l.key().length).toString()===l.key().toString()}]
            `,["FIND_PATH","ExtensionNode"]);const m=o;for(const A of l.key()){if(this.DEBUG&&this.debug(`NextNode: ${l.value()}`,["FIND_PATH","ExtensionNode"]),A!==r[o]){a={node:null,remaining:r.slice(m),stack:s};return}o++}p.allChildren(l,u)}};try{this.DEBUG&&this.debug(`Walking trie from root: ${et(this.root())}`,["FIND_PATH"]),await this.walkTrie(this.root(),c)}catch(f){if(f.message!=="Missing node in DB"||n)throw f}return a===null&&(a={node:null,remaining:[],stack:s}),this.DEBUG&&this.debug(a.node!==null?`Target Node FOUND for ${gi(e)}`:"Target Node NOT FOUND",["FIND_PATH"]),a.stack=a.stack.filter(f=>f!==void 0),this.DEBUG&&this.debug(`Result:
        || Node: ${a.node===null?"null":a.node.constructor.name}
        || Remaining: [${a.remaining}]
|| Stack: ${a.stack.map(f=>f.constructor.name).join(", ")}`,["FIND_PATH"]),a}async walkTrie(e,n){await kb.newWalk(n,this,e)}async walkAllNodes(e){for await(const{node:n,currentKey:r}of this.walkTrieIterable(this.root()))await e(n,r)}async walkAllValueNodes(e){for await(const{node:n,currentKey:r}of this.walkTrieIterable(this.root(),[],void 0,async i=>i instanceof En||i instanceof wn&&i.value()!==null))await e(n,r)}async _createInitialNode(e,n){const i=new En(gi(e),n).serialize();this.root(this.hash(i));let s=this.root();s=this._opts.keyPrefix?er(this._opts.keyPrefix,s):s,await this._db.put(s,i),await this.persistRoot()}async lookupNode(e){if(e2(e)){const s=F4(e);return this.DEBUG&&this.debug(`${s.constructor.name}`,["LOOKUP_NODE","RAW_NODE"]),s}this.DEBUG&&this.debug(`${`${et(e)}`}`,["LOOKUP_NODE","BY_HASH"]);const n=this._opts.keyPrefix?er(this._opts.keyPrefix,e):e,r=await this._db.get(n)??null;if(r===null)throw new Error("Missing node in DB");const i=MB(r);return this.DEBUG&&this.debug(`${i.constructor.name} found in DB`,["LOOKUP_NODE","BY_HASH"]),i}async _updateNode(e,n,r,i){const s=[],o=i.pop();if(!o)throw new Error("Stack underflow");const a=gi(e);let c=!1;if(o instanceof En){let f=0;for(let l=0;l<i.length;l++){const u=i[l];u instanceof wn?f++:f+=u.key().length}E3(o.key(),a.slice(f))===o.key().length&&r.length===0&&(c=!0)}if(c)o.value(n),i.push(o);else if(o instanceof wn)if(i.push(o),r.length!==0){r.shift();const f=new En(r,n);i.push(f)}else o.value(n);else{const f=o.key(),l=E3(f,r),u=new wn;if(l!==0){const p=o.key().slice(0,l),m=new li(p,n);i.push(m),f.splice(0,l),r.splice(0,l)}if(i.push(u),f.length!==0){const p=f.shift();if(f.length!==0||o instanceof En){o.key(f);const m=this._formatNode(o,!1,s);u.setBranch(p,m)}else this._formatNode(o,!1,s,!0),u.setBranch(p,o.value())}else u.value(o.value());if(r.length!==0){r.shift();const p=new En(r,n);i.push(p)}else u.value(n)}await this.saveStack(a,i,s)}async _deleteNode(e,n){const r=(f,l,u,p,m)=>{if(p==null||p instanceof wn){if(p!=null&&m.push(p),u instanceof wn){const A=new li([l],null);m.push(A),f.push(l)}else{const A=u.key();A.unshift(l),u.key(A.slice(0)),f=f.concat(A)}m.push(u)}else{let A=p.key();if(u instanceof wn)A.push(l),f.push(l),p.key(A),m.push(p);else{const E=u.key();E.unshift(l),f=f.concat(E),A=A.concat(E),u.key(A)}m.push(u)}return f};let i=n.pop();if(i===void 0)throw new Error("missing last node");let s=n.pop();const o=[];let a=gi(e);if(!s){this.root(this.EMPTY_TRIE_ROOT);return}if(i instanceof wn)i.value(null);else{if(!(s instanceof wn))throw new Error("Expected branch node");const f=i.key();a.splice(a.length-f.length),this._formatNode(i,!1,o,!0),s.setBranch(a.pop(),null),i=s,s=n.pop()}const c=i.getChildren();if(c.length===1){const f=c[0][1],l=c[0][0];this._opts.useNodePruning&&o.push({type:"del",key:f});const u=await this.lookupNode(f);a=r(a,l,u,s,n),await this.saveStack(a,n,o)}else s&&n.push(s),n.push(i),await this.saveStack(a,n,o)}async saveStack(e,n,r){let i;for(;n.length;){const s=n.pop();if(s instanceof En)e.splice(e.length-s.key().length);else if(s instanceof li)e.splice(e.length-s.key().length),i&&s.value(i);else if(s instanceof wn&&i){const o=e.pop();s.setBranch(o,i)}i=this._formatNode(s,n.length===0,r)}i&&this.root(i),await this._db.batch(r),await this.persistRoot()}_formatNode(e,n,r,i=!1){const s=e.serialize();if(s.length>=32||n){const o=this.hash(s),a=this._opts.keyPrefix?er(this._opts.keyPrefix,o):o;return i?this._opts.useNodePruning&&r.push({type:"del",key:a}):r.push({type:"put",key:a,value:s}),o}return e.raw()}async batch(e,n){for(const r of e)if(r.type==="put"){if(r.value===null||r.value===void 0)throw new Error("Invalid batch db operation");await this.put(r.key,r.value,n)}else r.type==="del"&&await this.del(r.key,n);await this.persistRoot()}async verifyPrunedIntegrity(){const e=[mr(this.root()),mr(this.appliedKey(ko))];for(const n of this._db.db._database.keys()){if(e.includes(n))continue;let r=!1;try{await this.walkTrie(this.root(),async function(i,s,o,a){if(!r){if(s instanceof wn){for(const c of s._branches)if(c!==null&&mr(c)===n){r=!0;return}a.allChildren(s,o)}if(s instanceof li){if(mr(s.value())===n){r=!0;return}a.allChildren(s,o)}}})}catch{return!1}if(!r)return!1}return!0}createReadStream(){return new NR(this)}createAsyncReadStream(){return OR(this)}shallowCopy(e=!0,n){const r=new xr({...this._opts,db:this._db.db.shallowCopy(),root:this.root(),cacheSize:0,...n??{}});return e&&this.hasCheckpoints()&&r._db.setCheckpoints(this._db.checkpoints),r}async persistRoot(){if(this._opts.useRootPersistence){this.DEBUG&&this.debug(`Persisting root: 
|| RootHash: ${et(this.root())}
|| RootKey: ${et(this.appliedKey(ko))}`,["PERSIST_ROOT"]);let e=this.appliedKey(ko);e=this._opts.keyPrefix?er(this._opts.keyPrefix,e):e,await this._db.put(e,this.root())}}async _findDbNodes(e){const n=async(r,i,s,o)=>{e2(r)?i!==null&&o.allChildren(i,s):e(r,i,s,o)};await this.walkTrie(this.root(),n)}appliedKey(e){return this._opts.useKeyHashing?this.hash(e):e}hash(e){return Uint8Array.from(this._opts.useKeyHashingFunction.call(void 0,e))}hasCheckpoints(){return this._db.hasCheckpoints()}checkpoint(){this.DEBUG&&this.debug(`${et(this.root())}`,["CHECKPOINT"]),this._db.checkpoint(this.root())}async commit(){if(!this.hasCheckpoints())throw new Error("trying to commit when not checkpointed");this.DEBUG&&this.debug(`${et(this.root())}`,["COMMIT"]),await this._lock.acquire(),await this._db.commit(),await this.persistRoot(),this._lock.release()}async revert(){if(!this.hasCheckpoints())throw new Error("trying to revert when not checkpointed");this.DEBUG&&this.debug(`${et(this.root())}`,["REVERT","BEFORE"]),await this._lock.acquire(),this.root(await this._db.revert()),await this.persistRoot(),this._lock.release(),this.DEBUG&&this.debug(`${et(this.root())}`,["REVERT","AFTER"])}flushCheckpoints(){this.DEBUG&&this.debug(`Deleting ${this._db.checkpoints.length} checkpoints.`,["FLUSH_CHECKPOINTS"]),this._db.checkpoints=[]}}async function ac(t,e,n,r,i,s,o){if(n instanceof wn){if(s)for(let f=0;f<r[i];f++)n.setBranch(f,null);else for(let f=r[i]+1;f<16;f++)n.setBranch(f,null);o.push(n);const a=n.getBranch(r[i]),c=a&&await t.lookupNode(a);return ac(t,n,c,r,i+1,s,o)}else if(n instanceof li||n instanceof En){if(r.length-i<n.keyLength()||ui(n._nibbles,r.slice(i,i+n.keyLength()))!==0)return s?ui(n._nibbles,r.slice(i))<0&&e.setBranch(r[i-1],null):ui(n._nibbles,r.slice(i))>0&&e.setBranch(r[i-1],null),i-1;if(n instanceof En)return e.setBranch(r[i-1],null),i-1;{const a=await t.lookupNode(n.value());return a instanceof En?(e.setBranch(r[i-1],null),i-1):(o.push(n),ac(t,n,a,r,i+n.keyLength(),s,o))}}else{if(n===null)return i-1;throw new Error("invalid node")}}async function FR(t,e,n){let r=0,i=null,s=await t.lookupNode(t.root()),o,a;const c=[];for(;;)if(s instanceof li||s instanceof En){if(c.push(s),e.length-r<s.keyLength()?o=ui(e.slice(r),s._nibbles):o=ui(e.slice(r,r+s.keyLength()),s._nibbles),n.length-r<s.keyLength()?a=ui(n.slice(r),s._nibbles):a=ui(n.slice(r,r+s.keyLength()),s._nibbles),o!==0||a!==0)break;if(s instanceof En)throw new Error("invalid node");i=s,r+=s.keyLength(),s=await t.lookupNode(s.value())}else if(s instanceof wn){c.push(s);const l=s.getBranch(e[r]),u=s.getBranch(n[r]);if(l===null||u===null)break;if(l instanceof Uint8Array){if(!(u instanceof Uint8Array)||!sn(l,u))break}else{if(u instanceof Uint8Array||l.length!==u.length)break;let p=!1;for(let m=0;m<l.length;m++)if(!sn(l[m],u[m])){p=!0;break}if(p)break}i=s,s=await t.lookupNode(l),r+=1}else throw new Error("invalid node");const f=(l,u)=>t.saveStack(l,u,[]);if(s instanceof li||s instanceof En){const l=async u=>i===null?!0:(c.pop(),i.setBranch(u[r-1],null),await f(u.slice(0,r-1),c),!1);if(o===-1&&a===-1)throw new Error("invalid range");if(o===1&&a===1)throw new Error("invalid range");if(o!==0&&a!==0)return l(e);if(a!==0){if(s instanceof En)return l(e);const u=await t.lookupNode(s._value);if(u instanceof En)return l(e);const p=await ac(t,s,u,e.slice(r),s.keyLength(),!1,c);return await f(e.slice(0,r+p),c),!1}if(o!==0){if(s instanceof En)return l(n);const u=await t.lookupNode(s._value);if(u instanceof En)return l(n);const p=await ac(t,s,u,n.slice(r),s.keyLength(),!0,c);return await f(n.slice(0,r+p),c),!1}return!1}else if(s instanceof wn){for(let l=e[r]+1;l<n[r];l++)s.setBranch(l,null);{const l=[...c],u=s.getBranch(e[r]),p=u&&await t.lookupNode(u),m=await ac(t,s,p,e.slice(r),1,!1,l);await f(e.slice(0,r+m),l)}{const l=[...c],u=s.getBranch(n[r]),p=u&&await t.lookupNode(u),m=await ac(t,s,p,n.slice(r),1,!0,l);await f(n.slice(0,r+m),l)}return!1}else throw new Error("invalid node")}async function D3(t,e,n,r){const i=await xr.fromProof(n,{root:t,useKeyHashingFunction:r});try{const s=await i.get(e,!0);return{trie:i,value:s}}catch(s){throw s.message==="Missing node in DB"?new Error("Invalid proof provided"):s}}async function Bh(t,e){let n=0,r=await t.lookupNode(t.root());for(;r!==null;)if(r instanceof wn){for(let s=e[n]+1;s<16;s++)if(r.getBranch(s)!==null)return!0;const i=r.getBranch(e[n]);r=i&&await t.lookupNode(i),n+=1}else if(r instanceof li){if(e.length-n<r.keyLength()||ui(r._nibbles,e.slice(n,n+r.keyLength()))!==0)return ui(r._nibbles,e.slice(n))>0;n+=r.keyLength(),r=await t.lookupNode(r._value)}else{if(r instanceof En)return!1;throw new Error("invalid node")}return!1}async function H3(t,e,n,r,i,s,o){if(r.length!==i.length)throw new Error("invalid keys length or values length");for(let f=0;f<r.length-1;f++)if(ui(r[f],r[f+1])>=0)throw new Error("invalid keys order");for(const f of i)if(f.length===0)throw new Error("invalid values");if(s===null&&e===null&&n===null){const f=new xr({useKeyHashingFunction:o});for(let l=0;l<r.length;l++)await f.put(Vo(r[l]),i[l]);if(!sn(t,f.root()))throw new Error("invalid all elements proof: root mismatch");return!1}if(s===null||e===null||n===null)throw new Error("invalid all elements proof: proof, firstKey, lastKey must be null at the same time");if(r.length===0){const{trie:f,value:l}=await D3(t,Vo(e),s,o);if(l!==null||await Bh(f,e))throw new Error("invalid zero element proof: value mismatch");return!1}if(r.length===1&&ui(e,n)===0){const{trie:f,value:l}=await D3(t,Vo(e),s,o);if(ui(e,r[0])!==0)throw new Error("invalid one element proof: firstKey should be equal to keys[0]");if(l===null||!sn(l,i[0]))throw new Error("invalid one element proof: value mismatch");return Bh(f,e)}if(ui(e,n)>=0)throw new Error("invalid two edge elements proof: firstKey should be less than lastKey");if(e.length!==n.length)throw new Error("invalid two edge elements proof: the length of firstKey should be equal to the length of lastKey");const a=await xr.fromProof(s,{useKeyHashingFunction:o,root:t});await FR(a,e,n)&&a.root(a.EMPTY_TRIE_ROOT);for(let f=0;f<r.length;f++)await a.put(Vo(r[f]),i[f]);if(!sn(a.root(),t))throw new Error("invalid two edge elements proof: root mismatch");return Bh(a,r[r.length-1])}var Ii;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(Ii||(Ii={}));function MR(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function UR(t){return!MR(t)}var Bn;(function(t){t[t.Legacy=0]="Legacy",t[t.AccessListEIP2930=1]="AccessListEIP2930",t[t.FeeMarketEIP1559=2]="FeeMarketEIP1559",t[t.BlobEIP4844=3]="BlobEIP4844"})(Bn||(Bn={}));function DR(t){return Number(Vt(Rt(t.type)))===Bn.Legacy}function HR(t){return Number(Vt(Rt(t.type)))===Bn.AccessListEIP2930}function GR(t){return Number(Vt(Rt(t.type)))===Bn.FeeMarketEIP1559}function VR(t){return Number(Vt(Rt(t.type)))===Bn.BlobEIP4844}function $R(t,e){const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)}class Os{static getAccessListData(e){let n,r;if(UR(e)){n=e;const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=Qn(o.address),c=[];for(let f=0;f<o.storageKeys.length;f++)c.push(Qn(o.storageKeys[f]));i.push([a,c])}r=i}else{r=e??[];const i=[];for(let s=0;s<r.length;s++){const o=r[s],a=et(o[0]),c=[];for(let l=0;l<o[1].length;l++)c.push(et(o[1][l]));const f={address:a,storageKeys:c};i.push(f)}n=i}return{AccessListJSON:n,accessList:r}}static verifyAccessList(e){for(let n=0;n<e.length;n++){const r=e[n],i=r[0],s=r[1];if(r[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(i.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let o=0;o<s.length;o++)if(s[o].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(e){const n=[];for(let r=0;r<e.length;r++){const i=e[r],s={address:et(Nf(i[0],20)),storageKeys:[]},o=i[1];for(let a=0;a<o.length;a++){const c=o[a];s.storageKeys.push(et(Nf(c,32)))}n.push(s)}return n}static getDataFeeEIP2930(e,n){const r=n.param("gasPrices","accessListStorageKeyCost"),i=n.param("gasPrices","accessListAddressCost");let s=0;for(let a=0;a<e.length;a++){const f=e[a][1];s+=f.length}return e.length*Number(i)+s*Number(r)}}function q1(t){return Qn("0x"+t.toString(16).padStart(2,"0"))}class w0{constructor(e,n){this.cache={hash:void 0,dataFee:void 0,senderPubKey:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Cs.Mainnet;const{nonce:r,gasLimit:i,to:s,value:o,data:a,v:c,r:f,s:l,type:u}=e;this._type=Number(Vt(Rt(u))),this.txOptions=n;const p=Rt(s===""?"0x":s),m=Rt(c===""?"0x":c),A=Rt(f===""?"0x":f),E=Rt(l===""?"0x":l);this.nonce=Vt(Rt(r===""?"0x":r)),this.gasLimit=Vt(Rt(i===""?"0x":i)),this.to=p.length>0?new Kn(p):void 0,this.value=Vt(Rt(o===""?"0x":o)),this.data=Rt(a===""?"0x":a),this.v=m.length>0?Vt(m):void 0,this.r=A.length>0?Vt(A):void 0,this.s=E.length>0?Vt(E):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const I=this.to===void 0||this.to===null,w=n.allowUnlimitedInitCodeSize??!1,N=n.common??this._getCommon();I&&N.isActivatedEIP(3860)&&w===!1&&$R(N,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}getValidationErrors(){const e=[];return this.isSigned()&&!this.verifySignature()&&e.push("Invalid Signature"),this.getBaseFee()>this.gasLimit&&e.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),e}isValid(){return this.getValidationErrors().length===0}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=Bt;for(let i=0;i<this.data.length;i++)this.data[i]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),s=this.common.param("gasPrices","initCodeWordCost")*i;r+=s}return r}toCreationAddress(){return this.to===void 0||this.to.bytes.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return Td(e).length!==0}catch{return!1}}getSenderAddress(){return new Kn(v4(this.getSenderPublicKey()))}sign(e){var f;if(e.length!==32){const l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l)}let n=!1;this.type===Bn.Legacy&&this.common.gteHardfork("spuriousDragon")&&!this.supports(Ii.EIP155ReplayProtection)&&(this.activeCapabilities.push(Ii.EIP155ReplayProtection),n=!0);const r=this.getHashedMessageToSign(),i=((f=this.common.customCrypto)==null?void 0:f.ecsign)??E4,{v:s,r:o,s:a}=i(r,e),c=this.addSignature(s,o,a,!0);if(n){const l=this.activeCapabilities.indexOf(Ii.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return c}toJSON(){return{type:Ht(BigInt(this.type)),nonce:Ht(this.nonce),gasLimit:Ht(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Ht(this.value),data:et(this.data),v:this.v!==void 0?Ht(this.v):void 0,r:this.r!==void 0?Ht(this.r):void 0,s:this.s!==void 0?Ht(this.s):void 0}}_getCommon(e,n){if(n!==void 0){const r=Vt(Rt(n));if(e){if(e.chainId()!==r){const i=this._errorMsg(`The chain ID does not match the chain ID of Common. Got: ${r}, expected: ${e.chainId}`);throw new Error(i)}return e.copy()}else return Xn.isSupportedChainId(r)?new Xn({chain:r}):Xn.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN})}else return(e==null?void 0:e.copy())??new Xn({chain:this.DEFAULT_CHAIN})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[i,s]of Object.entries(e))switch(n){case 64:if(r){if(s!==void 0&&s>=g3){const o=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o)}}else if(s!==void 0&&s>g3){const o=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o)}break;case 256:if(r){if(s!==void 0&&s>=Of){const o=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o)}}else if(s!==void 0&&s>Of){const o=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o)}break;default:{const o=this._errorMsg("unimplemented bits value");throw new Error(o)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,i]of Object.entries(e))if(n.includes(r)&&Array.isArray(i))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?et(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${n} hf=${r}`,i}}function Q4(t,e){const n=t.maxPriorityFeePerGas,r=t.maxFeePerGas-e,s=(n<r?n:r)+e;return t.gasLimit*s+t.value}function To(t,e){return`${e} (${t.errorStr()})`}function J4(t,e){if(t.cache.dataFee&&t.cache.dataFee.hardfork===t.common.hardfork())return t.cache.dataFee.value;const n=w0.prototype.getDataFee.bind(t)()+(e??0n);return Object.isFrozen(t)&&(t.cache.dataFee={value:n,hardfork:t.common.hardfork()}),n}function B6(t){if(!t.isSigned()){const n=To(t,"Cannot call hash method if transaction is not signed");throw new Error(n)}const e=t.common.customCrypto.keccak256??di;return Object.isFrozen(t)?(t.cache.hash||(t.cache.hash=e(t.serialize())),t.cache.hash):e(t.serialize())}function R6(t){const{s:e}=t;if(t.common.gteHardfork("homestead")&&e!==void 0&&e>zk){const n=To(t,"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}function N6(t){if(t.cache.senderPubKey!==void 0)return t.cache.senderPubKey;const e=t.getMessageToVerifySignature(),{v:n,r,s:i}=t;R6(t);try{const o=(t.common.customCrypto.ecrecover??A4)(e,n,pt(r),pt(i),t.supports(Ii.EIP155ReplayProtection)?t.common.chainId():void 0);return Object.isFrozen(t)&&(t.cache.senderPubKey=o),o}catch{const o=To(t,"Invalid Signature");throw new Error(o)}}function Bb(t){return(t.common.customCrypto.keccak256??di)(t.getMessageToSign())}function Pa(t,e){return er(q1(t.type),pn.encode(e??t.raw()))}function Rb(t){const{v:e}=t;if(e!==void 0&&e!==Bt&&e!==Aa){const n=To(t,"The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}function Nb(t){return J4(t,BigInt(Os.getDataFeeEIP2930(t.accessList,t.common)))}class $o extends w0{constructor(e,n={}){super({...e,type:Bn.FeeMarketEIP1559},n);const{chainId:r,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:o}=e;if(this.common=this._getCommon(n.common,r),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const a=Os.getAccessListData(i??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,Os.verifyAccessList(this.accessList),this.maxFeePerGas=Vt(Rt(s===""?"0x":s)),this.maxPriorityFeePerGas=Vt(Rt(o===""?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),w0._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Of){const f=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(f)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const f=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(f)}Rb(this),R6(this),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,n={}){return new $o(e,n)}static fromSerializedTx(e,n={}){if(sn(e.subarray(0,1),q1(Bn.FeeMarketEIP1559))===!1)throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${Bn.FeeMarketEIP1559}, received: ${et(e.subarray(0,1))}`);const r=pn.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return $o.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,i,s,o,a,c,f,l,u,p,m,A]=e;return this._validateNotArray({chainId:r,v:p}),P6({nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,value:f,v:p,r:m,s:A}),new $o({chainId:Vt(r),nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,to:c,value:f,data:l,accessList:u??[],v:p!==void 0?Vt(p):void 0,r:m,s:A},n)}getDataFee(){return Nb(this)}getUpfrontCost(e=Bt){return Q4(this,e)}raw(){return[pt(this.chainId),pt(this.nonce),pt(this.maxPriorityFeePerGas),pt(this.maxFeePerGas),pt(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),pt(this.value),this.data,this.accessList,this.v!==void 0?pt(this.v):new Uint8Array(0),this.r!==void 0?pt(this.r):new Uint8Array(0),this.s!==void 0?pt(this.s):new Uint8Array(0)]}serialize(){return Pa(this)}getMessageToSign(){return Pa(this,this.raw().slice(0,9))}getHashedMessageToSign(){return Bb(this)}hash(){return B6(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return N6(this)}addSignature(e,n,r,i=!1){n=Rt(n),r=Rt(r);const s={...this.txOptions,common:this.common};return $o.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:i?e-Ff:e,r:Vt(n),s:Vt(r)},s)}toJSON(){const e=Os.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Ht(this.chainId),maxPriorityFeePerGas:Ht(this.maxPriorityFeePerGas),maxFeePerGas:Ht(this.maxFeePerGas),accessList:e}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return To(this,e)}}class zo extends w0{constructor(e,n={}){super({...e,type:Bn.AccessListEIP2930},n);const{chainId:r,accessList:i,gasPrice:s}=e;if(this.common=this._getCommon(n.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const o=Os.getAccessListData(i??[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,Os.verifyAccessList(this.accessList),this.gasPrice=Vt(Rt(s===""?"0x":s)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),w0._validateNotArray(e),this.gasPrice*this.gasLimit>Of){const c=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(c)}Rb(this),R6(this),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,n={}){return new zo(e,n)}static fromSerializedTx(e,n={}){if(sn(e.subarray(0,1),q1(Bn.AccessListEIP2930))===!1)throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${Bn.AccessListEIP2930}, received: ${et(e.subarray(0,1))}`);const r=pn.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return zo.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,i,s,o,a,c,f,l,u,p,m]=e;this._validateNotArray({chainId:r,v:u}),P6({nonce:i,gasPrice:s,gasLimit:o,value:c,v:u,r:p,s:m});const A=[];return new zo({chainId:Vt(r),nonce:i,gasPrice:s,gasLimit:o,to:a,value:c,data:f,accessList:l??A,v:u!==void 0?Vt(u):void 0,r:p,s:m},n)}getDataFee(){return Nb(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[pt(this.chainId),pt(this.nonce),pt(this.gasPrice),pt(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),pt(this.value),this.data,this.accessList,this.v!==void 0?pt(this.v):new Uint8Array(0),this.r!==void 0?pt(this.r):new Uint8Array(0),this.s!==void 0?pt(this.s):new Uint8Array(0)]}serialize(){return Pa(this)}getMessageToSign(){return Pa(this,this.raw().slice(0,8))}getHashedMessageToSign(){return Bb(this)}hash(){return B6(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return N6(this)}addSignature(e,n,r,i=!1){n=Rt(n),r=Rt(r);const s={...this.txOptions,common:this.common};return zo.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:i?e-Ff:e,r:Vt(n),s:Vt(r)},s)}toJSON(){const e=Os.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Ht(this.chainId),gasPrice:Ht(this.gasPrice),accessList:e}}errorStr(){var n;let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice} accessListCount=${((n=this.accessList)==null?void 0:n.length)??0}`,e}_errorMsg(e){return To(this,e)}}const G3=6,zR=(t,e,n,r,i,s)=>{if(!(t.length===e.length&&e.length===n.length))throw new Error("Number of blobVersionedHashes, blobs, and commitments not all equal");if(t.length===0)throw new Error("Invalid transaction with empty blobs");let o;try{o=s.verifyBlobKzgProofBatch(e,n,r)}catch(a){throw new Error(`KZG verification of blobs fail with error=${a}`)}if(!o)throw new Error("KZG proof cannot be verified from blobs/commitments");for(let a=0;a<t.length;a++){const c=N4(n[a],i);if(!sn(c,t[a]))throw new Error(`commitment for blob at index ${a} does not match versionedHash`)}};class rs extends w0{constructor(e,n={}){var l,u,p;super({...e,type:Bn.BlobEIP4844},n);const{chainId:r,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:o,maxFeePerBlobGas:a}=e;if(this.common=this._getCommon(n.common,r),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");if(this.common.isActivatedEIP(4844)===!1)throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const c=Os.getAccessListData(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,Os.verifyAccessList(this.accessList),this.maxFeePerGas=Vt(Rt(s===""?"0x":s)),this.maxPriorityFeePerGas=Vt(Rt(o===""?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),w0._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Of){const m=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(m)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const m=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(m)}this.maxFeePerBlobGas=Vt(Rt((a??"")===""?"0x":a)),this.blobVersionedHashes=(e.blobVersionedHashes??[]).map(m=>Rt(m)),Rb(this),R6(this);for(const m of this.blobVersionedHashes){if(m.length!==32){const A=this._errorMsg("versioned hash is invalid length");throw new Error(A)}if(BigInt(m[0])!==this.common.param("sharding","blobCommitmentVersionKzg")){const A=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(A)}}if(this.blobVersionedHashes.length>G3){const m=this._errorMsg(`tx can contain at most ${G3} blobs`);throw new Error(m)}else if(this.blobVersionedHashes.length===0){const m=this._errorMsg("tx should contain at least one blob");throw new Error(m)}if(this.to===void 0){const m=this._errorMsg('tx should have a "to" field and cannot be used to create contracts');throw new Error(m)}this.blobs=(l=e.blobs)==null?void 0:l.map(m=>Rt(m)),this.kzgCommitments=(u=e.kzgCommitments)==null?void 0:u.map(m=>Rt(m)),this.kzgProofs=(p=e.kzgProofs)==null?void 0:p.map(m=>Rt(m)),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,n){if(e.blobsData!==void 0){if(e.blobs!==void 0)throw new Error("cannot have both raw blobs data and encoded blobs in constructor");if(e.kzgCommitments!==void 0)throw new Error("cannot have both raw blobs data and KZG commitments in constructor");if(e.blobVersionedHashes!==void 0)throw new Error("cannot have both raw blobs data and versioned hashes in constructor");if(e.kzgProofs!==void 0)throw new Error("cannot have both raw blobs data and KZG proofs in constructor");e.blobs=AB(e.blobsData.reduce((r,i)=>r+i)),e.kzgCommitments=_B(e.blobs),e.blobVersionedHashes=TB(e.kzgCommitments),e.kzgProofs=PB(e.blobs,e.kzgCommitments)}return new rs(e,n)}static minimalFromNetworkWrapper(e,n){var i,s;if(((s=(i=n==null?void 0:n.common)==null?void 0:i.customCrypto)==null?void 0:s.kzg)===void 0)throw new Error("kzg instance required to instantiate blob tx");return rs.fromTxData({...e,blobs:void 0,kzgCommitments:void 0,kzgProofs:void 0},n)}static fromSerializedTx(e,n={}){var i,s;if(((s=(i=n.common)==null?void 0:i.customCrypto)==null?void 0:s.kzg)===void 0)throw new Error("kzg instance required to instantiate blob tx");if(sn(e.subarray(0,1),q1(Bn.BlobEIP4844))===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${Bn.BlobEIP4844}, received: ${et(e.subarray(0,1))}`);const r=pn.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return rs.fromValuesArray(r,n)}static fromValuesArray(e,n={}){var w,N;if(((N=(w=n.common)==null?void 0:w.customCrypto)==null?void 0:N.kzg)===void 0)throw new Error("kzg instance required to instantiate blob tx");if(e.length!==11&&e.length!==14)throw new Error("Invalid EIP-4844 transaction. Only expecting 11 values (for unsigned tx) or 14 values (for signed tx).");const[r,i,s,o,a,c,f,l,u,p,m,A,E,I]=e;return this._validateNotArray({chainId:r,v:A}),P6({nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,value:f,maxFeePerBlobGas:p,v:A,r:E,s:I}),new rs({chainId:Vt(r),nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,to:c,value:f,data:l,accessList:u??[],maxFeePerBlobGas:p,blobVersionedHashes:m,v:A!==void 0?Vt(A):void 0,r:E,s:I},n)}static fromSerializedBlobTxNetworkWrapper(e,n){var u,p;if(!n||!n.common)throw new Error("common instance required to validate versioned hashes");if(((p=(u=n.common)==null?void 0:u.customCrypto)==null?void 0:p.kzg)===void 0)throw new Error("kzg instance required to instantiate blob tx");if(sn(e.subarray(0,1),q1(Bn.BlobEIP4844))===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${Bn.BlobEIP4844}, received: ${et(e.subarray(0,1))}`);const r=pn.decode(e.subarray(1));if(r.length!==4)throw Error("Expected 4 values in the deserialized network transaction");const[i,s,o,a]=r,c=rs.fromValuesArray(i,{...n,freeze:!1});if(c.to===void 0)throw Error("BlobEIP4844Transaction can not be send without a valid `to`");const f=Number(n.common.param("sharding","blobCommitmentVersionKzg"));return zR(c.blobVersionedHashes,s,o,a,f,n.common.customCrypto.kzg),c.blobs=s,c.kzgCommitments=o,c.kzgProofs=a,((n==null?void 0:n.freeze)??!0)&&Object.freeze(c),c}getDataFee(){return Nb(this)}getUpfrontCost(e=Bt){return Q4(this,e)}raw(){return[pt(this.chainId),pt(this.nonce),pt(this.maxPriorityFeePerGas),pt(this.maxFeePerGas),pt(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),pt(this.value),this.data,this.accessList,pt(this.maxFeePerBlobGas),this.blobVersionedHashes,this.v!==void 0?pt(this.v):new Uint8Array(0),this.r!==void 0?pt(this.r):new Uint8Array(0),this.s!==void 0?pt(this.s):new Uint8Array(0)]}serialize(){return Pa(this)}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.kzgProofs===void 0)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and KZG proofs provided");return Pa(this,[this.raw(),this.blobs,this.kzgCommitments,this.kzgProofs])}getMessageToSign(){return Pa(this,this.raw().slice(0,11))}getHashedMessageToSign(){return Bb(this)}hash(){return B6(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return N6(this)}toJSON(){const e=Os.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Ht(this.chainId),maxPriorityFeePerGas:Ht(this.maxPriorityFeePerGas),maxFeePerGas:Ht(this.maxFeePerGas),accessList:e,maxFeePerBlobGas:Ht(this.maxFeePerBlobGas),blobVersionedHashes:this.blobVersionedHashes.map(r=>et(r))}}addSignature(e,n,r,i=!1){n=Rt(n),r=Rt(r);const s={...this.txOptions,common:this.common};return rs.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:i?e-Ff:e,r:Vt(n),s:Vt(r),maxFeePerBlobGas:this.maxFeePerBlobGas,blobVersionedHashes:this.blobVersionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProofs:this.kzgProofs},s)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return To(this,e)}numBlobs(){return this.blobVersionedHashes.length}}function V3(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class ho extends w0{constructor(e,n={}){if(super({...e,type:Bn.Legacy},n),this.common=this._validateTxV(this.v,n.common),this.keccakFunction=this.common.customCrypto.keccak256??di,this.gasPrice=Vt(Rt(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Of){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),w0._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?V3(this.v,this.common.chainId())&&this.activeCapabilities.push(Ii.EIP155ReplayProtection):this.activeCapabilities.push(Ii.EIP155ReplayProtection)),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,n={}){return new ho(e,n)}static fromSerializedTx(e,n={}){const r=pn.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,i,s,o,a,c,f,l,u]=e;return P6({nonce:r,gasPrice:i,gasLimit:s,value:a,v:f,r:l,s:u}),new ho({nonce:r,gasPrice:i,gasLimit:s,to:o,value:a,data:c,v:f,r:l,s:u},n)}raw(){return[pt(this.nonce),pt(this.gasPrice),pt(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),pt(this.value),this.data,this.v!==void 0?pt(this.v):new Uint8Array(0),this.r!==void 0?pt(this.r):new Uint8Array(0),this.s!==void 0?pt(this.s):new Uint8Array(0)]}serialize(){return pn.encode(this.raw())}getMessageToSign(){const e=[pt(this.nonce),pt(this.gasPrice),pt(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),pt(this.value),this.data];return this.supports(Ii.EIP155ReplayProtection)&&(e.push(pt(this.common.chainId())),e.push(Td(Rt(0))),e.push(Td(Rt(0)))),e}getHashedMessageToSign(){const e=this.getMessageToSign();return this.keccakFunction(pn.encode(e))}getDataFee(){return J4(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){return B6(this)}getMessageToVerifySignature(){if(!this.isSigned()){const e=this._errorMsg("This transaction is not signed");throw new Error(e)}return this.getHashedMessageToSign()}getSenderPublicKey(){return N6(this)}addSignature(e,n,r,i=!1){n=Rt(n),r=Rt(r),i&&this.supports(Ii.EIP155ReplayProtection)&&(e+=this.common.chainId()*Lf+Yk);const s={...this.txOptions,common:this.common};return ho.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:e,r:Vt(n),s:Vt(r)},s)}toJSON(){return{...super.toJSON(),gasPrice:Ht(this.gasPrice)}}_validateTxV(e,n){let r;const i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!n||n.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(n){if(!V3(BigInt(i),n.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let s;(i-35)%2===0?s=35:s=36,r=BigInt(i-s)/Lf}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return To(this,e)}}const jR=t=>{const e=Object.assign({},t);return e.gasLimit=Gt(e.gasLimit??e.gas,It.BigInt),e.data=e.data===void 0?e.input:e.data,e.gasPrice=e.gasPrice!==void 0?BigInt(e.gasPrice):void 0,e.value=e.value!==void 0?BigInt(e.value):void 0,e.to=e.to!==null&&e.to!==void 0?Nf(Rt(e.to),20):null,e.v=e.v==="0x0"?"0x":e.v,e.r=e.r==="0x0"?"0x":e.r,e.s=e.s==="0x0"?"0x":e.s,(e.v!=="0x"||e.r!=="0x"||e.s!=="0x")&&(e.v=Gt(e.v,It.BigInt)),e};class Ta{constructor(){}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return ho.fromTxData(e,n);if(DR(e))return ho.fromTxData(e,n);if(HR(e))return zo.fromTxData(e,n);if(GR(e))return $o.fromTxData(e,n);if(VR(e))return rs.fromTxData(e,n);throw new Error(`Tx instantiation with type ${e==null?void 0:e.type} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case Bn.AccessListEIP2930:return zo.fromSerializedTx(e,n);case Bn.FeeMarketEIP1559:return $o.fromSerializedTx(e,n);case Bn.BlobEIP4844:return rs.fromSerializedTx(e,n);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}else return ho.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(e instanceof Uint8Array)return this.fromSerializedData(e,n);if(Array.isArray(e))return ho.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}static async fromJsonRpcProvider(e,n,r){const i=O4(e),s=await l1(i,{method:"eth_getTransactionByHash",params:[n]});if(s===null)throw new Error("No data returned from provider");return Ta.fromRPC(s,r)}static async fromRPC(e,n={}){return Ta.fromTxData(jR(e),n)}}function KR(t){const e={parentHash:t.parent_hash,feeRecipient:t.fee_recipient,stateRoot:t.state_root,receiptsRoot:t.receipts_root,logsBloom:t.logs_bloom,prevRandao:t.prev_randao,blockNumber:Ht(BigInt(t.block_number)),gasLimit:Ht(BigInt(t.gas_limit)),gasUsed:Ht(BigInt(t.gas_used)),timestamp:Ht(BigInt(t.timestamp)),extraData:t.extra_data,baseFeePerGas:Ht(BigInt(t.base_fee_per_gas)),blockHash:t.block_hash,transactions:t.transactions};return t.withdrawals!==void 0&&t.withdrawals!==null&&(e.withdrawals=t.withdrawals.map(n=>({index:Ht(BigInt(n.index)),validatorIndex:Ht(BigInt(n.validator_index)),address:n.address,amount:Ht(BigInt(n.amount))}))),t.blob_gas_used!==void 0&&t.blob_gas_used!==null&&(e.blobGasUsed=Ht(BigInt(t.blob_gas_used))),t.excess_blob_gas!==void 0&&t.excess_blob_gas!==null&&(e.excessBlobGas=Ht(BigInt(t.excess_blob_gas))),t.parent_beacon_block_root!==void 0&&t.parent_beacon_block_root!==null&&(e.parentBeaconBlockRoot=t.parent_beacon_block_root),t.execution_witness!==void 0&&t.execution_witness!==null&&(e.executionWitness=t.execution_witness),e}const du=32,qa=65,WR=function(t){if(t!==void 0){if(!xb(t)){if(!new RegExp(/^\d+$/).test(t)){const n=`Cannot convert string to hex string. numberToHex only supports 0x-prefixed hex or integer strings but the given string was: ${t}`;throw new Error(n)}return"0x"+parseInt(t,10).toString(16)}return t}};function QR(t){const[e,n,r,i,s,o,a,c,f,l,u,p,m,A,E,I,w,N,F,U]=t;if(t.length>20)throw new Error(`invalid header. More values than expected were received. Max: 20, got: ${t.length}`);if(t.length<15)throw new Error(`invalid header. Less values than expected were received. Min: 15, got: ${t.length}`);return{parentHash:e,uncleHash:n,coinbase:r,stateRoot:i,transactionsTrie:s,receiptTrie:o,logsBloom:a,difficulty:c,number:f,gasLimit:l,gasUsed:u,timestamp:p,extraData:m,mixHash:A,nonce:E,baseFeePerGas:I,withdrawalsRoot:w,blobGasUsed:N,excessBlobGas:F,parentBeaconBlockRoot:U}}const JR=(t,e,n)=>{let r=Aa,i=Bt,s=t*n;for(;s>Bt;)i+=s,s=s*e/(n*r),r++;return i/n},YR=BigInt("0xffffffffffffff");class ks{constructor(e,n={}){this.cache={hash:void 0},n.common?this.common=n.common.copy():this.common=new Xn({chain:Cs.Mainnet}),this.keccakFunction=this.common.customCrypto.keccak256??di;const r=n.skipConsensusFormatValidation??!1,i={parentHash:Di(32),uncleHash:lu,coinbase:Kn.zero(),stateRoot:Di(32),transactionsTrie:Ku,receiptTrie:Ku,logsBloom:Di(256),difficulty:Bt,number:Bt,gasLimit:YR,gasUsed:Bt,timestamp:Bt,extraData:new Uint8Array(0),mixHash:Di(32),nonce:Di(8)},s=Gt(e.parentHash,It.Uint8Array)??i.parentHash,o=Gt(e.uncleHash,It.Uint8Array)??i.uncleHash,a=new Kn(Gt(e.coinbase??i.coinbase,It.Uint8Array)),c=Gt(e.stateRoot,It.Uint8Array)??i.stateRoot,f=Gt(e.transactionsTrie,It.Uint8Array)??i.transactionsTrie,l=Gt(e.receiptTrie,It.Uint8Array)??i.receiptTrie,u=Gt(e.logsBloom,It.Uint8Array)??i.logsBloom,p=Gt(e.difficulty,It.BigInt)??i.difficulty,m=Gt(e.number,It.BigInt)??i.number,A=Gt(e.gasLimit,It.BigInt)??i.gasLimit,E=Gt(e.gasUsed,It.BigInt)??i.gasUsed,I=Gt(e.timestamp,It.BigInt)??i.timestamp,w=Gt(e.extraData,It.Uint8Array)??i.extraData,N=Gt(e.mixHash,It.Uint8Array)??i.mixHash,F=Gt(e.nonce,It.Uint8Array)??i.nonce,U=n.setHardfork??!1;U===!0?this.common.setHardforkBy({blockNumber:m,timestamp:I}):typeof U!="boolean"&&this.common.setHardforkBy({blockNumber:m,td:U,timestamp:I});const H={baseFeePerGas:this.common.isActivatedEIP(1559)?m===this.common.hardforkBlock(Je.London)?this.common.param("gasConfig","initialBaseFee"):Jk:void 0,withdrawalsRoot:this.common.isActivatedEIP(4895)?Ku:void 0,blobGasUsed:this.common.isActivatedEIP(4844)?Bt:void 0,excessBlobGas:this.common.isActivatedEIP(4844)?Bt:void 0,parentBeaconBlockRoot:this.common.isActivatedEIP(4788)?Di(32):void 0},z=Gt(e.baseFeePerGas,It.BigInt)??H.baseFeePerGas,ce=Gt(e.withdrawalsRoot,It.Uint8Array)??H.withdrawalsRoot,ee=Gt(e.blobGasUsed,It.BigInt)??H.blobGasUsed,ae=Gt(e.excessBlobGas,It.BigInt)??H.excessBlobGas,Te=Gt(e.parentBeaconBlockRoot,It.Uint8Array)??H.parentBeaconBlockRoot;if(!this.common.isActivatedEIP(1559)&&z!==void 0)throw new Error("A base fee for a block can only be set with EIP1559 being activated");if(!this.common.isActivatedEIP(4895)&&ce!==void 0)throw new Error("A withdrawalsRoot for a header can only be provided with EIP4895 being activated");if(!this.common.isActivatedEIP(4844)){if(ee!==void 0)throw new Error("blob gas used can only be provided with EIP4844 activated");if(ae!==void 0)throw new Error("excess blob gas can only be provided with EIP4844 activated")}if(!this.common.isActivatedEIP(4788)&&Te!==void 0)throw new Error("A parentBeaconBlockRoot for a header can only be provided with EIP4788 being activated");if(this.parentHash=s,this.uncleHash=o,this.coinbase=a,this.stateRoot=c,this.transactionsTrie=f,this.receiptTrie=l,this.logsBloom=u,this.difficulty=p,this.number=m,this.gasLimit=A,this.gasUsed=E,this.timestamp=I,this.extraData=w,this.mixHash=N,this.nonce=F,this.baseFeePerGas=z,this.withdrawalsRoot=ce,this.blobGasUsed=ee,this.excessBlobGas=ae,this.parentBeaconBlockRoot=Te,this._genericFormatValidation(),this._validateDAOExtraData(),n.calcDifficultyFromHeader&&this.common.consensusAlgorithm()===Oo.Ethash&&(this.difficulty=this.ethashCanonicalDifficulty(n.calcDifficultyFromHeader)),n.cliqueSigner){const lt=du+qa;if(this.extraData.length<lt){const ot=lt-this.extraData.length;this.extraData=er(this.extraData,new Uint8Array(ot))}this.extraData=this.cliqueSealBlock(n.cliqueSigner)}r===!1&&this._consensusFormatValidation(),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}get prevRandao(){if(this.common.isActivatedEIP(4399)===!1){const e=this._errorMsg("The prevRandao parameter can only be accessed when EIP-4399 is activated");throw new Error(e)}return this.mixHash}static fromHeaderData(e={},n={}){return new ks(e,n)}static fromRLPSerializedHeader(e,n={}){const r=pn.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized header input. Must be array");return ks.fromValuesArray(r,n)}static fromValuesArray(e,n={}){const r=QR(e),{number:i,baseFeePerGas:s,excessBlobGas:o,blobGasUsed:a,parentBeaconBlockRoot:c}=r,f=ks.fromHeaderData(r,n);if(f.common.isActivatedEIP(1559)&&s===void 0){const l=Pd(f.common.eipBlock(1559));if(l&&sn(l,i))throw new Error("invalid header. baseFeePerGas should be provided")}if(f.common.isActivatedEIP(4844)){if(o===void 0)throw new Error("invalid header. excessBlobGas should be provided");if(a===void 0)throw new Error("invalid header. blobGasUsed should be provided")}if(f.common.isActivatedEIP(4788)&&c===void 0)throw new Error("invalid header. parentBeaconBlockRoot should be provided");return f}_genericFormatValidation(){var a,c;const{parentHash:e,stateRoot:n,transactionsTrie:r,receiptTrie:i,mixHash:s,nonce:o}=this;if(e.length!==32){const f=this._errorMsg(`parentHash must be 32 bytes, received ${e.length} bytes`);throw new Error(f)}if(n.length!==32){const f=this._errorMsg(`stateRoot must be 32 bytes, received ${n.length} bytes`);throw new Error(f)}if(r.length!==32){const f=this._errorMsg(`transactionsTrie must be 32 bytes, received ${r.length} bytes`);throw new Error(f)}if(i.length!==32){const f=this._errorMsg(`receiptTrie must be 32 bytes, received ${i.length} bytes`);throw new Error(f)}if(s.length!==32){const f=this._errorMsg(`mixHash must be 32 bytes, received ${s.length} bytes`);throw new Error(f)}if(o.length!==8){const f=this._errorMsg(`nonce must be 8 bytes, received ${o.length} bytes`);throw new Error(f)}if(this.gasUsed>this.gasLimit){const f=this._errorMsg(`Invalid block: too much gas used. Used: ${this.gasUsed}, gas limit: ${this.gasLimit}`);throw new Error(f)}if(this.common.isActivatedEIP(1559)===!0){if(typeof this.baseFeePerGas!="bigint"){const l=this._errorMsg("EIP1559 block has no base fee field");throw new Error(l)}const f=this.common.hardforkBlock(Je.London);if(typeof f=="bigint"&&f!==Bt&&this.number===f){const l=this.common.param("gasConfig","initialBaseFee");if(this.baseFeePerGas!==l){const u=this._errorMsg("Initial EIP1559 block does not have initial base fee");throw new Error(u)}}}if(this.common.isActivatedEIP(4895)===!0){if(this.withdrawalsRoot===void 0){const f=this._errorMsg("EIP4895 block has no withdrawalsRoot field");throw new Error(f)}if(((a=this.withdrawalsRoot)==null?void 0:a.length)!==32){const f=this._errorMsg(`withdrawalsRoot must be 32 bytes, received ${this.withdrawalsRoot.length} bytes`);throw new Error(f)}}if(this.common.isActivatedEIP(4788)===!0){if(this.parentBeaconBlockRoot===void 0){const f=this._errorMsg("EIP4788 block has no parentBeaconBlockRoot field");throw new Error(f)}if(((c=this.parentBeaconBlockRoot)==null?void 0:c.length)!==32){const f=this._errorMsg(`parentBeaconBlockRoot must be 32 bytes, received ${this.parentBeaconBlockRoot.length} bytes`);throw new Error(f)}}}_consensusFormatValidation(){const{nonce:e,uncleHash:n,difficulty:r,extraData:i,number:s}=this;if(this.common.consensusAlgorithm()===Oo.Ethash&&s>Bt&&this.extraData.length>this.common.param("vm","maxExtraDataSize")){const o=this._errorMsg("invalid amount of extra data");throw new Error(o)}if(this.common.consensusAlgorithm()===Oo.Clique){const o=du+qa;if(this.cliqueIsEpochTransition()){const a=this.extraData.length-o;if(a%20!==0){const c=this._errorMsg(`invalid signer list length in extraData, received signer length of ${a} (not divisible by 20)`);throw new Error(c)}if(!this.coinbase.isZero()){const c=this._errorMsg(`coinbase must be filled with zeros on epoch transition blocks, received ${this.coinbase}`);throw new Error(c)}}else if(this.extraData.length!==o){const a=this._errorMsg(`extraData must be ${o} bytes on non-epoch transition blocks, received ${this.extraData.length} bytes`);throw new Error(a)}if(!sn(this.mixHash,new Uint8Array(32))){const a=this._errorMsg(`mixHash must be filled with zeros, received ${this.mixHash}`);throw new Error(a)}}if(this.common.consensusType()===Mf.ProofOfStake){let o=!1,a="";if(sn(n,lu)||(a+=`, uncleHash: ${et(n)} (expected: ${et(lu)})`,o=!0),s!==Bt&&(r!==Bt&&(a+=`, difficulty: ${r} (expected: 0)`,o=!0),i.length>32&&(a+=`, extraData: ${et(i)} (cannot exceed 32 bytes length, received ${i.length} bytes)`,o=!0),sn(e,Di(8))||(a+=`, nonce: ${et(e)} (expected: ${et(Di(8))})`,o=!0)),o){const c=this._errorMsg(`Invalid PoS block: ${a}`);throw new Error(c)}}}validateGasLimit(e){let n=e.gasLimit;const r=this.common.hardforkBlock(Je.London);if(typeof r=="bigint"&&r!==Bt&&this.number===r){const c=this.common.param("gasConfig","elasticityMultiplier");n=n*c}const i=this.gasLimit,s=n/this.common.param("gasConfig","gasLimitBoundDivisor"),o=n+s,a=n-s;if(i>=o){const c=this._errorMsg(`gas limit increased too much. Gas limit: ${i}, max gas limit: ${o}`);throw new Error(c)}if(i<=a){const c=this._errorMsg(`gas limit decreased too much. Gas limit: ${i}, min gas limit: ${a}`);throw new Error(c)}if(i<this.common.param("gasConfig","minGasLimit")){const c=this._errorMsg(`gas limit decreased below minimum gas limit. Gas limit: ${i}, minimum gas limit: ${this.common.param("gasConfig","minGasLimit")}`);throw new Error(c)}}calcNextBaseFee(){if(this.common.isActivatedEIP(1559)===!1){const i=this._errorMsg("calcNextBaseFee() can only be called with EIP1559 being activated");throw new Error(i)}let e;const n=this.common.param("gasConfig","elasticityMultiplier"),r=this.gasLimit/n;if(r===this.gasUsed)e=this.baseFeePerGas;else if(this.gasUsed>r){const i=this.gasUsed-r,s=this.common.param("gasConfig","baseFeeMaxChangeDenominator"),o=this.baseFeePerGas*i/r/s;e=(o>Aa?o:Aa)+this.baseFeePerGas}else{const i=r-this.gasUsed,s=this.common.param("gasConfig","baseFeeMaxChangeDenominator"),o=this.baseFeePerGas*i/r/s;e=this.baseFeePerGas-o>Bt?this.baseFeePerGas-o:Bt}return e}getBlobGasPrice(){if(this.excessBlobGas===void 0)throw new Error("header must have excessBlobGas field populated");return JR(this.common.param("gasPrices","minBlobGasPrice"),this.excessBlobGas,this.common.param("gasConfig","blobGasPriceUpdateFraction"))}calcDataFee(e){const r=this.common.param("gasConfig","blobGasPerBlob")*BigInt(e),i=this.getBlobGasPrice();return r*i}calcNextExcessBlobGas(){const e=(this.excessBlobGas??Bt)+(this.blobGasUsed??Bt),n=this.common.param("gasConfig","targetBlobGasPerBlock");return e<=n?Bt:e-n}raw(){const e=[this.parentHash,this.uncleHash,this.coinbase.bytes,this.stateRoot,this.transactionsTrie,this.receiptTrie,this.logsBloom,pt(this.difficulty),pt(this.number),pt(this.gasLimit),pt(this.gasUsed),pt(this.timestamp??Bt),this.extraData,this.mixHash,this.nonce];return this.common.isActivatedEIP(1559)===!0&&e.push(pt(this.baseFeePerGas)),this.common.isActivatedEIP(4895)===!0&&e.push(this.withdrawalsRoot),this.common.isActivatedEIP(6800),this.common.isActivatedEIP(4844)===!0&&(e.push(pt(this.blobGasUsed)),e.push(pt(this.excessBlobGas))),this.common.isActivatedEIP(4788)===!0&&e.push(this.parentBeaconBlockRoot),e}hash(){return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=this.keccakFunction(pn.encode(this.raw()))),this.cache.hash):this.keccakFunction(pn.encode(this.raw()))}isGenesis(){return this.number===Bt}_requireClique(e){if(this.common.consensusAlgorithm()!==Oo.Clique){const n=this._errorMsg(`BlockHeader.${e}() call only supported for clique PoA networks`);throw new Error(n)}}ethashCanonicalDifficulty(e){if(this.common.consensusType()!==Mf.ProofOfWork){const l=this._errorMsg("difficulty calculation is only supported on PoW chains");throw new Error(l)}if(this.common.consensusAlgorithm()!==Oo.Ethash){const l=this._errorMsg("difficulty calculation currently only supports the ethash algorithm");throw new Error(l)}const n=this.timestamp,{timestamp:r,difficulty:i}=e,s=this.common.param("pow","minimumDifficulty"),o=i/this.common.param("pow","difficultyBoundDivisor");let a=this.number,c;if(this.common.gteHardfork(Je.Byzantium)===!0){const l=sn(e.uncleHash,lu)?1:2;let u=BigInt(l)-(n-r)/BigInt(9);const p=BigInt(-99);p>u&&(u=p),c=i+o*u}if(this.common.gteHardfork(Je.Byzantium)===!0)a=a-this.common.param("pow","difficultyBombDelay"),a<Bt&&(a=Bt);else if(this.common.gteHardfork(Je.Homestead)===!0){let l=Aa-(n-r)/BigInt(10);const u=BigInt(-99);u>l&&(l=u),c=i+o*l}else r+this.common.param("pow","durationLimit")>n?c=o+i:c=i-o;const f=a/BigInt(1e5)-Lf;return f>=0&&(c=c+Lf**f),c<s&&(c=s),c}cliqueSigHash(){this._requireClique("cliqueSigHash");const e=this.raw();return e[12]=this.extraData.subarray(0,this.extraData.length-qa),this.keccakFunction(pn.encode(e))}cliqueIsEpochTransition(){this._requireClique("cliqueIsEpochTransition");const e=BigInt(this.common.consensusConfig().epoch);return this.number%e===Bt}cliqueExtraVanity(){return this._requireClique("cliqueExtraVanity"),this.extraData.subarray(0,du)}cliqueExtraSeal(){return this._requireClique("cliqueExtraSeal"),this.extraData.subarray(-qa)}cliqueSealBlock(e){var a;this._requireClique("cliqueSealBlock");const r=(((a=this.common.customCrypto)==null?void 0:a.ecsign)??E4)(this.cliqueSigHash(),e),i=er(r.r,r.s,Pd(r.v-Ff)),s=this.extraData.subarray(0,this.extraData.length-qa);return er(s,i)}cliqueEpochTransitionSigners(){if(this._requireClique("cliqueEpochTransitionSigners"),!this.cliqueIsEpochTransition()){const o=this._errorMsg("Signers are only included in epoch transition blocks (clique)");throw new Error(o)}const e=du,n=this.extraData.length-qa,r=this.extraData.subarray(e,n),i=[],s=20;for(let o=0;o<=r.length-s;o+=s)i.push(r.subarray(o,o+s));return i.map(o=>new Kn(o))}cliqueVerifySignature(e){this._requireClique("cliqueVerifySignature");const n=this.cliqueSigner();return!!e.find(i=>i.equals(n))}cliqueSigner(){this._requireClique("cliqueSigner");const e=this.cliqueExtraSeal();if(e.length===0||sn(e,new Uint8Array(65)))return Kn.zero();const n=e.subarray(0,32),r=e.subarray(32,64),i=Vt(e.subarray(64,65))+Ff,s=A4(this.cliqueSigHash(),i,n,r);return Kn.fromPublicKey(s)}serialize(){return pn.encode(this.raw())}toJSON(){const e=this.withdrawalsRoot?{withdrawalsRoot:et(this.withdrawalsRoot)}:{},n={parentHash:et(this.parentHash),uncleHash:et(this.uncleHash),coinbase:this.coinbase.toString(),stateRoot:et(this.stateRoot),transactionsTrie:et(this.transactionsTrie),...e,receiptTrie:et(this.receiptTrie),logsBloom:et(this.logsBloom),difficulty:Ht(this.difficulty),number:Ht(this.number),gasLimit:Ht(this.gasLimit),gasUsed:Ht(this.gasUsed),timestamp:Ht(this.timestamp),extraData:et(this.extraData),mixHash:et(this.mixHash),nonce:et(this.nonce)};return this.common.isActivatedEIP(1559)===!0&&(n.baseFeePerGas=Ht(this.baseFeePerGas)),this.common.isActivatedEIP(4844)===!0&&(n.blobGasUsed=Ht(this.blobGasUsed),n.excessBlobGas=Ht(this.excessBlobGas)),this.common.isActivatedEIP(4788)===!0&&(n.parentBeaconBlockRoot=et(this.parentBeaconBlockRoot)),n}_validateDAOExtraData(){if(this.common.hardforkIsActiveOnBlock(Je.Dao,this.number)===!1)return;const e=this.common.hardforkBlock(Je.Dao);if(e===null||this.number<e)return;const n=Qn("0x64616f2d686172642d666f726b"),r=BigInt(9);if(this.number-e<=r&&!sn(this.extraData,n)){const s=this._errorMsg(`extraData should be 'dao-hard-fork', got ${mb(this.extraData)} (hex: ${et(this.extraData)})`);throw new Error(s)}}errorStr(){let e="";try{e=et(this.hash())}catch{e="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let r=`block header number=${this.number} hash=${e} `;return r+=`hf=${n} baseFeePerGas=${this.baseFeePerGas??"none"}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}function $3(t,e){const{parentHash:n,sha3Uncles:r,miner:i,stateRoot:s,transactionsRoot:o,receiptsRoot:a,logsBloom:c,difficulty:f,number:l,gasLimit:u,gasUsed:p,timestamp:m,extraData:A,mixHash:E,nonce:I,baseFeePerGas:w,withdrawalsRoot:N,blobGasUsed:F,excessBlobGas:U}=t;return ks.fromHeaderData({parentHash:n,uncleHash:r,coinbase:i,stateRoot:s,transactionsTrie:o,receiptTrie:a,logsBloom:c,difficulty:WR(f),number:l,gasLimit:u,gasUsed:p,timestamp:m,extraData:A,mixHash:E,nonce:I,baseFeePerGas:w,withdrawalsRoot:N,blobGasUsed:F,excessBlobGas:U},e)}function qR(t){const e=Object.assign({},t);return e.gasLimit=Gt(e.gasLimit??e.gas,It.BigInt),e.data=e.data===void 0?e.input:e.data,e.gasPrice=e.gasPrice!==void 0?BigInt(e.gasPrice):void 0,e.value=e.value!==void 0?BigInt(e.value):void 0,e.to=e.to!==null&&e.to!==void 0?Nf(Rt(e.to),20):null,e.v=Gt(e.v,It.BigInt),e}function Y4(t,e=[],n){const r=$3(t,n),i=[],s={common:r.common};for(const a of t.transactions??[]){const c=qR(a),f=Ta.fromTxData(c,s);i.push(f)}const o=e.map(a=>$3(a,n));return ci.fromBlockData({header:r,transactions:i,uncleHeaders:o,withdrawals:t.withdrawals},n)}class ci{constructor(e,n=[],r=[],i,s={},o){if(this.transactions=[],this.uncleHeaders=[],this.cache={},this.header=e??ks.fromHeaderData({},s),this.common=this.header.common,this.keccakFunction=this.common.customCrypto.keccak256??di,this.transactions=n,this.withdrawals=i??(this.common.isActivatedEIP(4895)?[]:void 0),this.executionWitness=o,this.common.isActivatedEIP(6800)&&this.executionWitness===void 0&&(this.executionWitness={stateDiff:[],verkleProof:{commitmentsByPath:[],d:"0x",depthExtensionPresent:"0x",ipaProof:{cl:[],cr:[],finalEvaluation:"0x"},otherStems:[]}}),this.uncleHeaders=r,r.length>0){if(this.validateUncles(),this.common.consensusType()===Mf.ProofOfAuthority){const c=this._errorMsg("Block initialization with uncleHeaders on a PoA network is not allowed");throw new Error(c)}if(this.common.consensusType()===Mf.ProofOfStake){const c=this._errorMsg("Block initialization with uncleHeaders on a PoS network is not allowed");throw new Error(c)}}if(!this.common.isActivatedEIP(4895)&&i!==void 0)throw new Error("Cannot have a withdrawals field if EIP 4895 is not active");if(!this.common.isActivatedEIP(6800)&&o!==void 0&&o!==null)throw new Error("Cannot have executionWitness field if EIP 6800 is not active ");((s==null?void 0:s.freeze)??!0)&&Object.freeze(this)}static async genWithdrawalsTrieRoot(e,n){const r=n??new xr;for(const[i,s]of e.entries())await r.put(pn.encode(i),pn.encode(s.raw()));return r.root()}static async genTransactionsTrieRoot(e,n){const r=n??new xr;for(const[i,s]of e.entries())await r.put(pn.encode(i),s.serialize());return r.root()}static fromBlockData(e={},n){const{header:r,transactions:i,uncleHeaders:s,withdrawals:o,executionWitness:a}=e,c=ks.fromHeaderData(r,n),f=[];for(const A of i??[]){const E=Ta.fromTxData(A,{...n,common:c.common});f.push(E)}const l=[],u={...n,common:c.common,calcDifficultyFromHeader:void 0};(n==null?void 0:n.setHardfork)!==void 0&&(u.setHardfork=!0);for(const A of s??[]){const E=ks.fromHeaderData(A,u);l.push(E)}const p=o==null?void 0:o.map(_a.fromWithdrawalData),m=a;return new ci(c,f,l,p,n,m)}static fromRLPSerializedBlock(e,n){const r=pn.decode(Uint8Array.from(e));if(!Array.isArray(r))throw new Error("Invalid serialized block input. Must be array");return ci.fromValuesArray(r,n)}static fromValuesArray(e,n){var A;if(e.length>5)throw new Error(`invalid block. More values=${e.length} than expected were received (at most 5)`);const[r,i,s,o,a]=e,c=ks.fromValuesArray(r,n);if(c.common.isActivatedEIP(4895)&&(o===void 0||!Array.isArray(o)))throw new Error("Invalid serialized block input: EIP-4895 is active, and no withdrawals were provided as array");const f=[];for(const E of i??[])f.push(Ta.fromBlockBodyData(E,{...n,common:c.common}));const l=[],u={...n,common:c.common,calcDifficultyFromHeader:void 0};(n==null?void 0:n.setHardfork)!==void 0&&(u.setHardfork=!0);for(const E of s??[])l.push(ks.fromValuesArray(E,u));const p=(A=o==null?void 0:o.map(([E,I,w,N])=>({index:E,validatorIndex:I,address:w,amount:N})))==null?void 0:A.map(_a.fromWithdrawalData);let m;return c.common.isActivatedEIP(6800)&&a!==void 0?m=JSON.parse(mb(pn.decode(a))):m=null,new ci(c,f,l,p,n,m)}static fromRPC(e,n,r){return Y4(e,n,r)}static async fromExecutionPayload(e,n){const{blockNumber:r,receiptsRoot:i,prevRandao:s,feeRecipient:o,transactions:a,withdrawals:c,executionWitness:f}=e,l=[];for(const[I,w]of a.entries())try{const N=Ta.fromSerializedData(Qn(w),{common:n==null?void 0:n.common});l.push(N)}catch(N){throw`Invalid tx at index ${I}: ${N}`}const u=await ci.genTransactionsTrieRoot(l,new xr({common:n==null?void 0:n.common})),p=c==null?void 0:c.map(I=>_a.fromWithdrawalData(I)),m=p?await ci.genWithdrawalsTrieRoot(p,new xr({common:n==null?void 0:n.common})):void 0,A={...e,number:r,receiptTrie:i,transactionsTrie:u,withdrawalsRoot:m,mixHash:s,coinbase:o},E=ci.fromBlockData({header:A,transactions:l,withdrawals:p,executionWitness:f},n);if(E.common.isActivatedEIP(6800)&&f==null)throw Error("Missing executionWitness for EIP-6800 activated executionPayload");if(!sn(E.hash(),Qn(e.blockHash))){const I=`Invalid blockHash, expected: ${e.blockHash}, received: ${et(E.hash())}`;throw Error(I)}return E}static async fromBeaconPayloadJson(e,n){const r=KR(e);return ci.fromExecutionPayload(r,n)}raw(){var r;const e=[this.header.raw(),this.transactions.map(i=>i.supports(Ii.EIP2718TypedTransaction)?i.serialize():i.raw()),this.uncleHeaders.map(i=>i.raw())],n=(r=this.withdrawals)==null?void 0:r.map(i=>i.raw());if(n&&e.push(n),this.executionWitness!==void 0&&this.executionWitness!==null){const i=pn.encode(JSON.stringify(this.executionWitness));e.push(i)}return e}hash(){return this.header.hash()}isGenesis(){return this.header.isGenesis()}serialize(){return pn.encode(this.raw())}async genTxTrie(){return ci.genTransactionsTrieRoot(this.transactions,new xr({common:this.common}))}async transactionsTrieIsValid(){let e;return this.transactions.length===0?(e=sn(this.header.transactionsTrie,Ku),e):(this.cache.txTrieRoot===void 0&&(this.cache.txTrieRoot=await this.genTxTrie()),e=sn(this.cache.txTrieRoot,this.header.transactionsTrie),e)}getTransactionsValidationErrors(){const e=[];let n=Bt;const r=this.common.param("gasConfig","maxblobGasPerBlock"),i=this.common.param("gasConfig","blobGasPerBlob");for(let[s,o]of this.transactions.entries()){const a=o.getValidationErrors();this.common.isActivatedEIP(1559)===!0&&(o.supports(Ii.EIP1559FeeMarket)?(o=o,o.maxFeePerGas<this.header.baseFeePerGas&&a.push("tx unable to pay base fee (EIP-1559 tx)")):(o=o,o.gasPrice<this.header.baseFeePerGas&&a.push("tx unable to pay base fee (non EIP-1559 tx)"))),this.common.isActivatedEIP(4844)===!0&&o instanceof rs&&(n+=BigInt(o.numBlobs())*i,n>r&&a.push(`tx causes total blob gas of ${n} to exceed maximum blob gas per block of ${r}`)),a.length>0&&e.push(`errors at tx ${s}: ${a.join(", ")}`)}return this.common.isActivatedEIP(4844)===!0&&n!==this.header.blobGasUsed&&e.push(`invalid blobGasUsed expected=${this.header.blobGasUsed} actual=${n}`),e}transactionsAreValid(){return this.getTransactionsValidationErrors().length===0}async validateData(e=!1,n=!0){if(n){const r=this.getTransactionsValidationErrors();if(r.length>0){const i=this._errorMsg(`invalid transactions: ${r.join(" ")}`);throw new Error(i)}}if(!e){if(n){for(const[r,i]of this.transactions.entries())if(!i.isSigned()){const s=this._errorMsg(`invalid transactions: transaction at index ${r} is unsigned`);throw new Error(s)}}if(!await this.transactionsTrieIsValid()){const r=this._errorMsg("invalid transaction trie");throw new Error(r)}if(!this.uncleHashIsValid()){const r=this._errorMsg("invalid uncle hash");throw new Error(r)}if(this.common.isActivatedEIP(4895)&&!await this.withdrawalsTrieIsValid()){const r=this._errorMsg("invalid withdrawals trie");throw new Error(r)}if(this.common.isActivatedEIP(6800)){if(this.executionWitness===void 0)throw new Error("Invalid block: missing executionWitness");if(this.executionWitness===null)throw new Error("Invalid block: ethereumjs stateless client needs executionWitness")}}}validateBlobTransactions(e){if(this.common.isActivatedEIP(4844)){const n=this.common.param("gasConfig","maxblobGasPerBlock"),r=this.common.param("gasConfig","blobGasPerBlob");let i=Bt;const s=e.calcNextExcessBlobGas();if(this.header.excessBlobGas!==s)throw new Error(`block excessBlobGas mismatch: have ${this.header.excessBlobGas}, want ${s}`);let o;for(const a of this.transactions)if(a instanceof rs){if(o=o??this.header.getBlobGasPrice(),a.maxFeePerBlobGas<o)throw new Error(`blob transaction maxFeePerBlobGas ${a.maxFeePerBlobGas} < than block blob gas price ${o} - ${this.errorStr()}`);if(i+=BigInt(a.blobVersionedHashes.length)*r,i>n)throw new Error(`tx causes total blob gas of ${i} to exceed maximum blob gas per block of ${n}`)}if(this.header.blobGasUsed!==i)throw new Error(`block blobGasUsed mismatch: have ${this.header.blobGasUsed}, want ${i}`)}}uncleHashIsValid(){const e=this.uncleHeaders.map(r=>r.raw()),n=pn.encode(e);return sn(this.keccakFunction(n),this.header.uncleHash)}async withdrawalsTrieIsValid(){if(!this.common.isActivatedEIP(4895))throw new Error("EIP 4895 is not activated");const e=await ci.genWithdrawalsTrieRoot(this.withdrawals,new xr({common:this.common}));return sn(e,this.header.withdrawalsRoot)}validateUncles(){if(this.isGenesis())return;if(this.uncleHeaders.length>2){const n=this._errorMsg("too many uncle headers");throw new Error(n)}const e=this.uncleHeaders.map(n=>et(n.hash()));if(new Set(e).size!==e.length){const n=this._errorMsg("duplicate uncles");throw new Error(n)}}ethashCanonicalDifficulty(e){return this.header.ethashCanonicalDifficulty(e.header)}validateGasLimit(e){return this.header.validateGasLimit(e.header)}toJSON(){const e=this.withdrawals?{withdrawals:this.withdrawals.map(n=>n.toJSON())}:{};return{header:this.header.toJSON(),transactions:this.transactions.map(n=>n.toJSON()),uncleHeaders:this.uncleHeaders.map(n=>n.toJSON()),...e}}errorStr(){let e="";try{e=et(this.hash())}catch{e="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let r=`block number=${this.header.number} hash=${e} `;return r+=`hf=${n} baseFeePerGas=${this.header.baseFeePerGas??"none"} `,r+=`txs=${this.transactions.length} uncles=${this.uncleHeaders.length}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}ci.fromJsonRpcProvider=async(t,e,n)=>{let r;const i=O4(t);if(typeof e=="string"&&e.length===66)r=await l1(i,{method:"eth_getBlockByHash",params:[e,!0]});else if(typeof e=="bigint")r=await l1(i,{method:"eth_getBlockByNumber",params:[Ht(e),!0]});else if(_6(e)||e==="latest"||e==="earliest"||e==="pending"||e==="finalized"||e==="safe")r=await l1(i,{method:"eth_getBlockByNumber",params:[e,!0]});else throw new Error(`expected blockTag to be block hash, bigint, hex prefixed string, or earliest/latest/pending; got ${e}`);if(r===null)throw new Error("No block data returned from provider");const s=[];if(r.uncles.length>0)for(let o=0;o<r.uncles.length;o++){const a=await l1(i,{method:"eth_getUncleByBlockHashAndIndex",params:[r.hash,wb(o)]});s.push(a)}return Y4(r,s,n)};const Cd={1:{name:"Ethereum Mainnet",chain:"ETH",icon:"ethereum",rpc:["https://eth-mainnet.g.alchemy.com/v2/asYK8chMrnekMUTAvVwaNG2OHyp4fLCe"],features:[{name:"EIP155"},{name:"EIP1559"}],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},infoURL:"https://ethereum.org",shortName:"eth",chainId:1,networkId:1,slip44:60,ens:{registry:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},explorers:[{name:"etherscan",url:"https://etherscan.io",standard:"EIP3091"},{name:"blockscout",url:"https://eth.blockscout.com",icon:"blockscout",standard:"EIP3091"},{name:"dexguru",url:"https://ethereum.dex.guru",icon:"dexguru",standard:"EIP3091"}]},56:{name:"BNB Smart Chain Mainnet",chain:"BSC",rpc:["https://bsc-dataseed1.bnbchain.org","https://bsc-dataseed2.bnbchain.org","https://bsc-dataseed3.bnbchain.org","https://bsc-dataseed4.bnbchain.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed4.ninicoin.io","https://bsc.publicnode.com"],faucets:[],nativeCurrency:{name:"BNB Chain Native Token",symbol:"BNB",decimals:18},infoURL:"https://www.bnbchain.org/en",shortName:"bnb",chainId:56,networkId:56,slip44:714,explorers:[{name:"bscscan",url:"https://bscscan.com",standard:"EIP3091"},{name:"dexguru",url:"https://bnb.dex.guru",icon:"dexguru",standard:"EIP3091"}]},42161:{name:"Arbitrum One",chainId:42161,shortName:"arb1",chain:"ETH",networkId:42161,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpc:["https://arb1.arbitrum.io/rpc","https://arbitrum-one.publicnode.com"],faucets:[],explorers:[{name:"Arbiscan",url:"https://arbiscan.io",standard:"EIP3091"},{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io",standard:"EIP3091"},{name:"dexguru",url:"https://arbitrum.dex.guru",icon:"dexguru",standard:"EIP3091"}],infoURL:"https://arbitrum.io",parent:{type:"L2",chain:"eip155-1",bridges:[{url:"https://bridge.arbitrum.io"}]}},10:{name:"OP Mainnet",chain:"ETH",rpc:["https://opt-mainnet.g.alchemy.com/v2/LTUd8wMSlbXxWBHpYyFE-WyOh2wud4Hb"],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},infoURL:"https://optimism.io",shortName:"oeth",chainId:10,networkId:10,explorers:[{name:"etherscan",url:"https://optimistic.etherscan.io",standard:"EIP3091"},{name:"blockscout",url:"https://optimism.blockscout.com",icon:"blockscout",standard:"EIP3091"},{name:"dexguru",url:"https://optimism.dex.guru",icon:"dexguru",standard:"EIP3091"}]},137:{name:"Polygon Mainnet",chain:"Polygon",icon:"polygon",rpc:["https://polygon-mainnet.g.alchemy.com/v2/cwgNHMG7HVg1gg_PiN2tZdr27wbW8h9d"],faucets:[],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},infoURL:"https://polygon.technology/",shortName:"matic",chainId:137,networkId:137,slip44:966,explorers:[{name:"polygonscan",url:"https://polygonscan.com",standard:"EIP3091"},{name:"dexguru",url:"https://polygon.dex.guru",icon:"dexguru",standard:"EIP3091"}]},80001:{name:"Polygon Testnet Mumbai",chain:"Polygon",icon:"polygon",rpc:["https://polygon-mumbai.g.alchemy.com/v2/g4qVlKDewH8F19bv47GB1Iq3Ca_XxWhN"],faucets:[],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},infoURL:"https://polygon.technology/",shortName:"matic",chainId:80001,networkId:80001,explorers:[]}};function ZR(){const t={};for(const e in Cd){const n=Cd[e];t[n.name]=n.chainId}return t}const XR=ZR();function o2(t){if(!(t in Cd))throw new Error(`Unknown chain: ${t}`);const e=Cd[t],n=H9(e.rpc);return console.log("Using RPC URL",n),new cb(n)}async function O6(t,e){const n=["function name() public view returns (string)","function symbol() public view returns (string)","function decimals() public view returns (uint8)","function totalSupply() public view returns (uint256)"],r=new Dn(t,n,e),i=await e.getNetwork();return{addr:t,chainId:i.chainId,name:await r.name(),symbol:await r.symbol(),decimals:await r.decimals(),totalSupply:await r.totalSupply()}}function q4(t,e){return rT(["bytes","uint256"],[os(t,32),e])}async function eN(t,e){try{await O6(e,t)}catch{return!1}return!0}async function tN(t,e,n,r="latest"){const i=await O6(e,t),s=["function balanceOf(address account) view returns (uint256)"],a=await new Dn(e,s,t).balanceOf(n);console.log("Balance is",typeof a,a);const c=cs(a,32);let f=[101,1,51],l=[...Array(256).keys()].filter(u=>!f.includes(u));for(const u of f.concat(l)){const p=await t.send("eth_getStorageAt",[e,q4(n,u),r]);if(p==c&&p!=a5)return{index:u,balance:a,balanceDecimal:Tm(a,i.decimals)}}return null}async function nN(t,e,n,r,i){const s=await t.send("eth_getProof",[n,[q4(i,r)],e]);return Ia(s.storageProof[0].proof.map(Bl))}async function rN(t,e,n){const r=await t.send("eth_getProof",[n,[],e]);return Ia(r.accountProof.map(Bl))}const iN={common:Xn.custom(Tr.PolygonMainnet,{hardfork:"london"}),skipConsensusFormatValidation:!0};async function sN(t,e,n){const r=await t.send("eth_getBlockByHash",[e,!1]),i=ci.fromRPC(r,[],n);return $e(i.header.serialize())}const Fn=t=>(Qd("data-v-eb0a99ea"),t=t(),Jd(),t),oN={key:0},aN={key:0},cN=Fn(()=>q("p",{class:"text-white text-base mb-5 text-center"}," Once created, your poll will be live immediately and responses will start being recorded. ",-1)),fN={class:"form-group"},lN=Fn(()=>q("label",{for:"question",class:"peer-focus:text-primaryDark peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-5"},[an(" Question "),q("span",{class:"text-red-500"},"*")],-1)),uN={class:"form-group form-group-textarea"},dN=Fn(()=>q("label",{for:"description",class:"peer-focus:text-primaryDark peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-5"}," Description ",-1)),hN={class:"form-group-extended"},bN=Fn(()=>q("label",{class:"inline-block mb-5"},[an("Answers "),q("span",{class:"text-red-500"},"*")],-1)),pN=["placeholder","onUpdate:modelValue"],gN={class:"flex gap-2"},mN=Fn(()=>q("span",{class:"leading-6"},"Add answer",-1)),yN={class:"form-group-extended"},xN={class:"flex mb-5 pl-5 pt-5"},wN=Fn(()=>q("label",{class:"ml-3 text-base text-gray-900",for:"publish-votes"}," Publish individual votes after voting has ended. ",-1)),vN={class:"flex mb-5 pl-5"},EN={class:"ml-3 text-base text-gray-900",for:"has-expiration"},AN={key:0},_N={key:0,class:"mt-3 text-gray-500"},PN={key:0,class:"mt-2"},TN=Fn(()=>q("b",null,"Poll close date must be in the future!",-1)),IN=[TN],CN={key:1},SN={class:"flex mb-5 pl-5"},kN={class:"ml-3 text-base text-gray-900",for:"has-subsidy"},BN=Fn(()=>q("small",null,"(let people submit votes without paying gas)",-1)),RN={key:0},NN={class:"flex mb-5 pl-5"},ON=Fn(()=>q("label",{for:"poll-acl",class:"mr-3 text-base text-gray-900 p-3"}," ACL: ",-1)),LN=["value"],FN=["value"],MN=["value"],UN=["value"],DN={key:0},HN={class:"mb-5 pl-5"},GN=Fn(()=>q("label",{for:"holder-addr"}," Token Address: ",-1)),VN={key:0,class:"mt-1 text-red-500"},$N={key:1,class:"text-gray-500 mt-1"},zN={key:0},jN={key:1},KN=Fn(()=>q("label",{for:"acl-allowlist"},[an(" Allowed Addresses: "),q("small",null,"(comma and/or newline separated)")],-1)),WN={key:0},QN={key:2},JN={class:"mb-5 pl-5"},YN=Fn(()=>q("label",{for:"xchain-chainid",class:"mr-3 text-base text-gray-900 p-3"}," Chain: ",-1)),qN=Fn(()=>q("option",{value:""},"-- Custom --",-1)),ZN=["value"],XN={class:"mb-5 pl-5"},eO={for:"xchain-addr"},tO={class:"flex gap-2"},nO={key:0},rO={key:0,class:"mb-5 pl-5"},iO={for:"xchain-holder"},sO={class:"flex gap-2"},oO={key:1,class:"mb-5 pl-5"},aO={for:"xchain-slot"},cO={class:"flex gap-2"},fO={key:2,class:"mb-5 pl-5"},lO={for:"xchain-hash"},uO={class:"flex justify-center"},dO={key:0},hO={key:0},bO={key:1},pO={key:1},gO={class:"pt-5"},mO=Fn(()=>q("h2",{class:"capitalize text-white text-2xl font-bold mb-4"},"Wrong Web3 Chain!",-1)),yO=Fn(()=>q("p",{class:"text-white text-base mb-10"},' In order to continue to use the app, please switch your Web3 wallet to the correct chain, by clicking on the "Connect" button below. ',-1)),xO={class:"flex justify-center"},wO={key:0,class:"text-red-500 px-3 mt-5 rounded-xl-sm"},vO=Fn(()=>q("span",{class:"font-bold"},"Errors:",-1)),EO={class:"list-disc px-8"},AO={key:1},_O=Fn(()=>q("h3",{class:"text-white text-3xl mb-4"},"Success",-1)),PO=Fn(()=>q("p",{class:"text-white text-base"},"Your poll is live.",-1)),TO=Fn(()=>q("p",{class:"text-white text-base mb-24"},"Votes will be recorded from now on.",-1)),IO={key:1},CO={class:"pt-5"},SO=Fn(()=>q("h2",{class:"capitalize text-white text-2xl font-bold mb-4"}," No Web3 Wallet Connected! ",-1)),kO=Fn(()=>q("p",{class:"text-white text-base mb-10"},' In order to continue to use the app, please connect your Web3 wallet and switch to the correct chain, by clicking on the "Connect" button below. ',-1)),BO={class:"flex justify-center"},RO=Ar({__name:"CreatePollView",setup(t){const e=Po(),n=gb(),r=Ye([]),i=Ye(""),s=Ye(""),o=Ye(Array.from({length:3},(x,_)=>({key:_,value:""}))),a=Ye(!1),c=Ye(""),f=Ye(void 0),l=Kt(()=>{if(ct(a)){const x=c.value;if(!x)return f.value=void 0,!1;try{return f.value=Im(x),!0}catch{return f.value=void 0,!1}}return f.value=void 0,!0}),u="0xFb7a614328c7DCe710A45B41ca64D61296bb100c",p="0xb36b982303f5b3D9A1fBC2DA3d297DE4692Bb563",m="0x32F4691143c406a3A533bCA4C51641da3C996A79",A="0x3C6fcaDdd95987F0ca46f9cc068b38217eF559aD",E=Ye(u),I=Ye(""),w=Kt(()=>{const x=ct(I).split(`
`).flatMap(K=>K.split(",")).flatMap(K=>K.split(" ")).map(K=>K.trim()).filter(K=>K.length>0);let _={},G=[],Y=!1;for(const K of x)try{G.push(Wt(K))}catch(ne){ne.code=="INVALID_ARGUMENT"&&(_[K]=ne.shortMessage,Y=!0)}return Y||(_=void 0),{addrs:G,invalid:_}}),N=Ye(""),F=Kt(()=>{const x=ct(N);if(x)try{Wt(x)}catch(_){if(_.code=="INVALID_ARGUMENT")return _.shortMessage}}),U=Kt(()=>ct(N)&&ct(F)===void 0),H=qC(async()=>{if(!ct(U))return;const x=ct(N);if(x)return await O6(x,e.provider)}),z=Ye(1),ce=Ye(""),ee=Ye(),ae=Ye(""),Te=Ye(!1),Ce=Ye(""),lt=Ye(),ot=Ye(!1),Mt=Ye(),me=Ye(!1),xe=Kt(()=>{const x=ct(z);if(x)return o2(x)});hf(ae,async x=>{let _;try{_=Wt(ct(x)),console.log("Got addr",_)}catch{Te.value=!1;return}const G=ct(xe);if(G){try{if(await eN(G,_)){console.log("xchain_addr is Token"),Te.value=!0;return}}catch{console.log("xchain_addr is not token!")}Te.value=!1}}),hf(Ce,async x=>{const _=ct(xe);if(_&&ct(Te)){const G=ct(ae),Y=ct(x),K=await tN(_,G,Y);K&&(console.log("Slot is",K),ot.value=!0,lt.value=K.balance,Mt.value=K.index,me.value=!0,ce.value||await He())}});async function He(){const _=await ct(xe).getBlock("latest");if(_&&_.hash)return ce.value=_.hash,ee.value=_.number,_.hash}const tt=Ye(!1),ze=Ye(""),Ke=Kt(()=>{const x=ct(ze);if(!x)return;const _=new Date(x);return isNaN(_.valueOf())?void 0:_}),De=Kt(()=>{if(tt.value&&Ke.value!==void 0)return Ke.value<new Date}),Me=Kt(()=>{if(ct(tt)){const x=ct(Ke);return x!==void 0&&x>new Date}return!0}),dt=Kt(()=>ct(E)==A?!ct(Se)&&ct(Me)&&ct(l)&&ct(Te)&&ct(ot&&ct(Mt)):!ct(Se)&&ct(Me)&&ct(l)),it=Ye(!1),Se=Ye(!1),V=Ye("");let O=3;const j=x=>o.value.splice(x,1),te=()=>{o.value.push({key:O,value:""}),O++};async function oe(x){if(!(x.target instanceof HTMLFormElement&&(x.target.checkValidity(),!x.target.reportValidity()))){x.preventDefault();try{r.value.splice(0,r.value.length),Se.value=!0,V.value=await k()}catch(_){r.value.push(`Failed to create poll: ${_.message??JSON.stringify(_)}`),console.error(_)}finally{Se.value=!1}}}async function C(){const x=ct(E),_=Tf.defaultAbiCoder();if(x==u)return["0x",{address:x,options:{allowAll:!0}}];if(x==p){const G=ct(N);return[_.encode(["address"],[G]),{address:x,options:{token:G}}]}if(x==m){const{addrs:G,invalid:Y}=ct(w);if(Y)throw console.log("Invalid is",Y),console.log("Addrs is",G),new Error("Cannot setup allow list while invalid entries exist");return[_.encode(["address[]"],[G]),{address:x,options:{allowList:!0}}]}if(x==A){const G=ct(z),Y=o2(G),K=ct(ce),ne=ct(ae),we=await sN(Y,K,iN),ye=await rN(Y,K,ne);return console.log("headerRlpBytes",we),console.log("rlpAccountProof",ye),[_.encode(["tuple(tuple(bytes32,address,uint256),bytes,bytes)"],[[[K,ne,ct(Mt)],we,ye]]),{address:x,options:{xchain:{chainId:G,blockHash:K,address:ne,slot:ct(Mt)}}}]}throw new Error(`Unknown ACL contract ${x}`)}async function k(){if(r.value.length>0)return"";const[x,_]=await C(),G={creator:e.address,name:i.value,description:s.value,choices:o.value.map(Fe=>Fe.value),options:{publishVotes:it.value,closeTimestamp:ct(Ke)?ct(Ke).valueOf()/1e3:0},acl:_},{key:Y,cipherbytes:K}=tS(G),ne=await Q1.pinData(K);console.log("Poll ipfsHash",ne);const we={ipfsHash:ne,ipfsSecret:Y,numChoices:o.value.length,publishVotes:G.options.publishVotes,closeTimestamp:G.options.closeTimestamp,acl:ct(E)};console.log("doCreatePoll: Using direct transaction to create proposal");const _e=await j5().create(we,x,{value:ct(f)??0n});console.log("doCreatePoll: creating proposal tx",_e.hash);const le=await _e.wait();if(le.status!==1)throw new Error("createProposal tx receipt reported failure.");const Ie=le.logs[0].data;return console.log("doCreatePoll: Proposal ID",Ie),rS(n.value.ballotIsActive(Ie),Fe=>{if(!Fe)throw new Error("Unable to determine the status of proposal.");return Fe}).then(()=>Ie.replace("0x","")).catch(Fe=>(r.value.push(`Failed to create poll: ${Fe.message??JSON.stringify(Fe)}`),""))}return(x,_)=>{var Y,K;const G=Tl("RouterLink");return Et(e).signer?(be(),Ae("div",oN,[V.value?(be(),Ae("section",AO,[qe(K5,null,{default:dn(()=>[_O,PO,TO,qe(G,{to:{name:"poll",params:{id:V.value}}},{default:dn(()=>[qe(Rr,{variant:"secondary"},{default:dn(()=>[an("View poll")]),_:1})]),_:1},8,["to"])]),_:1})])):(be(),Ae("section",aN,[cN,q("form",{onSubmit:oe},[q("div",fN,[lr(q("input",{type:"text",id:"question",class:"peer",placeholder:" ","onUpdate:modelValue":_[0]||(_[0]=ne=>i.value=ne),required:""},null,512),[[Ni,i.value]]),lN]),q("div",uN,[lr(q("textarea",{id:"description",class:"peer",placeholder:" ","onUpdate:modelValue":_[1]||(_[1]=ne=>s.value=ne),rows:"3"},null,512),[[Ni,s.value]]),dN]),q("div",hN,[bN,(be(!0),Ae(kn,null,Bs(o.value,(ne,we)=>(be(),Ae("div",{class:"relative flex justify-between items-center mb-4 gap-3 px-5",key:ne.key},[lr(q("input",{class:"focus:outline-none focus:ring-0 pb-2 text-primaryDark",type:"text",id:"name",placeholder:`${we+1}. Answer`,"onUpdate:modelValue":ye=>o.value[we].value=ye,required:""},null,8,pN),[[Ni,o.value[we].value]]),o.value.length>2?(be(),Wn(Ek,{key:0,class:Fs(["cursor-pointer absolute right-5 bottom-2",{"cursor-default":Se.value}]),disabled:Se.value,"data-ix":we,onClick:mu(ye=>j(we),["prevent"])},null,8,["class","disabled","data-ix","onClick"])):St("",!0)]))),128)),qe(Rr,{class:"ml-5",size:"small",variant:"tertiary",disabled:Se.value,onClick:mu(te,["prevent"])},{default:dn(()=>[q("span",gN,[qe(Sk),mN])]),_:1},8,["disabled"])]),q("div",yN,[q("div",xN,[lr(q("input",{id:"publish-votes",class:"w-5 h-5 border-2 border-gray-500",type:"checkbox","onUpdate:modelValue":_[2]||(_[2]=ne=>it.value=ne)},null,512),[[j6,it.value]]),wN]),q("div",vN,[lr(q("input",{id:"has-expiration",class:"w-5 h-5 border-2 border-gray-500",type:"checkbox","onUpdate:modelValue":_[3]||(_[3]=ne=>tt.value=ne)},null,512),[[j6,tt.value]]),q("label",EN,[tt.value?(be(),Ae("div",AN,[lr(q("input",{type:"datetime-local","onUpdate:modelValue":_[4]||(_[4]=ne=>ze.value=ne)},null,512),[[Ni,ze.value]]),Ke.value?(be(),Ae("div",_N,[an(Yt(Ke.value)+" ",1),De.value?(be(),Ae("div",PN,IN)):St("",!0)])):St("",!0)])):(be(),Ae("div",CN," Set poll closing date & time "))])]),q("div",SN,[lr(q("input",{id:"has-subsidy",class:"w-5 h-5 border-2 border-gray-500",type:"checkbox","onUpdate:modelValue":_[5]||(_[5]=ne=>a.value=ne)},null,512),[[j6,a.value]]),q("label",kN,[an(" Subsidise votes "),BN,a.value?(be(),Ae("span",RN,[lr(q("input",{"onUpdate:modelValue":_[6]||(_[6]=ne=>c.value=ne),type:"text"},null,512),[[Ni,c.value]]),an(" ROSE ")])):St("",!0)])]),q("div",NN,[ON,lr(q("select",{id:"poll-acl",class:"p-3","onUpdate:modelValue":_[7]||(_[7]=ne=>E.value=ne)},[q("option",{value:Et(u)},"Allow All",8,LN),q("option",{value:Et(p)},"Holds Token on Sapphire",8,FN),q("option",{value:Et(m)},"Address Whitelist",8,MN),q("option",{value:Et(A)},"Cross-Chain DAO",8,UN)],512),[[yp,E.value]])]),ct(E.value)==Et(p)?(be(),Ae("div",DN,[q("div",HN,[GN,lr(q("input",{type:"text",id:"holder-addr","onUpdate:modelValue":_[8]||(_[8]=ne=>N.value=ne)},null,512),[[Ni,N.value]]),F.value?(be(),Ae("div",VN,Yt(F.value),1)):St("",!0),U.value?(be(),Ae("div",$N,[Et(H)?(be(),Ae("span",zN,Yt((Y=Et(H))==null?void 0:Y.name)+" ("+Yt((K=Et(H))==null?void 0:K.symbol)+") ",1)):St("",!0)])):St("",!0)])])):St("",!0),ct(E.value)==Et(m)?(be(),Ae("div",jN,[KN,lr(q("textarea",{id:"acl-allowlist","onUpdate:modelValue":_[9]||(_[9]=ne=>I.value=ne)},null,512),[[Ni,I.value]]),w.value.invalid?(be(),Ae("div",WN,[q("ul",null,[(be(!0),Ae(kn,null,Bs(w.value.invalid,(ne,we)=>(be(),Ae("li",null,Yt(ne)+": "+Yt(we),1))),256))])])):St("",!0)])):St("",!0),ct(E.value)==Et(A)?(be(),Ae("div",QN,[q("div",JN,[YN,lr(q("select",{"onUpdate:modelValue":_[10]||(_[10]=ne=>z.value=ne),id:"xchain-chainid",class:"p-3"},[qN,(be(!0),Ae(kn,null,Bs(Et(XR),(ne,we)=>(be(),Ae("option",{value:ne},Yt(we)+" ("+Yt(ne)+")",9,ZN))),256))],512),[[yp,z.value]])]),q("div",XN,[q("label",eO,[q("span",tO,[an(" Address"),Te.value?(be(),Wn(E1,{key:0})):St("",!0)])]),lr(q("input",{type:"text",id:"xchain-addr","onUpdate:modelValue":_[11]||(_[11]=ne=>ae.value=ne)},null,512),[[Ni,ae.value]]),Te.value?St("",!0):(be(),Ae("div",nO," Not valid! "))]),Te.value?(be(),Ae("div",rO,[q("label",iO,[q("span",sO,[an(" Holder"),ot.value?(be(),Wn(E1,{key:0})):St("",!0)])]),lr(q("input",{type:"text",id:"xchain-holder","onUpdate:modelValue":_[12]||(_[12]=ne=>Ce.value=ne)},null,512),[[Ni,Ce.value]])])):St("",!0),ot.value?(be(),Ae("div",oO,[q("label",aO,[q("span",cO,[an(" Storage Slot"),(lt.value??0)>0?(be(),Wn(E1,{key:0})):St("",!0)])]),lr(q("input",{type:"text",id:"xchain-slot","onUpdate:modelValue":_[13]||(_[13]=ne=>Mt.value=ne)},null,512),[[Ni,Mt.value]]),q("span",null,Yt((lt.value??0)>0?`NOTE. Account holds a balance of ${lt.value}`:""),1)])):St("",!0),ot.value?(be(),Ae("div",fO,[q("label",lO,[z.value?(be(),Ae("button",{key:0,onClick:mu(He,["prevent"]),class:"bg-blue-500 rounded p-1 px-2 text-white"}," Refresh block ")):St("",!0)]),lr(q("input",{type:"text",id:"xchain-hash","onUpdate:modelValue":_[14]||(_[14]=ne=>ce.value=ne)},null,512),[[Ni,ce.value]]),q("span",null,Yt((ee.value??0)>0?`NOTE. Block height is ${ee.value}`:""),1)])):St("",!0)])):St("",!0)]),q("div",uO,[Et(e).isHomeChain?(be(),Ae("div",dO,[qe(Rr,{type:"submit",variant:"primary",disabled:!dt.value},{default:dn(()=>[Se.value?(be(),Ae("span",hO,"Creating")):(be(),Ae("span",bO," Create Poll "))]),_:1},8,["disabled"])])):(be(),Ae("div",pO,[q("section",gO,[mO,yO,q("div",xO,[qe(Rr,{variant:"secondary",onClick:Et(e).connect},{default:dn(()=>[an("Switch Chain")]),_:1},8,["onClick"])])])]))]),r.value.length>0?(be(),Ae("div",wO,[vO,q("ul",EO,[(be(!0),Ae(kn,null,Bs(r.value,ne=>(be(),Ae("li",{key:ne},Yt(ne),1))),128))])])):St("",!0)],32)]))])):(be(),Ae("div",IO,[q("section",CO,[SO,kO,q("div",BO,[qe(Rr,{variant:"secondary",onClick:Et(e).connect},{default:dn(()=>[an("Connect")]),_:1},8,["onClick"])])])]))}}}),NO=Dr(RO,[["__scopeId","data-v-eb0a99ea"]]),OO=Ar({__name:"AppBadge",props:{variant:{}},setup(t){return(e,n)=>(be(),Ae("span",{class:Fs(["badge",{"badge-active":e.variant==="active","badge-closed":e.variant==="closed"}])},[v2(e.$slots,"default",{},void 0,!0)],2))}}),LO=Dr(OO,[["__scopeId","data-v-02503d7b"]]),FO={},MO={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},UO=q("g",{"clip-path":"url(#clip0_56_971)"},[q("path",{d:"M12 7.1333C9.24 7.1333 7 9.3733 7 12.1333C7 14.8933 9.24 17.1333 12 17.1333C14.76 17.1333 17 14.8933 17 12.1333C17 9.3733 14.76 7.1333 12 7.1333ZM12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z",fill:"currentColor"})],-1),DO=q("defs",null,[q("clipPath",{id:"clip0_56_971"},[q("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.133301)"})])],-1),HO=[UO,DO];function GO(t,e){return be(),Ae("svg",MO,HO)}const VO=Dr(FO,[["render",GO]]),$O={},zO={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jO=q("g",{"clip-path":"url(#clip0_56_273)"},[q("path",{d:"M12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z",fill:"currentColor"})],-1),KO=q("defs",null,[q("clipPath",{id:"clip0_56_273"},[q("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.133301)"})])],-1),WO=[jO,KO];function QO(t,e){return be(),Ae("svg",zO,WO)}const JO=Dr($O,[["render",QO]]),YO=q("rect",{x:"5",y:"10",rx:"3",ry:"3",width:"361",height:"28"},null,-1),qO=q("rect",{x:"5",y:"26",rx:"3",ry:"3",width:"52",height:"6"},null,-1),ZO=q("rect",{x:"5",y:"61",rx:"3",ry:"3",width:"410",height:"16"},null,-1),XO=q("rect",{x:"680",y:"10",rx:"0",ry:"0",width:"80",height:"19"},null,-1),eL=Ar({__name:"PollDetailsLoader",setup(t){return(e,n)=>(be(),Wn(Et(l4),{viewBox:"0 0 768 124",speed:2,primaryColor:"white",secondaryColor:"#e3e3e3"},{default:dn(()=>[YO,qO,ZO,XO]),_:1}))}}),qn=t=>(Qd("data-v-fab844a9"),t=t(),Jd(),t),tL={key:0},nL={key:0},rL={class:"flex justify-between items-center mb-4"},iL={class:"capitalize text-white text-2xl font-bold"},sL={class:"text-white text-base mb-10"},oL={key:0},aL={class:"flex gap-2"},cL={class:"leading-6"},fL={key:2,class:"leading-6"},lL={key:1,class:"text-white text-base mt-10"},uL={key:2,class:"capitalize text-white text-2xl font-bold mt-10"},dL=qn(()=>q("label",{class:"inline-block mb-5"},"Individual votes",-1)),hL={key:3,class:"m-5 text-center text-white p-2"},bL={key:0},pL=qn(()=>q("br",null,null,-1)),gL=qn(()=>q("br",null,null,-1)),mL=qn(()=>q("br",null,null,-1)),yL={key:4,class:"text-white text-center m-5 p-2"},xL={key:5,class:"text-white text-center m-5 p-2"},wL=qn(()=>q("br",null,null,-1)),vL=qn(()=>q("br",null,null,-1)),EL=qn(()=>q("br",null,null,-1)),AL=qn(()=>q("br",null,null,-1)),_L=qn(()=>q("br",null,null,-1)),PL={key:6,class:"flex justify-between items-start mt-6"},TL={key:0},IL={key:1},CL={key:0},SL={key:0},kL={key:1},BL={key:7,class:"text-white text-base mt-10"},RL=qn(()=>q("p",{class:"mb-5 font-bold"},"Gasless voting enabled:",-1)),NL=["title"],OL=["onClick"],LL={key:8},FL=qn(()=>q("br",null,null,-1)),ML=qn(()=>q("br",null,null,-1)),UL={key:0,class:"pt-5"},DL=qn(()=>q("h2",{class:"capitalize text-white text-2xl font-bold mb-4"},"Web3 Wallet Required to Vote",-1)),HL=qn(()=>q("p",{class:"text-white text-base mb-10"},' In order to continue to use the app and vote on a poll, please connect your Web3 wallet by clicking on the "Connect" button below. ',-1)),GL={class:"flex justify-center"},VL={key:1,class:"pt-5"},$L=qn(()=>q("h2",{class:"capitalize text-white text-2xl font-bold mb-4"},"Please Connect to Sapphire",-1)),zL=qn(()=>q("p",{class:"text-white text-base mb-10"},' In order to continue to use the app and vote on a poll, please switch your Web3 wallet to Oasis Sapphire by clicking on the "Switch" button below. ',-1)),jL={class:"flex justify-center"},KL={key:9,class:"error mt-2 text-center"},WL={class:"font-bold"},QL={key:1},JL=qn(()=>q("h3",{class:"text-white text-3xl mb-10"},"Thank you",-1)),YL={class:"flex gap-2"},qL={key:1,class:"text-white text-center text-base mb-24"},ZL={key:2},XL=qn(()=>q("p",{class:"text-white text-base mb-4"},"The poll has been closed.",-1)),eF=Ar({__name:"PollView",props:{id:{}},setup(t){const e=t,n=`0x${e.id}`,r=Tv(),i=gb(),s=Po(),o=FS(),a=Ye(""),c=Ye(!1),f=Ye(!1),l=Ye(!1),u=Ye(!1),p=Ye(),m=Ye(void 0),A=Ye(),E=Ye(void 0),I=Ye([]),w=Ye({out_count:0n,out_voters:[],out_choices:[]});let N=Ye(!1),F=Ye(!1);const U=Ye([]),H=Ye(),z=Ye(0n),ce=Ye(!1),ee=Ye(),ae=Ye(!1),Te=Ye(),Ce=Ye(""),lt=Ye(!1),ot=Kt(()=>!s.address||m.value!==void 0||A.value===void 0||E.value!==void 0?!1:F.value!=!1),Mt=Kt(()=>m.value!==void 0?!1:s.address===void 0?!0:E.value===void 0);async function me(){await s.switchNetwork();const Ke=await j5().close(n);console.log("Close proposal tx",Ke),l.value=!0;try{if((await Ke.wait()).status!=1)throw new Error("close ballot tx failed");u.value=!0}catch(De){console.log(De)}finally{l.value=!1}}async function xe(ze){ze.preventDefault();try{a.value="",c.value=!0,await He(),f.value=!0}finally{c.value=!1}}async function He(){if(A.value===void 0)throw new Error("no choice selected");const ze=A.value,Ke=(await o).value;let De=!0;if(ct(z)>0n){if(!s.signer)throw new Error("No signer!");const Me={dao:"0x3b6421460FcFe43441906062A0eE8A879d2A2Efa",voter:await s.signer.getAddress(),proposalId:n,choiceId:ze},dt=await s.signer.signTypedData({name:"GaslessVoting",version:"1",chainId:"23295",verifyingContract:await Ke.getAddress()},{VotingRequest:[{name:"voter",type:"address"},{name:"dao",type:"address"},{name:"proposalId",type:"bytes32"},{name:"choiceId",type:"uint256"}]},Me),it=Si.from(dt),Se=H9(ct(U)),V=await s.provider.getTransactionCount(Se);console.log(`Gasless voting, chose address:${Se} (nonce: ${V})`);const O=await s.provider.getFeeData();console.log("doVote.gasless: constructing tx","gasPrice",O.gasPrice);const j=await Ke.makeVoteTransaction(Se,V,O.gasPrice,Me,ct(Ce),it);let te,oe=null;try{const C=Pf.from(j),k=await s.provider.estimateGas(C);console.log("TxDecodedGas",k),te=await s.provider.broadcastTransaction(j),console.log("doVote.gasless: waiting for tx",te.hash),oe=await s.provider.waitForTransaction(te.hash)}catch(C){if(C.message.includes("insufficient balance to pay fees"))De=!0,console.log("Insufficient balance!");else throw C}if(oe===null||oe.status!=1){let C="";if(oe&&(C=`

Falied tx: ${oe.hash}`),console.log("Receipt is",oe),confirm(`Error submitting from subsidy account, submit from your own account? ${C}`))De=!0;else throw new Error(`gasless voting failed: ${oe}`)}else console.log("doVote.gasless: success"),De=!1}if(De&&(console.log("doVote: casting vote using normal tx"),await s.switchNetwork(ns.FromConfig),(await(await j5().vote(n,ze,ct(Ce))).wait()).status!=1))throw new Error("cast vote tx failed");E.value=ze}async function tt(ze){var Me;let Ke=prompt(`Topup voting subsidy account:

  ${ze}

Amount (in ROSE):`,"1");if(!Ke)return;Ke=Ke.trim();const De=Im(Ke);De>0n&&await((Me=s.signer)==null?void 0:Me.sendTransaction({to:ze,value:De,data:"0x"}))}return Yd(async()=>{var te;const{active:ze,params:Ke,topChoice:De}=await i.value.PROPOSALS(n);if(Ke.acl===Ef){console.log(`Empty params! No ACL, Poll ${n} not found!`),r.push({path:`/NotFound/poll/${e.id}`,replace:!0});return}const Me={id:n,active:ze,topChoice:De,params:Ke},dt=await Q1.fetchData(Ke.ipfsHash),it=G9(nt(Me.params.ipfsSecret),dt);p.value={proposal:Me,ipfsParams:it},Me.active||(I.value=await i.value.getVoteCounts(n),A.value=m.value=Me.topChoice,Me.params.publishVotes&&(w.value=await i.value.getVotes(n,0,10)));const Se=c4.connect(Ke.acl,s.provider),V=s.signer?await s.signer.getAddress():Ef;if(N.value=await Se.canManagePoll(await i.value.getAddress(),n,V),ce.value=Ke.acl=="0xb36b982303f5b3D9A1fBC2DA3d297DE4692Bb563",lt.value=Ke.acl=="0x32F4691143c406a3A533bCA4C51641da3C996A79",ae.value=Ke.acl=="0x3C6fcaDdd95987F0ca46f9cc068b38217eF559aD","xchain"in it.acl.options){const oe=it.acl.options.xchain,C=o2(oe.chainId);Te.value=it.acl.options;const k=await((te=s.signer)==null?void 0:te.getAddress());if(k){const x=await nN(C,oe.blockHash,oe.address,oe.slot,k);console.log("Proof is",x),Ce.value=x,F.value=await Se.canVoteOnPoll(await i.value.getAddress(),n,V,x).catch(_=>{console.log(_)})!=0n}}else if("token"in it.acl.options){const oe=it.acl.options.token;Ce.value=new Uint8Array,F.value=await Se.canVoteOnPoll(await i.value.getAddress(),n,V,ct(Ce)).catch(C=>{console.log(C)})!=0n,ee.value=await O6(oe,s.provider)}else"allowList"in it.acl.options?(Ce.value=new Uint8Array,F.value=await Se.canVoteOnPoll(await i.value.getAddress(),n,V,ct(Ce)).catch(oe=>{console.log(oe)})!=0n):"allowAll"in it.acl.options&&(Ce.value=new Uint8Array,F.value=await Se.canVoteOnPoll(await i.value.getAddress(),n,V,ct(Ce)).catch(oe=>{console.log(oe)})!=0n);const j=await(await o).value.listAddresses(await ct(i).getAddress(),n);U.value=j.out_addrs,H.value=j.out_balances,j.out_balances.length>0?z.value=H.value.reduce((oe,C)=>oe+C):z.value=0n,ct(z)>0n&&console.log("Gasless voting available",qp(ct(z)),"ROSE balance, addrs:",U.value.join(", "))}),(ze,Ke)=>{var Me,dt,it,Se,V,O,j,te,oe,C;const De=Tl("RouterLink");return!f.value&&!u.value?(be(),Ae("section",tL,[p.value?(be(),Ae("div",nL,[q("div",rL,[q("h2",iL,Yt(p.value.ipfsParams.name),1),qe(LO,{variant:p.value.proposal.active?"active":"closed"},{default:dn(()=>[an(Yt(p.value.proposal.active?"Active":"Closed"),1)]),_:1},8,["variant"])]),q("p",sL,Yt(p.value.ipfsParams.description),1),q("form",{onSubmit:xe},[(Me=p.value)!=null&&Me.ipfsParams.choices?(be(),Ae("div",oL,[(be(!0),Ae(kn,null,Bs(p.value.ipfsParams.choices,(k,x)=>(be(),Wn(Rr,{key:x,class:Fs([{selected:Number(A.value)===x||x===Number(m.value),"pointer-events-none":c.value||!p.value.proposal.active},"choice-btn mb-2 w-full"]),variant:"choice",onClick:_=>A.value=A.value==BigInt(x)?void 0:BigInt(x),disabled:!Mt.value&&m.value!==void 0&&BigInt(x)!==m.value},{default:dn(()=>[q("span",aL,[A.value===BigInt(x)||BigInt(x)===m.value?(be(),Wn(VO,{key:0})):(be(),Wn(JO,{key:1})),q("span",cL,Yt(k),1),p.value.proposal.active?St("",!0):(be(),Ae("span",fL,"("+Yt(I.value[x])+")",1))])]),_:2},1032,["class","onClick","disabled"]))),128))])):St("",!0),(dt=p.value)!=null&&dt.ipfsParams.options.publishVotes&&p.value.proposal.active?(be(),Ae("p",lL," Votes will be made public after voting has ended. ")):St("",!0),(it=p.value)!=null&&it.ipfsParams.options.publishVotes&&!p.value.proposal.active?(be(),Ae("div",uL,[dL,(be(!0),Ae(kn,null,Bs(w.value.out_voters[0],(k,x)=>(be(),Ae("p",{key:x,class:"text-white text-base",variant:"addr"},Yt(k)+": "+Yt(p.value.ipfsParams.choices[Number(w.value.out_choices[x])]),1))),128))])):St("",!0),ce.value?(be(),Ae("div",hL,[an(" Voting on this poll is restricted to holders of a token on Sapphire. "),ee.value?(be(),Ae("div",bL,[pL,an(" "+Yt(ee.value.addr),1),gL,mL,an(" "+Yt(ee.value.name)+" (",1),q("b",null,Yt(ee.value.symbol),1),an(") ")])):St("",!0)])):St("",!0),lt.value?(be(),Ae("div",yL," Voting on this poll is restricted to a list of addresses. ")):St("",!0),ae.value?(be(),Ae("div",xL,[an(" Only token holders of a cross-chain token may vote on this poll:"),wL,vL,an(" Address: "),q("b",null,Yt((Se=Te.value)==null?void 0:Se.xchain.address),1),EL,an(" Chain ID: "),q("b",null,Yt((V=Te.value)==null?void 0:V.xchain.chainId),1),AL,an(" Snapshot Block: "),q("b",null,Yt((O=Te.value)==null?void 0:O.xchain.blockHash),1),_L])):St("",!0),(te=(j=p.value)==null?void 0:j.proposal)!=null&&te.active&&Et(s).signer&&Et(s).isSapphire?(be(),Ae("div",PL,[qe(Rr,{type:"submit",variant:"primary",disabled:!ot.value||c.value||l.value,onClick:xe},{default:dn(()=>[c.value?(be(),Ae("span",TL,"Submitting Vote")):c.value?St("",!0):(be(),Ae("span",IL,"Submit vote"))]),_:1},8,["disabled"]),Et(N)?(be(),Ae("div",CL,[qe(Rr,{variant:"secondary",onClick:me,disabled:l.value},{default:dn(()=>[l.value?(be(),Ae("span",SL,"Closing...")):(be(),Ae("span",kL,"Close poll"))]),_:1},8,["disabled"])])):St("",!0)])):St("",!0),U.value.length>0?(be(),Ae("div",BL,[RL,q("ul",null,[(be(!0),Ae(kn,null,Bs(U.value,(k,x)=>(be(),Ae("li",null,[q("abbr",{title:k},[q("code",null,Yt(Et(bb)(k)),1)],8,NL),an(" ("+Yt(Et(qp)(H.value[x]))+" ROSE) ",1),Et(s).signer?(be(),Ae("a",{key:0,href:"#",onClick:mu(_=>tt(k),["prevent"]),class:"rounded bg-white text-black p-2 ml-5 text-xs"}," Topup ",8,OL)):St("",!0)]))),256))])])):(C=(oe=p.value)==null?void 0:oe.proposal)!=null&&C.active?(be(),Ae("div",LL,[FL,ML,Et(s).signer?Et(s).isSapphire?St("",!0):(be(),Ae("section",VL,[$L,zL,q("div",jL,[qe(Rr,{variant:"secondary",onClick:Et(s).connect},{default:dn(()=>[an("Switch")]),_:1},8,["onClick"])])])):(be(),Ae("section",UL,[DL,HL,q("div",GL,[qe(Rr,{variant:"secondary",onClick:Et(s).connect},{default:dn(()=>[an("Connect")]),_:1},8,["onClick"])])]))])):St("",!0),a.value?(be(),Ae("p",KL,[q("span",WL,Yt(a.value),1)])):St("",!0)],32)])):(be(),Wn(eL,{key:1}))])):f.value?(be(),Ae("section",QL,[qe(K5,null,{default:dn(()=>{var k,x,_;return[JL,(x=(k=p.value)==null?void 0:k.ipfsParams)!=null&&x.choices&&A.value?(be(),Wn(Rr,{key:0,class:"mb-4 pointer-events-none cursor-not-allowed w-full voted",variant:"choice"},{default:dn(()=>[q("span",YL,[qe(E1,{class:"w-7"}),an(" "+Yt(p.value.ipfsParams.choices[Number(A.value)]),1)])]),_:1})):St("",!0),(_=p.value)!=null&&_.ipfsParams.options.publishVotes?(be(),Ae("p",qL," Your vote will be published after voting has ended. ")):St("",!0),qe(De,{to:"/"},{default:dn(()=>[qe(Rr,{variant:"secondary"},{default:dn(()=>[an("Go to overview")]),_:1})]),_:1})]}),_:1})])):u.value?(be(),Ae("section",ZL,[qe(K5,null,{default:dn(()=>[XL,qe(De,{to:"/"},{default:dn(()=>[qe(Rr,{variant:"secondary"},{default:dn(()=>[an("Go to overview")]),_:1})]),_:1})]),_:1})])):St("",!0)}}}),tF=Dr(eF,[["__scopeId","data-v-fab844a9"]]),nF={},rF={class:"404"},iF=q("h1",{class:"text-white text-center text-3xl mb-4"},"404",-1),sF=q("h1",{class:"text-white text-center text-2xl"},"Page not found",-1),oF=[iF,sF];function aF(t,e){return be(),Ae("div",rF,oF)}const cF=Dr(nF,[["render",aF]]),fF=_v({strict:!0,history:G7("/"),routes:[{path:"/",component:gk},{path:"/polls",component:NO,name:"createPoll"},{path:"/polls/:id([0-9a-fA-F]{64,64})",component:tF,props:!0,name:"poll"},{path:"/:path(.*)",name:"NotFound",component:cF}]});console.log("Web3 Gateway","https://testnet.sapphire.oasis.dev");const Ob=d7(AS);Ob.use(g7());Ob.use(fF);Ob.mount("#app")});export default uF();
//# sourceMappingURL=index-MwXsfBgv.js.map

</script></body>
</html>
